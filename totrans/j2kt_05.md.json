["```java\npublic class UserPreferences {\n\n    private String greeting;\n    private Locale locale;\n    private Currency currency;\n\n    public UserPreferences() {\n        this(\"Hello\", Locale.UK, Currency.getInstance(Locale.UK));\n    }\n\n    public UserPreferences(String greeting, Locale locale, Currency currency) {\n        this.greeting = greeting;\n        this.locale = locale;\n        this.currency = currency;\n    }\n\n    public String getGreeting() {\n        return greeting;\n    }\n\n    public void setGreeting(String greeting) {\n        this.greeting = greeting;\n    }\n\n    ... getters and setters for locale and currency\n}\n```", "```java\npublic class Application {\n\n    private final UserPreferences preferences;\n\n    public Application(UserPreferences preferences) {\n        this.preferences = preferences;\n    }\n\n    public void showWelcome() {\n        new WelcomeView(preferences).show();\n    }\n\n    public void editPreferences() {\n        new PreferencesView(preferences).show();\n    }\n    ...\n}\n```", "```java\npublic class PreferencesView extends View {\n\n    private final UserPreferences preferences;\n    private final GreetingPicker greetingPicker = new GreetingPicker();\n    private final LocalePicker localePicker = new LocalePicker();\n    private final CurrencyPicker currencyPicker = new CurrencyPicker();\n\n    public PreferencesView(UserPreferences preferences) {\n        this.preferences = preferences;\n    }\n\n    public void show() {\n        greetingPicker.setGreeting(preferences.getGreeting());\n        localePicker.setLocale(preferences.getLocale());\n        currencyPicker.setCurrency(preferences.getCurrency());\n        super.show();\n    }\n\n    protected void onGreetingChange() {\n        preferences.setGreeting(greetingPicker.getGreeting());\n    }\n\n    protected void onLocaleChange() {\n        preferences.setLocale(localePicker.getLocale());\n    }\n\n    protected void onCurrencyChange() {\n        preferences.setCurrency(currencyPicker.getCurrency());\n    }\n    ...\n}\n```", "```java\nclass Application(\n    private val preferences: UserPreferences\n) {\n    fun showWelcome() {\n        WelcomeView(preferences).show()\n    }\n\n    fun editPreferences() {\n        PreferencesView(preferences).show()\n    }\n    ...\n}\n```", "```java\nclass UserPreferences @JvmOverloads constructor(\n    var greeting: String = \"Hello\",\n    var locale: Locale = Locale.UK,\n    var currency: Currency = Currency.getInstance(Locale.UK)\n)\n```", "```java\nclass PreferencesView(\n    private val preferences: UserPreferences\n) : View() {\n    private val greetingPicker = GreetingPicker()\n    private val localePicker = LocalePicker()\n    private val currencyPicker = CurrencyPicker()\n\n    override fun show() {\n        greetingPicker.greeting = preferences.greeting\n        localePicker.locale = preferences.locale\n        currencyPicker.currency = preferences.currency\n        super.show()\n    }\n\n    protected fun onGreetingChange() {\n        preferences.greeting = greetingPicker.greeting\n    }\n\n    ... onLocaleChange, onCurrencyChange\n}\n```", "```java\nfun showModal(): UserPreferences {\n    greetingPicker.greeting = preferences.greeting\n    localePicker.locale = preferences.locale\n    currencyPicker.currency = preferences.currency\n    show()\n    return preferences\n}\n```", "```java\nclass Application(\n    private var preferences: UserPreferences ![1](assets/1.png)\n) {\n    ...\n\n    fun editPreferences() {\n        preferences = PreferencesView(preferences).showModal()\n    }\n    ...\n}\n```", "```java\nclass PreferencesView(\n    private var preferences: UserPreferences\n) : View() {\n    private val greetingPicker = GreetingPicker()\n    private val localePicker = LocalePicker()\n    private val currencyPicker = CurrencyPicker()\n\n    fun showModal(): UserPreferences {\n        greetingPicker.greeting = preferences.greeting\n        localePicker.locale = preferences.locale\n        currencyPicker.currency = preferences.currency\n        show()\n        return preferences\n    }\n\n    protected fun onGreetingChange() {\n        preferences = UserPreferences(\n            greetingPicker.greeting,\n            preferences.locale,\n            preferences.currency\n        )\n    }\n\n    ... onLocaleChange, onCurrencyChange\n}\n```", "```java\ndata class UserPreferences(\n    val greeting: String,\n    val locale: Locale,\n    val currency: Currency\n)\n```", "```java\nclass PreferencesView : View() {\n    private val greetingPicker = GreetingPicker()\n    private val localePicker = LocalePicker()\n    private val currencyPicker = CurrencyPicker()\n\n    fun showModal(preferences: UserPreferences): UserPreferences {\n        greetingPicker.greeting = preferences.greeting\n        localePicker.locale = preferences.locale\n        currencyPicker.currency = preferences.currency\n        show()\n        return UserPreferences(\n            greeting = greetingPicker.greeting,\n            locale = localePicker.locale,\n            currency = currencyPicker.currency\n        )\n    }\n}\n```", "```java\nclass Application(\n    private var preferences: UserPreferences\n) {\n    fun showWelcome() {\n        WelcomeView(preferences).show()\n    }\n\n    fun editPreferences() {\n        preferences = PreferencesView().showModal(preferences)\n    }\n    ...\n}\n```"]