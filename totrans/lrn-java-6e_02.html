<html><head></head><body><section data-pdf-bookmark="Chapter 2. A First Application" data-type="chapter" epub:type="chapter"><div class="chapter" id="learnjava6-CHP-2">&#13;
<h1><span class="label">Chapter 2. </span>A First Application</h1>&#13;
&#13;
&#13;
<p>Before <a data-primary="applications" data-type="indexterm" id="ix_apps_ch2"/>diving into our full discussion of the Java language, let’s get our feet wet with some working code and splash around a bit. In this chapter, we’ll build a friendly little application that illustrates many of the concepts used throughout the book. We’ll take this opportunity to introduce general features of the Java language and applications.</p>&#13;
&#13;
<p>This chapter also serves as a brief introduction to the object-oriented and multithreaded aspects of Java. If these concepts are new to you, we hope that encountering them here in Java for the first time will be a straightforward and pleasant experience. If you have worked with another object-oriented or multithreaded programming environment, you should especially appreciate Java’s simplicity and elegance. This chapter is intended only to give you a bird’s eye view of the Java language and a feel for how it is used. If you have trouble with any of the concepts introduced here, rest assured they will be covered in greater detail later in the book.</p>&#13;
&#13;
<p>We can’t stress enough the importance of experimentation as you learn new concepts here and throughout the book. Don’t just read the examples—run them. Where we can, we’ll show you how to use <em>jshell</em> (more on that in <a data-type="xref" href="ch03.html#learnjava6-CHP-3-SECT-6">“Trying Java”</a>) to try things in real time. The source code for the examples in this book can be found on <a href="https://github.com/l0y/learnjava6e">GitHub</a>. Compile the programs and try them. Then, turn our examples into your examples: play with them, change their behavior, break them, fix them, and hopefully have some fun along the way.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Java Tools and Environment" data-type="sect1"><div class="sect1" id="learnjava6-CHP-2-SECT-1">&#13;
<h1>Java Tools and Environment</h1>&#13;
&#13;
<p>Although it’s <a data-primary="Java" data-secondary="tools and environment" data-type="indexterm" id="ix_java_tools_ch2"/><a data-primary="applications" data-secondary="Java tools and environment for" data-type="indexterm" id="ix_apps_java_tools"/>possible to write, compile, and run Java applications with nothing more than Oracle’s open source Java Development Kit (OpenJDK) and a simple text editor (such as vi or Notepad), today the vast majority of Java code is written with the benefit of an <a data-primary="Integrated Development Environment (IDE)" data-type="indexterm" id="id709"/><a data-primary="IDE (Integrated Development Environment)" data-type="indexterm" id="id710"/>Integrated Development Environment (IDE). The benefits of using an IDE include an all-in-one view of Java source code with syntax highlighting, navigation help, source control, integrated documentation, building, refactoring, and deployment all at your fingertips. <a data-primary="IDEA (IntelliJ IDEA)" data-type="indexterm" id="id711"/><a data-primary="IntelliJ IDEA" data-type="indexterm" id="id712"/>Therefore, we are going to skip an academic command-line treatment and start with a popular, free IDE—IntelliJ IDEA CE (Community Edition). If you are adverse to using an IDE, feel free to use the command-line commands <strong><code>javac HelloJava.java</code></strong> for compilation and <strong><code>java HelloJava</code></strong> to run the upcoming examples.</p>&#13;
&#13;
<p>IntelliJ IDEA requires Java to be installed. This book covers Java 21 language features, so although the examples in this chapter will work with older versions, it’s best to have JDK 21 installed to ensure that all examples in the book compile. (Java 19 does have all of the most important features available as well, although many are technically in “preview” mode.) The JDK includes several developer tools that we’ll discuss in <a data-type="xref" href="ch03.html#learnjava6-CHP-3">Chapter 3</a>. You can check to see which version, if any, you have installed by typing <strong><code>java -version</code></strong> at the command line. If Java isn’t present, or if it’s a version older than JDK 19, you will want to install a newer version, as discussed in <a data-type="xref" href="#learnjava6-CHP-2-SECT-1.1">“Installing the JDK”</a>. All you’ll need for the examples in this book is the basic JDK.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Installing the JDK" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-1.1">&#13;
<h2>Installing the JDK</h2>&#13;
&#13;
<p>It <a data-primary="JDK (Java Development Kit)" data-type="indexterm" id="ix_jdk_java_dev_kit"/><a data-primary="Java Development Kit (JDK)" data-type="indexterm" id="ix_java_dev_kit_jdk"/>should be said at the outset that you are free to download and use the official, commercial <a href="https://oreil.ly/sYaZm">JDK from Oracle</a> for personal use. The versions available on Oracle’s download page include the latest version and the most recent long-term support version (both are version 21 at the time of this writing), with links to older versions if legacy compatibility is something you must manage. Both Java 8 and Java 11, for example, remain workhorses on the backends of large organizations.</p>&#13;
&#13;
<p>If you plan to use Java in any commercial or shared capacity, however, the Oracle JDK now comes with strict (and paid) licensing terms. For this and other more philosophical reasons, we primarily use the OpenJDK mentioned previously in <a data-type="xref" href="ch01.html#learnjava6-CHP-1-SECT-1.2">“Growing Up”</a>. Regrettably, this open source version does not include installers for all the different platforms. Being open source, however, means other groups are welcome to step in and provide any missing pieces, and several OpenJDK installer-based packages do exist. <a data-primary="Corretto, installing" data-type="indexterm" id="ix_corretto_ch2"/><a data-primary="Amazon Corretto, installing" data-type="indexterm" id="ix_amazon_corr_install"/>Amazon has consistently released timely installers under the <a href="https://oreil.ly/W7noE">Corretto</a> moniker. We’ll go through Corretto’s basic installation steps on Windows, Mac, and Linux in this chapter.</p>&#13;
&#13;
<p>For those who want the latest release and don’t mind a little configuration work, you should take a look at installing the OpenJDK. While not as simple as using typical native installers, installing the OpenJDK on your chosen operating system is usually just a matter of uncompressing the downloaded file into a folder and making sure a few environment variables (<code>JAVA_HOME</code> and <code>PATH</code>) are correctly set. Regardless of which operating system you use, if you are going to use the OpenJDK, you’ll head to <a href="http://jdk.java.net">Oracle’s OpenJDK download page</a>. There they list the current releases as well as any early access versions that are available.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Installing Corretto on Linux" data-type="sect3"><div class="sect3" id="learnjava6-CHP-2-SECT-1.1.1">&#13;
<h3>Installing Corretto on Linux</h3>&#13;
&#13;
<p>For the popular <a data-primary="Linux" data-type="indexterm" id="ix_linux_ch2"/>Debain and Red Hat distros, you can download the appropriate file (<em>.deb</em> or <em>.rpm</em>, respectively) and use your usual package manager to install the JDK. The file for generic Linux systems is a compressed tar file (<em>tar.gz</em>) that can be unpacked in any shared directory of your choice. We’ll go through the steps to unpack and configure this compressed <code>tar</code> file since it works on most Linux distros. These steps use version 17 of Java, but they apply to all of the current and LTS Corretto downloads.</p>&#13;
&#13;
<p>Decide where you want to install the JDK. We’ll store ours in <em>/usr/lib/jvm</em>, but other distros might use other locations, such as <em>/opt</em>, <em>/usr/share</em>, or <em>/usr/local</em>. If you will be the only one using Java on your system, you can even unpack the file under your home directory. Using your favorite terminal app, change to the directory where you downloaded the file and run the following commands to install Java:</p>&#13;
&#13;
<pre data-type="programlisting">~$ cd Downloads&#13;
&#13;
~/Downloads$ sudo tar xzf amazon-corretto-17.0.5.8.1-linux-x64.tar.gz \&#13;
  --directory /usr/lib/jvm&#13;
&#13;
~/Downloads$ /usr/lib/jvm/amazon-corretto-17.0.5.8.1-linux-x64/bin/java -version&#13;
openjdk version "17.0.5" 2022-10-18 LTS&#13;
OpenJDK Runtime Environment Corretto-17.0.5.8.1 (build 17.0.5+8-LTS)&#13;
OpenJDK 64-Bit Server VM Corretto-17.0.5.8.1 (build 17.0.5+8-LTS, mixed mode,&#13;
 sharing)</pre>&#13;
&#13;
<p>You can see that the first line of the version information ends with the <code>LTS</code> initials. This is an easy way to determine if you are using a long-term support version. With Java successfully unpacked, you can configure your terminal to use this version by setting the <code>JAVA_HOME</code> and <code>PATH</code> environment variables:</p>&#13;
&#13;
<pre data-type="programlisting">$ export JAVA_HOME=/usr/lib/jvm/amazon-corretto-17.0.5.8.1-linux-x64&#13;
$ export PATH=$JAVA_HOME/bin:$PATH</pre>&#13;
&#13;
<p>You can test that this setup is working by checking the version of the Java using the <code>-version</code> flag, as shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-linux-java-version">Figure 2-1</a>.</p>&#13;
&#13;
<p>You’ll want to make those <code>JAVA_HOME</code> and <code>PATH</code> changes permanent by updating the startup or rc scripts for your shell. For example, if you use <code>bash</code> as your shell, you could add both of the <code>export</code> lines in <a data-type="xref" href="#learnjava6-CHP-2-FIG-linux-java-version">Figure 2-1</a> to your <em>.bashrc</em> file.<a data-primary="" data-startref="ix_linux_ch2" data-type="indexterm" id="id713"/></p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-linux-java-version">&#13;
<img alt="ljv6 0201" src="assets/ljv6_0201.png"/>&#13;
<h6><span class="label">Figure 2-1. </span>Verifying your Java version in Linux</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Installing Corretto on macOS" data-type="sect3"><div class="sect3" id="learnjava6-CHP-2-SECT-1.1.2">&#13;
<h3>Installing Corretto on macOS</h3>&#13;
&#13;
<p>For users on <a data-primary="macOS" data-type="indexterm" id="ix_macos_ch2"/>macOS systems, the <a href="https://oreil.ly/W7noE">Corretto download</a> and installation process is straightforward. Select the version of the JDK you want to use, then select the <em>.pkg</em> link from the subsequent download page. Double-click the downloaded file to start the wizard.</p>&#13;
&#13;
<p>The installation wizard shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-mac-corretto">Figure 2-2</a> does not allow much real customization. The JDK will be installed on the disk running macOS in its own folder under the &#13;
<span class="keep-together"><em>/Library/Java/JavaVirtualMachines</em></span> directory. It will be symbolically linked to <em>/usr/bin/java</em>. While you can select an alternate installation location if you have separate hard disks with macOS, the defaults work well for the purposes of this book.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-mac-corretto">&#13;
<img alt="ljv6 0202" src="assets/ljv6_0202.png"/>&#13;
<h6><span class="label">Figure 2-2. </span>Corretto installation wizard in macOS</h6>&#13;
</div></figure>&#13;
&#13;
<p>After you complete the installation, you can test Java by opening the <em>Terminal</em> app typically found in the <em>Utilities</em> folder under the global <em>Applications</em> folder. Type <strong><code>java -version</code></strong> and you should see output similar to <a data-type="xref" href="#learnjava6-CHP-2-FIG-mac-java-version">Figure 2-3</a>. We installed version 19 on this system, but you should see whatever version you downloaded reflected in the output.<a data-primary="" data-startref="ix_macos_ch2" data-type="indexterm" id="id714"/></p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-mac-java-version">&#13;
<img alt="ljv6 0203" src="assets/ljv6_0203.png"/>&#13;
<h6><span class="label">Figure 2-3. </span>Verifying your Java version in macOS</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="Installing Corretto on Windows" data-type="sect3"><div class="sect3" id="learnjava6-CHP-2-SECT-1.1.3">&#13;
<h3>Installing Corretto on Windows</h3>&#13;
&#13;
<p>The Corretto installer for <a data-primary="Windows" data-type="indexterm" id="ix_windows_ch2"/>Windows (download the <em>.msi</em> file from <a href="https://oreil.ly/W7noE">Amazon’s site</a>) follows typical Windows install wizards, as seen in <a data-type="xref" href="#learnjava6-CHP-2-FIG-corretto-win">Figure 2-4</a>. You can accept the defaults as you go through the short prompts, or tweak things if you are familiar with administrative tasks, such as configuring environment variables and registry entries. If you are prompted to allow the installer to make changes to your system, go ahead and say yes.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-corretto-win">&#13;
<img alt="ljv6 0204" src="assets/ljv6_0204.png"/>&#13;
<h6><span class="label">Figure 2-4. </span>Corretto installation wizard in Windows</h6>&#13;
</div></figure>&#13;
&#13;
<p>Perhaps you don’t use a command line regularly in Windows, but the <em>Terminal</em> application in new versions of Windows (or <em>Command Prompt</em> application in older versions) serves the same purpose as similar apps in macOS or Linux. From your Windows menu, you can search for <code>term</code> or <code>cmd</code>, as shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-terminal-win">Figure 2-5</a>.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-terminal-win">&#13;
<img alt="ljv6 0205" src="assets/ljv6_0205.png"/>&#13;
<h6><span class="label">Figure 2-5. </span>Locating a terminal application in Windows</h6>&#13;
</div></figure>&#13;
&#13;
<p>Click the appropriate result to start your terminal, and check for the version of Java by typing <strong><code>java -version</code></strong>. In our example, we were running version 19; you should see something similar to <a data-type="xref" href="#learnjava6-CHP-2-FIG-java-version">Figure 2-6</a> but with your version number.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-java-version">&#13;
<img alt="ljv6 0206" src="assets/ljv6_0206.png"/>&#13;
<h6><span class="label">Figure 2-6. </span>Checking the Java version in Windows</h6>&#13;
</div></figure>&#13;
&#13;
<p>You can continue using the terminal, of course, but now you are also free to point other applications such as IntelliJ IDEA at your installed JDK and simply work with those tools. And speaking of IntelliJ IDEA, let’s look at its installation steps in more detail.<a data-primary="" data-startref="ix_jdk_java_dev_kit" data-type="indexterm" id="id715"/><a data-primary="" data-startref="ix_java_dev_kit_jdk" data-type="indexterm" id="id716"/><a data-primary="" data-startref="ix_corretto_ch2" data-type="indexterm" id="id717"/><a data-primary="" data-startref="ix_windows_ch2" data-type="indexterm" id="id718"/><a data-primary="" data-startref="ix_amazon_corr_install" data-type="indexterm" id="id719"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Installing IntelliJ IDEA and Creating a Project" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-1.2">&#13;
<h2>Installing IntelliJ IDEA and Creating a Project</h2>&#13;
&#13;
<p>IntelliJ <a data-primary="IntelliJ IDEA" data-type="indexterm" id="ix_intellij_idea"/><a data-primary="IDEA (IntelliJ IDEA)" data-type="indexterm" id="ix_idea_intellij"/><a data-primary="Swing API" data-secondary="IntelliJ IDEA" data-type="indexterm" id="ix_swing_intellij"/>IDEA is an IDE available at the <a href="https://oreil.ly/Lo9Xk">JetBrains website</a>. For the purposes of this book, and getting started with Java in general, the Community Edition is sufficient. The download is an executable installer or compressed archive: <em>.exe</em> for Windows, <em>.dmg</em> for macOS, and <em>.tar.gz</em> on Linux. The installers (and archives) all follow standard procedures and should feel familiar. If you want a little extra guidance, the <a href="https://oreil.ly/wjooh">installation guide</a> on the JetBrains site is a great resource.</p>&#13;
&#13;
<p>Let’s create a new project. Select File → New → Project from the application menu, and type <strong><code>Learning Java</code></strong> in the “Name” field at the top of the dialog, as shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-6">Figure 2-7</a>. Select a JDK (version 19 or later will suffice) and make sure the “Add sample code” checkbox is selected.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-6">&#13;
<img alt="ljv6 0207" src="assets/ljv6_0207.png"/>&#13;
<h6><span class="label">Figure 2-7. </span>New Java project dialog</h6>&#13;
</div></figure>&#13;
&#13;
<p>You may <a data-primary="classes" data-secondary="IDEA installation" data-type="indexterm" id="ix_class_idea"/>notice the list of generators on the left side of the dialog. The default “New Project” is perfect for our needs. But you can start other projects with templates for things like Kotlin or Android. The default includes a minimal Java class with a <code>main()</code> method that can be executed. The coming chapters will go into much more detail about the structure of Java programs and the commands and statements you can place in those programs. With the default option selected on the left, go ahead and click the Create button. (If you notice a prompt to download shared indexes, go ahead and say yes. The shared indexes are not critical, but they will make IDEA run a little faster.) You should end up with a simple project that includes a <em>Main.java</em> file, as shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-7">Figure 2-8</a>.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-7">&#13;
<img alt="ljv6 0208" src="assets/ljv6_0208.png"/>&#13;
<h6><span class="label">Figure 2-8. </span>The <code>Main</code> class in IDEA</h6>&#13;
</div></figure>&#13;
&#13;
<p>Congratulations! You now have a Java program. You’ll run this example and then expand on it to give it a little more flair. The coming chapters will present more interesting examples piecing together more and more elements of Java. We’ll always build these examples in a similar setup, though. These starting steps are good ones to get under your belt.<a data-primary="" data-startref="ix_idea_intellij" data-type="indexterm" id="id720"/><a data-primary="" data-startref="ix_intellij_idea" data-type="indexterm" id="id721"/><a data-primary="" data-startref="ix_swing_intellij" data-type="indexterm" id="id722"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Running the Project" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-1.3">&#13;
<h2>Running the Project</h2>&#13;
&#13;
<p>Starting from the <a data-primary="applications" data-secondary="running" data-type="indexterm" id="ix_apps_run"/>simple template provided by IDEA should leave you in good shape to run your first program. Glance back at <a data-type="xref" href="#learnjava6-CHP-2-FIG-7">Figure 2-8</a>. Notice the green triangles at lines 1 and 2 along the left side of the code editor, next to both the <code>Main</code> class as well as the <code>main()</code> method. IDEA understands that <code>Main</code> can be executed. You can click either of those buttons to run your code. (The <code>Main</code> class listed under the <em>src</em> folder in the project outline on the left has a tiny green “play” button as well.) You can right-click that class entry and select the <code>Run ‘Main.main()’</code> option, as shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-8">Figure 2-9</a>.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-8">&#13;
<img alt="ljv6 0209" src="assets/ljv6_0209.png"/>&#13;
<h6><span class="label">Figure 2-9. </span>Running your Java project</h6>&#13;
</div></figure>&#13;
&#13;
<p>Whether you use the editor margin buttons or the context menu, go ahead and run your code now.<a data-primary="" data-startref="ix_class_idea" data-type="indexterm" id="id723"/> You should see your “Hello World!” message show up in the Run tab along the bottom of the editor, similar to <a data-type="xref" href="#learnjava6-CHP-2-FIG-9">Figure 2-10</a>.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-9">&#13;
<img alt="ljv6 0210" src="assets/ljv6_0210.png"/>&#13;
<h6><span class="label">Figure 2-10. </span>Our first output from a Java program</h6>&#13;
</div></figure>&#13;
&#13;
<p>IDEs also include a handy terminal option. This allows you to open a tab or window that has a command prompt available. You may not need this option very often, but it can definitely come in handy. In IDEA, for example, you can open the terminal tab from the View → Tool Windows → Terminal menu option or by clicking the Terminal shortcut along the bottom of the main window, as shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-terminal-IDEA">Figure 2-11</a>.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-terminal-IDEA">&#13;
<img alt="ljv6 0211" src="assets/ljv6_0211.png"/>&#13;
<h6><span class="label">Figure 2-11. </span>The Terminal tab in IntelliJ IDEA</h6>&#13;
</div></figure>&#13;
&#13;
<p>In VS Code, you can use the Terminal → New Terminal menu option to pull up a similar portion of the IDE, as shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-terminal-VS">Figure 2-12</a>.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-terminal-VS">&#13;
<img alt="ljv6 0212" src="assets/ljv6_0212.png"/>&#13;
<h6><span class="label">Figure 2-12. </span>The Terminal tab in Microsoft’s VS Code</h6>&#13;
</div></figure>&#13;
&#13;
<p>Feel free to try out the terminal yourself. With a terminal window open in your IDE, navigate to the <em>Learning Java</em> folder. (Most IDEs will open the terminal at the base directory for your project automatically.) Use the <em>java</em> <a data-primary="java command" data-type="indexterm" id="id724"/>command to run our <code>Main</code> program, as shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-terminal-run">Figure 2-13</a>.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-terminal-run">&#13;
<img alt="ljv6 0213" src="assets/ljv6_0213.png"/>&#13;
<h6><span class="label">Figure 2-13. </span>Running a Java program in a terminal tab</h6>&#13;
</div></figure>&#13;
&#13;
<p>Whichever route you chose, congratulations are due again—you have now run your first Java program!<a data-primary="" data-startref="ix_apps_run" data-type="indexterm" id="id725"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Grabbing the Examples" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-1.4">&#13;
<h2>Grabbing the Examples</h2>&#13;
&#13;
<p>The code examples and exercise solutions are available online at the book’s <a href="https://github.com/l0y/learnjava6e">GitHub repository</a>. GitHub has become the de facto cloud repository site for open source projects available to the public, as well as private, closed source projects. GitHub has many helpful tools beyond simple source-code storage and versioning. If you go on to develop an application or library that you want to share with others, it is worth setting up an account with GitHub and exploring it deeper. Happily, you can also just grab ZIP files of public projects without logging in, as shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-10">Figure 2-14</a>.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-10">&#13;
<img alt="ljv6 0214" src="assets/ljv6_0214.png"/>&#13;
<h6><span class="label">Figure 2-14. </span>Downloading a ZIP file from GitHub</h6>&#13;
</div></figure>&#13;
&#13;
<p>You should get a file called <em>learnjava6e-main.zip</em> (since you are grabbing an archive of the “main” branch of this repository).&#13;
If you’re familiar with GitHub from other projects, please feel free to clone the repository, but the static ZIP file contains everything you need to try the examples as you read through the rest of this book. When you unzip the download, you’ll find folders for all of the chapters that have examples as well as a completed <em>game</em> folder that contains a fun, lighthearted apple tossing game to help illustrate many of the programming concepts presented throughout the book in one cohesive application. We’ll go into more details on the examples and the game in coming chapters.</p>&#13;
&#13;
<p>As mentioned previously, you can compile and run the examples from the ZIP file right from the command line. You can also import the code into your favorite IDE. <a data-type="xref" href="app01.html#learnjava6-APP-A">Appendix A</a> contains detailed information on how to best import these examples into IntelliJ IDEA, but other popular IDEs such as Microsoft’s VS Code will also work.<a data-primary="" data-startref="ix_apps_java_tools" data-type="indexterm" id="id726"/><a data-primary="" data-startref="ix_java_tools_ch2" data-type="indexterm" id="id727"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="HelloJava" data-type="sect1"><div class="sect1" id="learnjava6-CHP-2-SECT-2">&#13;
<h1>HelloJava</h1>&#13;
&#13;
<p>In the <a data-primary="HelloJava/HelloJava2 app-building process" data-type="indexterm" id="ix_hellojava_app"/><a data-primary="applications" data-secondary="HelloJava" data-type="indexterm" id="ix_apps_hellojava"/><a data-primary="classes" data-secondary="creating" data-type="indexterm" id="ix_class_create"/>tradition of introductory programming texts, we will begin with Java’s equivalent of the archetypal “Hello World” application, <code>HelloJava</code>.</p>&#13;
&#13;
<p>We’ll end up <a data-primary="main() method" data-type="indexterm" id="id728"/>taking a few passes at this example before we’re done (<code>HelloJava</code>, <code>HelloJava2</code>, etc.), adding features and introducing new concepts along the way. But let’s start with the minimalist version. Create a new file named <em>HelloJava.java</em> in your workspace. (If you are using IDEA, you can do this from the menus: File → New → Java Class. Then give it the name <em>HelloJava</em> with no suffix—the <em>.java</em> extension will be added to the filename automatically.) Go ahead and fill in the same <code>main()</code> method from the <code>Main</code> demo provided when creating the new project:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="c1">// ch02/examples/HelloJava.java</code><code class="w"/>&#13;
&#13;
<code class="kd">public</code><code class="w"> </code><code class="kd">class</code> <code class="nc">HelloJava</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kd">static</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">main</code><code class="p">(</code><code class="n">String</code><code class="o">[]</code><code class="w"> </code><code class="n">args</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">System</code><code class="p">.</code><code class="na">out</code><code class="p">.</code><code class="na">println</code><code class="p">(</code><code class="s">"Hello, Java!"</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/>&#13;
<code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>This five-line program declares a class called <code>HelloJava</code> and that all-important <code>main()</code> method. It uses a predefined method called <code>println()</code> to write some text as output. This is a <em>command-line program</em>, which means that it runs in a terminal or DOS window and prints its output there. This approach is a bit old-school, so before we go any further, we’re going to give <code>HelloJava</code> a graphical user interface (GUI). Don’t worry about the code yet; just follow along with the progression here, and we’ll come back for explanations in a moment.</p>&#13;
&#13;
<p>In place of the line containing the <code>println()</code> method, we’re going to use a <code>JFrame</code> object to put a window on the screen. We can start by replacing the <code>println</code> line with the following three lines:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="c1">// filename: ch02/examples/HelloJava.java</code><code class="w"/>&#13;
<code class="c1">// method:   main()</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">JFrame</code><code class="w"> </code><code class="n">frame</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="k">new</code><code class="w"> </code><code class="n">JFrame</code><code class="p">(</code><code class="s">"Hello, Java!"</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">setSize</code><code class="p">(</code><code class="mi">300</code><code class="p">,</code><code class="w"> </code><code class="mi">150</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">setVisible</code><code class="p">(</code><code class="kc">true</code><code class="p">);</code><code class="w"/></pre>&#13;
&#13;
<p>This snippet creates a <code>JFrame</code> object with the title “Hello, Java!” <code>JFrame</code> represents a graphical window. To display it, we simply configure its size on the screen using the <code>setSize()</code> method and make it visible by calling the <code>setVisible()</code> method.</p>&#13;
&#13;
<p>If we stopped here, we would see an empty window on the screen with our “Hello, Java!” banner as its title. But we’d like our message inside the window, not just at the top. To put something in the window, we need a couple more lines. The following complete example adds a <code>JLabel</code> object to display the text centered in our window. The additional <code>import</code> line at the top is necessary to tell the Java compiler where to find the definitions of the <code>JFrame</code> and <code>JLabel</code> objects that we’re using:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="c1">// ch02/examples/HelloJava.java</code><code class="w"/>&#13;
<code class="kn">package</code><code class="w"> </code><code class="nn">ch02.examples</code><code class="p">;</code><code class="w"/>&#13;
&#13;
<code class="kn">import</code><code class="w"> </code><code class="nn">javax.swing.*</code><code class="p">;</code><code class="w"/>&#13;
&#13;
<code class="kd">public</code><code class="w"> </code><code class="kd">class</code> <code class="nc">HelloJava</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kd">static</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">main</code><code class="p">(</code><code class="n">String</code><code class="o">[]</code><code class="w"> </code><code class="n">args</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">JFrame</code><code class="w"> </code><code class="n">frame</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="k">new</code><code class="w"> </code><code class="n">JFrame</code><code class="p">(</code><code class="s">"Hello, Java!"</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">setSize</code><code class="p">(</code><code class="mi">300</code><code class="p">,</code><code class="w"> </code><code class="mi">150</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">JLabel</code><code class="w"> </code><code class="n">label</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="k">new</code><code class="w"> </code><code class="n">JLabel</code><code class="p">(</code><code class="s">"Hello, Java!"</code><code class="p">,</code><code class="w"> </code><code class="n">JLabel</code><code class="p">.</code><code class="na">CENTER</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">add</code><code class="p">(</code><code class="n">label</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">setVisible</code><code class="p">(</code><code class="kc">true</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/>&#13;
<code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>Now, to compile and run this source, either right-click your <em>HelloJava.java</em> class from the package explorer along the left and use the context menu, or click one of the green arrows in the left margin of the editor. See <a data-type="xref" href="#learnjava6-CHP-2-FIG-11">Figure 2-15</a>.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-11">&#13;
<img alt="ljv6 0215" src="assets/ljv6_0215.png"/>&#13;
<h6><span class="label">Figure 2-15. </span>Running the HelloJava application</h6>&#13;
</div></figure>&#13;
&#13;
<p>You should see the proclamation shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-12">Figure 2-16</a>. Congratulations again, you have now run your second Java application! Take a moment to bask in the glow of your monitor.</p>&#13;
&#13;
<figure class="width-90"><div class="figure" id="learnjava6-CHP-2-FIG-12">&#13;
<img alt="ljv6 0216" src="assets/ljv6_0216.png"/>&#13;
<h6><span class="label">Figure 2-16. </span>The output of the HelloJava application</h6>&#13;
</div></figure>&#13;
&#13;
<p>Be aware that when you click on the window’s close box, the window goes away, but your program is still running. (We’ll fix this shutdown behavior soon.) To stop the Java application in IDEA, click the red square “stop” button to the right of the green play button we used to run the program. If you are running the example on the command line, type Ctrl-C.</p>&#13;
&#13;
<p><code>HelloJava</code> may be a small program, but there is quite a bit going on behind the scenes. Those few lines represent the tip of an impressive iceberg. What lies under the surface are the layers of functionality provided by the Java language and its Swing libraries. Remember that in this chapter, we’re going to cover a lot of ground quickly in an effort to show you the big picture. We’ll try to offer enough detail for a good understanding of what is happening in each example, but we’ll defer detailed explanations until the appropriate chapters. This holds for both elements of the Java language and the object-oriented concepts that apply to them. With that said, let’s take a look now at what’s going on in our first example.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Classes" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-2.1">&#13;
<h2>Classes</h2>&#13;
&#13;
<p>The first example defines a <a data-primary="classes" data-secondary="HelloJava/HelloJava2" data-type="indexterm" id="id729"/><a data-primary="HelloJava/HelloJava2 app-building process" data-secondary="classes" data-type="indexterm" id="id730"/>class named <code>HelloJava</code>:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="kd">public</code><code class="w"> </code><code class="kd">class</code> <code class="nc">HelloJava</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">  </code><code class="c1">// ...</code><code class="w"/>&#13;
<code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>Classes are the fundamental building blocks of most object-oriented languages. A <em>class</em> is a group of data items with associated functions that can perform operations on that data. The data items in a class are called <em>variables</em>, or sometimes <em>fields</em>; in Java, functions are called <em>methods</em>. The primary benefits of an object-oriented language are this association between data and functionality in <a data-primary="encapsulation" data-type="indexterm" id="id731"/>class units and the ability of classes to <em>encapsulate</em> or hide details, freeing the developer from worrying about low-level details. We’ll expand on these benefits in <a data-type="xref" href="ch05.html#learnjava6-CHP-5">Chapter 5</a> where we fill out the structure of classes.</p>&#13;
&#13;
<p>In an application, a class might represent something concrete, such as a button on a screen or the information in a spreadsheet, or something more abstract, such as a sorting algorithm or perhaps the sense of ennui in a video game character. A class representing a spreadsheet might, for example, have variables that represent the values of its individual cells and methods that perform operations on those cells, such as “clear a row” or “compute values.”</p>&#13;
&#13;
<p>Our <code>HelloJava</code> class is an entire Java application in a single class. It defines just one method, <code>main()</code> , which holds the body of our program:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="kd">public</code><code class="w"> </code><code class="kd">class</code> <code class="nc">HelloJava</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kd">static</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">main</code><code class="p">(</code><code class="n">String</code><code class="o">[]</code><code class="w"> </code><code class="n">args</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="c1">// ...</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/>&#13;
<code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>It is this <code>main()</code> method that is called first when the application is started. The bit <a data-primary="command-line arguments" data-type="indexterm" id="id732"/>labeled <code>String [] args</code> allows us to pass <em>command-line arguments</em> to the application. We’ll walk through the <code>main()</code> method in the next section.</p>&#13;
&#13;
<p>Finally, although this version of <code>HelloJava</code> does not define any variables as part of its class, it does use two variables, <code>frame</code> and <code>label</code>, inside its <code>main()</code> method. We’ll have more to say about variables soon as well.<a data-primary="" data-startref="ix_class_create" data-type="indexterm" id="id733"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The main() Method" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-2.2">&#13;
<h2>The main() Method</h2>&#13;
&#13;
<p>As you <a data-primary="main() method" data-type="indexterm" id="ix_main_meth_ch2"/><a data-primary="HelloJava/HelloJava2 app-building process" data-secondary="main() method" data-type="indexterm" id="ix_hellojava_app_main"/>saw when we ran our example, running a Java application means picking a particular class and passing its name as an argument to the Java virtual machine. When we did this, the <code>java</code> command looked in our <code>HelloJava</code> class to see if it contained the special method named <code>main()</code> with just the right form. It did, and the method was executed. If <code>main()</code> had not been there, we would have received an error message. The <code>main()</code> method is the entry point for applications. Every standalone Java application includes at least one class with a <code>main()</code> method that performs the necessary actions to start the rest of the program.</p>&#13;
&#13;
<p>Our <code>main()</code> method sets up a window (a <code>JFrame</code>) to hold the visual output of the <code>HelloJava</code> class. Right now, <code>main()</code> is doing all the work in the application. But in an object-oriented application, we normally delegate responsibilities to many different classes. In the next incarnation of our example, we’re going to perform just such a split—creating a second class—and we’ll see that as the example subsequently evolves, the <code>main()</code> method remains more or less the same, simply holding the startup procedure.</p>&#13;
&#13;
<p>Let’s quickly walk through our <code>main()</code> method, just so you know what it does. First, <code>main()</code> creates a <code>JFrame</code>, the window that will hold our example:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">JFrame</code><code class="w"> </code><code class="n">frame</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="k">new</code><code class="w"> </code><code class="n">JFrame</code><code class="p">(</code><code class="s">"Hello, Java!"</code><code class="p">);</code><code class="w"/></pre>&#13;
&#13;
<p>The <a data-primary="new keyword" data-type="indexterm" id="id734"/><a data-primary="JFrame" data-type="indexterm" id="id735"/>word <code>new</code> in this line of code is very important. <code>JFrame</code> is the name of a class that represents a window on the screen, but the class itself is just a template, like a building plan. The <code>new</code> keyword tells Java to allocate memory and actually create a particular <code>JFrame</code> object. In this case, the argument inside the parentheses tells the <code>JFrame</code> what to display in its title bar. We could have left out the “Hello, Java!” text and used empty parentheses to create a <code>JFrame</code> with no title, but only because the <code>JFrame</code> specifically allows us to do that.</p>&#13;
&#13;
<p>When frame windows are first created, they are very small. Before we show the <code>JFrame</code>, let’s set its size to something reasonable:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">setSize</code><code class="p">(</code><code class="mi">300</code><code class="p">,</code><code class="w"> </code><code class="mi">150</code><code class="p">);</code><code class="w"/></pre>&#13;
&#13;
<p>This is an example of invoking a method on a particular object. In this case, the <code>setSize()</code> method is defined by the <code>JFrame</code> class, and it affects the particular <code>JFrame</code> object we’ve placed in the variable <code>frame</code>. Like the frame, we also create an instance of <code>JLabel</code> to hold our text inside the window:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">JLabel</code><code class="w"> </code><code class="n">label</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="k">new</code><code class="w"> </code><code class="n">JLabel</code><code class="p">(</code><code class="s">"Hello, Java!"</code><code class="p">,</code><code class="w"> </code><code class="n">JLabel</code><code class="p">.</code><code class="na">CENTER</code><code class="p">);</code><code class="w"/></pre>&#13;
&#13;
<p><code>JLabel</code> is much like a <a data-primary="JLabel class" data-type="indexterm" id="id736"/><a data-primary="desktop applications" data-secondary="labels (JLabel)" data-type="indexterm" id="id737"/>physical label. It holds some text at a particular position—in this case, on our frame. This is a very object-oriented concept: using an object to hold some text, instead of simply invoking a method to “draw” the text and moving on. The rationale for this will become clearer later.</p>&#13;
&#13;
<p>Next, we have to place the label into the frame we created:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">add</code><code class="p">(</code><code class="n">label</code><code class="p">);</code><code class="w"/></pre>&#13;
&#13;
<p>Here, we’re calling a method named <code>add()</code> to place our label inside the <code>JFrame</code>. The <code>JFrame</code> is a kind of container that can hold things. We’ll talk more about that later. <code>main()</code>’s final task is to show the frame window and its contents, which otherwise would be invisible. An invisible window makes for a pretty boring application:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">setVisible</code><code class="p">(</code><code class="kc">true</code><code class="p">);</code><code class="w"/></pre>&#13;
&#13;
<p>That’s the whole <code>main()</code> method. As we progress through the examples in this chapter, it will remain mostly unchanged as the <code>HelloJava</code> class evolves around it.<a data-primary="" data-startref="ix_hellojava_app_main" data-type="indexterm" id="id738"/><a data-primary="" data-startref="ix_main_meth_ch2" data-type="indexterm" id="id739"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Classes and Objects" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-2.3">&#13;
<h2>Classes and Objects</h2>&#13;
&#13;
<p>A class is a blueprint for a part of an application; it holds methods and variables that make up that component. Many individual working copies of a given class can exist while an application is active. These individual incarnations are called <em>instances</em> of the class, or <em>objects</em>. Two instances of a given class may contain different data, but they always have the same methods.</p>&#13;
&#13;
<p>As an example, <a data-primary="Button class" data-type="indexterm" id="id740"/>consider a <code>Button</code> class. There is only one <code>Button</code> class, but an application can create many different <code>Button</code> objects, each one an instance of the same class. Furthermore, two <code>Button</code> instances might contain different data, perhaps giving each a different appearance and performing a different action. In this sense, a class can be considered a mold for making the object it represents, something like a cookie cutter stamping out working instances of itself in the memory of the computer. As you’ll see later, there’s a bit more to it than that—a class can in fact share information among its instances—but this explanation suffices for now. <a data-type="xref" href="ch05.html#learnjava6-CHP-5">Chapter 5</a> has the whole story on classes and objects.</p>&#13;
&#13;
<p>The <a data-primary="HelloJava/HelloJava2 app-building process" data-secondary="data types" data-type="indexterm" id="id741"/>term <em>object</em> in Java is very general and is sometimes used almost interchangeably with <em>class</em>. Objects are the abstract entities that all object-oriented languages refer to in one form or another. We will use <em>object</em> as a generic term for an instance of a class. We might, therefore, refer to an instance of the <code>Button</code> class as a button, a <code>Button</code> object, or, indiscriminately, as an object. You will see the term used frequently in the coming chapters, and <a data-type="xref" href="ch05.html#learnjava6-CHP-5">Chapter 5</a> will go into much more detail on both classes and objects.</p>&#13;
&#13;
<p>The <code>main()</code> method in the previous example creates a single instance of the <code>JLabel</code> class and shows it in an instance of the <code>JFrame</code> class. You could modify <code>main()</code> to create many instances of <code>JLabel</code>, perhaps each in a separate window.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Variables and Class Types" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-2.4">&#13;
<h2>Variables and Class Types</h2>&#13;
&#13;
<p>In Java, every <a data-primary="HelloJava/HelloJava2 app-building process" data-secondary="classes" data-type="indexterm" id="ix_hello_java_class"/><a data-primary="classes" data-secondary="HelloJava/HelloJava2" data-type="indexterm" id="ix_class_hello_java"/><a data-primary="HelloJava/HelloJava2 app-building process" data-secondary="objects and classes" data-type="indexterm" id="id742"/><a data-primary="variables" data-secondary="and class types" data-secondary-sortas="class types" data-type="indexterm" id="id743"/><a data-primary="classes" data-secondary="and variables" data-secondary-sortas="variables" data-type="indexterm" id="id744"/>class defines a new <em>type</em> (data type). You can declare a variable of this type and then it can hold instances of that class. A variable could, for example, be of type <code>Button</code> and hold an instance of the <code>Button</code> class, or of type <code>SpreadSheetCell</code> and hold a <code>SpreadSheetCell</code> object, just as it could be any of the simpler types, such as <code>int</code> or <code>char</code>. The fact that variables have types and cannot simply hold any kind of object is another important feature of Java that ensures the safety and correctness of code.</p>&#13;
&#13;
<p class="pagebreak-before">Setting aside the variables used inside the <code>main()</code> method for the moment, only one other variable is declared in our simple <code>HelloJava</code> example. It’s found in the declaration of the <code>main()</code> method itself:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kd">static</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">main</code><code class="p">(</code><code class="n">String</code><code class="w"> </code><code class="o">[]</code><code class="w"> </code><code class="n">args</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="c1">// ...</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>Just like <a data-primary="arguments" data-secondary="passing" data-type="indexterm" id="id745"/>functions in other languages, a method in Java declares a list of <em>parameters</em> (variables) that it accepts as <em>arguments</em>, and it specifies the types of those parameters. In this case, the main <code>method</code> is requiring that when it is invoked, it be passed an array of <code>String</code> objects in the variable named <code>args</code>. The <code>String</code> is the fundamental object representing text in Java. <a data-primary="command-line arguments" data-type="indexterm" id="id746"/>As we hinted at earlier, Java uses the <code>args</code> parameter to pass any command-line arguments supplied to the Java virtual machine into your application. (We don’t use them here, but we will later.)</p>&#13;
&#13;
<p>Up to this point, we have loosely talked about variables as holding objects. In reality, variables that have class types don’t hold objects—they refer to them. A <em>reference</em> is a pointer to or a handle for an object. If you declare a class-type variable without assigning it an object, it doesn’t point to anything. It’s assigned the default value of <code>null</code>, meaning “no value.” If you try to use a variable with a null value as if it were pointing to a real object, a runtime error, <code>NullPointerException</code>, occurs.</p>&#13;
&#13;
<p>Of course, object references have to come from somewhere. In our example, we created two objects using the <code>new</code> operator. We’ll examine object creation in more detail a little later in the chapter.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="HelloComponent" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-2.5">&#13;
<h2>HelloComponent</h2>&#13;
&#13;
<p>Thus far, our <code>HelloJava</code> example has <a data-primary="HelloComponent" data-type="indexterm" id="ix_hello_comp"/>contained itself in a single class. In fact, because of its simple nature, it has really just served as a single, large method. Although we have used a couple of objects to display our GUI message, our own code does not illustrate any object-oriented structure.</p>&#13;
&#13;
<p>Well, we’re going to correct that right now by adding a second class. To give us something to build on throughout this chapter, we’re going to take over the job of the <code>JLabel</code> class (bye-bye, <code>JLabel</code>!) and replace it with our own graphical class: <code>HelloComponent</code>. Our <code>HelloComponent</code> class will start simple, just displaying our “Hello, Java!” message at a fixed position. We’ll add capabilities later.</p>&#13;
&#13;
<p>The code for our new class is simple; we only need a few more lines. First we need another <code>import</code> statement at the top of the <em>HelloJava.java</em> file:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="kn">import</code><code class="w"> </code><code class="nn">java.awt.*</code><code class="p">;</code><code class="w"/></pre>&#13;
&#13;
<p class="pagebreak-before">This line tells the compiler where to find the extra classes we need to fill out the logic of <code>HelloComponent</code>. And here’s that logic:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="kd">class</code> <code class="nc">HelloComponent</code><code class="w"> </code><code class="kd">extends</code><code class="w"> </code><code class="n">JComponent</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">paintComponent</code><code class="p">(</code><code class="n">Graphics</code><code class="w"> </code><code class="n">g</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">g</code><code class="p">.</code><code class="na">drawString</code><code class="p">(</code><code class="s">"Hello, Java!"</code><code class="p">,</code><code class="w"> </code><code class="mi">125</code><code class="p">,</code><code class="w"> </code><code class="mi">95</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/>&#13;
<code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>The <code>HelloComponent</code> class definition can go either above or below our <code>HelloJava</code> class. <a data-primary="desktop applications" data-secondary="labels (JLabel)" data-type="indexterm" id="id747"/><a data-primary="JLabel class" data-type="indexterm" id="id748"/>Then, to use our new class in place of the <code>JLabel</code>, simply replace the two lines referencing the label in the <code>main()</code> method with:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="c1">// Delete or comment out these two lines</code><code class="w"/>&#13;
<code class="w">    </code><code class="c1">//JLabel label = new JLabel("Hello, Java!", JLabel.CENTER);</code><code class="w"/>&#13;
<code class="w">    </code><code class="c1">//frame.add(label);</code><code class="w"/>&#13;
&#13;
<code class="w">    </code><code class="c1">// And add this line</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">add</code><code class="p">(</code><code class="k">new</code><code class="w"> </code><code class="n">HelloComponent</code><code class="p">());</code><code class="w"/></pre>&#13;
&#13;
<p>This time when you compile <em>HelloJava.java</em>, take a look at the generated <em>.class</em> files. (These files will be located in either your current directory if you are using a terminal or in the <em>Learn Java/out/production/Learn Java</em> folder where you chose to put IDEA projects. In IDEA itself, you can also expand the <em>out</em> folder in the project navigation pane on the left side.) Regardless of how you arranged the classes in your source, you should see two binary class files: <em>HelloJava.class</em> and <em>HelloComponent.class</em>. Running the code should look much like the <code>JLabel</code> version, but if you resize the window, you’ll notice that our new component does not automatically adjust to center the text.</p>&#13;
&#13;
<p>So what have we done, and why have we gone to such lengths to insult the perfectly good <code>JLabel</code> component? We’ve created our new <code>HelloComponent</code> class, extending a generic graphical class called <code>JComponent</code>. To <em>extend</em> a class simply means to add functionality to an existing class, creating a new one. We’ll get into that process more in the next section.</p>&#13;
&#13;
<p>In our current example, we have created a new kind of <code>JComponent</code> that contains a method called <code>paintComponent()</code>, which is responsible for drawing our message. The <code>paintComponent()</code> method takes one argument named (somewhat tersely) <code>g</code>, which is of type <code>Graphics</code>. When the <code>paintComponent()</code> method is invoked, a <code>Graphics</code> object is assigned to <code>g</code>, which we use in the body of the method. We’ll say more about <code>paintComponent()</code> and the <code>Graphics</code> class in a moment. As for why, you’ll understand when we add all sorts of new features to our new component later on.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="Inheritance" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-2.6">&#13;
<h2>Inheritance</h2>&#13;
&#13;
<p>Java <a data-primary="inheritance" data-type="indexterm" id="ix_inherit_ch2"/><a data-primary="classes" data-secondary="inheritance" data-type="indexterm" id="ix_class_inherit"/><a data-primary="classes" data-secondary="hierarchy of" data-type="indexterm" id="ix_class_hier"/><a data-primary="HelloJava/HelloJava2 app-building process" data-secondary="inheritance" data-type="indexterm" id="id749"/>classes are arranged in a parent-child hierarchy in which the parent and child are known as the <em>superclass</em> and <em>subclass</em>, respectively. We’ll explore these concepts more in <a data-type="xref" href="ch05.html#learnjava6-CHP-5">Chapter 5</a>. In Java, every class has exactly one superclass (a single parent), but possibly many subclasses. The only exception to this rule is the <code>Object</code> class, which sits atop the entire class hierarchy; it has no superclass. (Feel free to peek ahead at the tiny slice of the Java class hierarchy shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-class-hierarchy">Figure 2-17</a>.)</p>&#13;
&#13;
<p>The declaration of our class in the previous example uses the keyword <code>extends</code> to specify that <code>HelloComponent</code> is a subclass of the <code>JComponent</code> class:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="kd">class</code> <code class="nc">HelloComponent</code><code class="w"> </code><code class="kd">extends</code><code class="w"> </code><code class="n">JComponent</code><code class="w"> </code><code class="p">{</code><code class="w"> </code><code class="p">...</code><code class="w"> </code><code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>A <a data-primary="subclasses" data-secondary="in class hierarchy" data-secondary-sortas="class hierarchy" data-type="indexterm" id="ix_subclass_hier"/>subclass may <em>inherit</em> some or all of the variables and methods of its superclass. Inheritance provides the subclass access to the variables and methods of its superclass as if it has declared them itself. A <a data-primary="methods" data-secondary="overriding" data-type="indexterm" id="id750"/><a data-primary="overriding methods" data-type="indexterm" id="id751"/>subclass can add variables and methods of its own, and it can also <em>override</em> or change the meaning of inherited methods. When we use a subclass, overridden methods are hidden (replaced) by the subclass’s own versions of them. In this way, inheritance provides a powerful mechanism whereby a subclass can refine or extend the functionality of its superclass.</p>&#13;
&#13;
<p>For example, the hypothetical spreadsheet class might be subclassed to produce a new scientific spreadsheet class with special built-in constants. In this case, the source code for the scientific spreadsheet might declare variables for the special constants, but the new scientific class still has all of the variables (and methods) that constitute the normal functionality of a spreadsheet. Again, those standard elements are inherited from the parent spreadsheet class. This also means that the scientific spreadsheet maintains its identity as a spreadsheet; it can still do everything the simpler spreadsheet could do. <a data-primary="polymorphism" data-type="indexterm" id="id752"/>That idea, that a more specific class can still perform all of the duties of a more general parent or ancestor, has profound implications. We call this idea  <em>polymorphism</em>, and we’ll continue to explore it throughout the book. Polymorphism is one of the foundations of object-oriented programming.</p>&#13;
&#13;
<p>Our <code>HelloComponent</code> class is a subclass of the <code>JComponent</code> class and inherits many variables and methods not explicitly declared in our source code. This is what allows our tiny class to serve as a component in a <code>JFrame</code>, with just a few customizations.<a data-primary="" data-startref="ix_class_hello_java" data-type="indexterm" id="id753"/><a data-primary="" data-startref="ix_hello_java_class" data-type="indexterm" id="id754"/><a data-primary="" data-startref="ix_hello_comp" data-type="indexterm" id="id755"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The JComponent Class" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-2.7">&#13;
<h2>The JComponent Class</h2>&#13;
&#13;
<p>The <code>JComponent</code> class <a data-primary="JComponent class" data-type="indexterm" id="id756"/>provides the framework for building all kinds of UI components. Particular components—such as buttons, labels, and list boxes—are implemented as subclasses of <code>JComponent</code>.</p>&#13;
&#13;
<p class="pagebreak-before">We mentioned that subclasses can take an inherited method and override it to implement some particular behavior. But why would we want to change the behavior of something that presumably already works for the superclass? Many classes start with minimal functionality. The original programmers expect someone else to come along and add the interesting parts. <code>JComponent</code> is just such a class. It handles a great deal of the communication with the computer’s windowing system for you, but it leaves room for you to add the specific details of presentation and behavior.</p>&#13;
&#13;
<p>The <code>paintComponent()</code> method is an important method of the <code>JComponent</code> class; we override it to implement the way our particular component displays itself on the screen. The default behavior of <code>paintComponent()</code> doesn’t do any drawing at all. If we hadn’t overridden it in our subclass, our component would simply have been empty. Here, we’re overriding <code>paintComponent()</code> to do something only slightly more interesting. We don’t override any of the other inherited members of <code>JComponent</code> because they provide basic functionality and reasonable defaults for this (trivial) example. As <code>HelloJava</code> grows, we’ll delve deeper into the inherited members and use additional methods. We will also add some application-specific methods and variables specifically for the needs of <code>HelloComponent</code>.</p>&#13;
&#13;
<p><code>JComponent</code> is really the tip of another iceberg called Swing. Swing is Java’s UI toolkit, represented in our example by the <code>import</code> statement at the top; we’ll discuss Swing in more detail in <a data-type="xref" href="ch12.html#learnjava6-CHP-12">Chapter 12</a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Relationships and Finger-Pointing" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-2.8">&#13;
<h2>Relationships and Finger-Pointing</h2>&#13;
&#13;
<p>You can think of subclassing as creating an “is a” relationship, in which the subclass “is a” kind of its superclass. <code>HelloComponent</code> is therefore a kind of <code>JComponent</code>. When we refer to a kind of object, we mean <em>any instance of that object’s class or any of its subclasses</em>. Later, we will look more closely at the Java class hierarchy and see that <code>JComponent</code> is itself a subclass of the <code>Container</code> class, which is further derived from a class called <code>Component</code>, and so on, as shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-class-hierarchy">Figure 2-17</a>.</p>&#13;
&#13;
<p>In this sense, a <code>HelloComponent</code> object is a kind of <code>JComponent</code>, which is a kind of <code>Container</code>, and all of these can ultimately be considered to be a kind of <code>Component</code>. It’s from these classes that <code>HelloComponent</code> inherits its basic GUI functionality and (as we’ll discuss later) the ability to have other graphical components embedded within it as well.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-class-hierarchy">&#13;
<img alt="ljv6 0217" src="assets/ljv6_0217.png"/>&#13;
<h6><span class="label">Figure 2-17. </span>Part of the Java class hierarchy</h6>&#13;
</div></figure>&#13;
&#13;
<p><code>Component</code> is a subclass of the top-level <code>Object</code> class, so all these classes are types of <code>Object</code>. Every other class in the Java API inherits behavior from <code>Object</code>, which defines a few basic methods, as you’ll see in <a data-type="xref" href="ch05.html#learnjava6-CHP-5">Chapter 5</a>. We’ll continue to use the word <em>object</em> (lowercase <em>o</em>) in a generic way to refer to an instance of any class; we’ll use <code>Object</code> to refer specifically to the type of that class.<a data-primary="" data-startref="ix_class_hier" data-type="indexterm" id="id757"/><a data-primary="" data-startref="ix_class_inherit" data-type="indexterm" id="id758"/><a data-primary="" data-startref="ix_inherit_ch2" data-type="indexterm" id="id759"/><a data-primary="" data-startref="ix_subclass_hier" data-type="indexterm" id="id760"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Packages and Imports" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-2.9">&#13;
<h2>Packages and Imports</h2>&#13;
&#13;
<p>We <a data-primary="HelloJava/HelloJava2 app-building process" data-secondary="packages and imports" data-type="indexterm" id="ix_hello_java_pkg"/><a data-primary="packages" data-secondary="and class files" data-secondary-sortas="class files" data-type="indexterm" id="ix_pkg_class_file"/><a data-primary="classes" data-secondary="importing" data-type="indexterm" id="ix_class_imp"/>mentioned earlier that the first line of our example tells Java where to find some of the classes that we’ve been using:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="kn">import</code><code class="w"> </code><code class="nn">javax.swing.*</code><code class="p">;</code><code class="w"/></pre>&#13;
&#13;
<p>Specifically, it tells the compiler that we are going to be using classes from the Swing GUI toolkit (in this case, <code>JFrame</code>, <code>JLabel</code>, and <code>JComponent</code>). These classes are organized into a Java <em>package</em> called <code>javax.swing</code>. In Java, a package is a group of classes that are related by purpose or by application. Classes in the same package have special access privileges with respect to one another and may be designed to work together closely.</p>&#13;
&#13;
<p>Packages are <a data-primary="dot (.) notation/operator" data-secondary="importing classes" data-type="indexterm" id="id761"/><a data-primary="fully qualified name, Java library packages" data-type="indexterm" id="id762"/><a data-primary="packages" data-secondary="naming" data-type="indexterm" id="id763"/>named in a hierarchical fashion with dot-separated components, such as <code>java.util</code> and <code>java.util.zip</code>. Classes in a package typically live in nested folders matching their package name. They also take on the name of the package as part of their “full name” or, to use the proper terminology, their <em>fully qualified name</em>. For example, the fully qualified name of the <code>JComponent</code> class is &#13;
<span class="keep-together"><code>javax.swing.JComponent</code></span>. We could have referred to it by that name directly, in lieu of using the <code>import</code> statement:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="kd">class</code> <code class="nc">HelloComponent</code><code class="w"> </code><code class="kd">extends</code><code class="w"> </code><code class="n">javax</code><code class="p">.</code><code class="na">swing</code><code class="p">.</code><code class="na">JComponent</code><code class="w"> </code><code class="p">{...}</code><code class="w"/></pre>&#13;
&#13;
<p>Using fully qualified names can get tiresome. The statement <code>import javax.swing.*</code> enables us to refer to all the classes in the <code>javax.swing</code> package by their simple names. We don’t have to use fully qualified names to refer to the <code>JComponent</code>, <code>JLabel</code>, and <code>JFrame</code> classes.</p>&#13;
&#13;
<p>As we saw when we added our second example class, there may be one or more <code>import</code> statements in a given Java source file. The <code>import</code>s effectively create a “search path” that tells Java where to look for classes that we refer to by their simple, unqualified names. (It’s not really a path, but it avoids ambiguous names that can create errors.) The <code>import</code>s we’ve seen use the dot star (<code>.*</code>) notation to indicate that the entire package should be imported. But you can also specify just a single class. For example, our current example uses only the <code>Graphics</code> class from the <code>java.awt</code> package. We <a data-primary=".* (dot star) notation" data-type="indexterm" id="id764"/><a data-primary="dot star (.*) notation" data-type="indexterm" id="id765"/>could have used <code>import java.awt.Graphics</code> instead of using the wildcard <code>*</code> to import all the Abstract Window Toolkit (AWT) package’s classes. However, we are anticipating using several more classes from this package later.</p>&#13;
&#13;
<p>The <code>java.</code> and <code>javax.</code> package hierarchies are special. Any package that begins with <code>java.</code> is part of the core Java API and is available on any platform that supports Java. The <code>javax.</code> package normally denotes a standard extension to the core platform, which may or may not be installed. However, in recent years, many standard <span class="keep-together">extensions</span> have been added to the core Java API without renaming them. The <code>javax.swing</code> package is an example; it is part of the core API in spite of its name. <a data-type="xref" href="#learnjava6-CHP-2-FIG-core-packages">Figure 2-18</a> illustrates some of the core Java packages, showing a representative class or two from each.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-core-packages">&#13;
<img alt="ljv6 0218" src="assets/ljv6_0218.png"/>&#13;
<h6><span class="label">Figure 2-18. </span>Some core Java packages</h6>&#13;
</div></figure>&#13;
&#13;
<p><code>java.lang</code> contains fundamental classes needed by the Java language itself; this package is imported automatically, and that is why we didn’t need an <code>import</code> statement to use class names such as <code>String</code> or <code>System</code> in our examples. The <code>java.awt</code> package contains classes of the older, graphical windowing system; <code>java.net</code> contains the networking classes; and so on.</p>&#13;
&#13;
<p>As you gain more experience with Java, you will realize that having a command of the packages available to you, what they do,  and when and how to use them is a critical part of becoming a successful Java developer.<a data-primary="" data-startref="ix_class_imp" data-type="indexterm" id="id766"/><a data-primary="" data-startref="ix_hello_java_pkg" data-type="indexterm" id="id767"/><a data-primary="" data-startref="ix_pkg_class_file" data-type="indexterm" id="id768"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The paintComponent() Method" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-2.10">&#13;
<h2>The paintComponent() Method</h2>&#13;
&#13;
<p>The <a data-primary="JComponent class" data-type="indexterm" id="id769"/><a data-primary="paintComponent() method" data-type="indexterm" id="id770"/>source for our <code>HelloComponent</code> class defines a method, <code>paintComponent()</code>, that overrides the <code>paintComponent()</code> method of the <code>JComponent</code> class:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">paintComponent</code><code class="p">(</code><code class="n">Graphics</code><code class="w"> </code><code class="n">g</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">g</code><code class="p">.</code><code class="na">drawString</code><code class="p">(</code><code class="s">"Hello, Java!"</code><code class="p">,</code><code class="w"> </code><code class="mi">125</code><code class="p">,</code><code class="w"> </code><code class="mi">95</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>The <code>paintComponent()</code> method is called when it’s time for our example to draw itself on the screen. It takes a single argument, a <code>Graphics</code> object, and doesn’t return any type of value (<code>void</code>) to its caller.</p>&#13;
&#13;
<p><em>Modifiers</em> are <a data-primary="modifiers" data-type="indexterm" id="id771"/>keywords placed before classes, variables, and methods to alter their accessibility, behavior, or semantics. Here <code>paintComponent()</code> is declared as <code>public</code>, which means it can be invoked (called) by methods in classes other than &#13;
<span class="keep-together"><code>HelloComponent</code></span>. In this case, it’s the Java windowing environment that is calling our &#13;
<span class="keep-together"><code>paintComponent()</code></span> method. A method or variable declared as <code>private</code>, by contrast, is accessible only from its own class.</p>&#13;
&#13;
<p>The <code>Graphics</code> object, an <a data-primary="graphics context" data-type="indexterm" id="id772"/><a data-primary="Graphics object" data-type="indexterm" id="id773"/>instance of the <code>Graphics</code> class, represents a particular graphical drawing area. (It is also called a <em>graphics context</em>.) It contains methods that can be used to draw in this area, and variables that represent characteristics such as clipping or drawing modes. The particular <code>Graphics</code> object we are passed in the <code>paintComponent()</code> method corresponds to our <code>HelloComponent</code>’s area of the screen, inside our frame.</p>&#13;
&#13;
<p>The <code>Graphics</code> class provides methods for rendering shapes, images, and text. In <code>HelloComponent</code>, we invoke the <code>drawString()</code> method of our <code>Graphics</code> object to scrawl our message at the specified coordinates.</p>&#13;
&#13;
<p>As we’ve <a data-primary="dot (.) notation/operator" data-secondary="accessing methods" data-type="indexterm" id="id774"/>seen earlier, we access a method of an object by appending a dot (<code>.</code>) and its name to the object that holds it. We invoked the <code>drawString()</code> method of the <code>Graphics</code> object (referenced by our <code>g</code> variable) in this way:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">g</code><code class="p">.</code><code class="na">drawString</code><code class="p">(</code><code class="s">"Hello, Java!"</code><code class="p">,</code><code class="w"> </code><code class="mi">125</code><code class="p">,</code><code class="w"> </code><code class="mi">95</code><code class="p">);</code><code class="w"/></pre>&#13;
&#13;
<p>Here we can see how <a data-primary="methods" data-secondary="overriding" data-type="indexterm" id="id775"/><a data-primary="overriding methods" data-type="indexterm" id="id776"/>overriding an inherited method provides new functionality. On its own, an instance of <code>JComponent</code> has no idea what information to show the user or how to respond to things like mouse clicks. We extended <code>JComponent</code> and added a tiny bit of custom logic: we show a bit of text on the screen. But we can do much more!<a data-primary="" data-startref="ix_apps_hellojava" data-type="indexterm" id="id777"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="HelloJava2: The Sequel" data-type="sect1"><div class="sect1" id="learnjava6-CHP-2-SECT-3">&#13;
<h1>HelloJava2: The Sequel</h1>&#13;
&#13;
<p>Now <a data-primary="applications" data-secondary="HelloJava2" data-type="indexterm" id="ix_apps_hellojava2"/>that we’ve got some basics down, let’s make our application a little more interactive. The following minor upgrade allows us to drag the message text around with the mouse. If you’re new to programming, though, the upgrade may not seem so minor. Fear not! We will look closely at all of the topics covered in this example in later chapters. For now, enjoy playing with the example and use it as an opportunity to get more comfortable creating and running Java programs, even if you don’t feel as comfortable with the code inside.</p>&#13;
&#13;
<p>We’ll call this example <code>HelloJava2</code> rather than cause confusion by continuing to expand the old one, but the primary changes here and further on lie in adding capabilities to the <code>HelloComponent</code> class and simply making the corresponding changes to the names to keep them straight (e.g., <code>HelloComponent2</code>, <code>HelloComponent3</code>, and so on). Having just seen inheritance at work, you might wonder why we aren’t creating a subclass of <code>HelloComponent</code> and exploiting inheritance to build upon our previous example and extend its functionality. Well, in this case, that would not provide much advantage, so for clarity we simply start over.</p>&#13;
&#13;
<p>Two slashes in a row indicate that the rest of the line is a comment. We’ve added a few comments to <code>HelloJava2</code> to help you keep track of everything:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="c1">//file: HelloJava2.java</code><code class="w"/>&#13;
<code class="kn">import</code><code class="w"> </code><code class="nn">java.awt.*</code><code class="p">;</code><code class="w"/>&#13;
<code class="kn">import</code><code class="w"> </code><code class="nn">java.awt.event.*</code><code class="p">;</code><code class="w"/>&#13;
<code class="kn">import</code><code class="w"> </code><code class="nn">javax.swing.*</code><code class="p">;</code><code class="w"/>&#13;
&#13;
<code class="kd">public</code><code class="w"> </code><code class="kd">class</code> <code class="nc">HelloJava2</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kd">static</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">main</code><code class="p">(</code><code class="n">String</code><code class="o">[]</code><code class="w"> </code><code class="n">args</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">JFrame</code><code class="w"> </code><code class="n">frame</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="k">new</code><code class="w"> </code><code class="n">JFrame</code><code class="p">(</code><code class="s">"HelloJava2"</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">add</code><code class="p">(</code><code class="k">new</code><code class="w"> </code><code class="n">HelloComponent2</code><code class="p">(</code><code class="s">"Hello, Java!"</code><code class="p">));</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">setDefaultCloseOperation</code><code class="p">(</code><code class="n">JFrame</code><code class="p">.</code><code class="na">EXIT_ON_CLOSE</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">setSize</code><code class="p">(</code><code class="mi">300</code><code class="p">,</code><code class="w"> </code><code class="mi">300</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">setVisible</code><code class="p">(</code><code class="kc">true</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/>&#13;
<code class="p">}</code><code class="w"/>&#13;
&#13;
<code class="kd">class</code> <code class="nc">HelloComponent2</code><code class="w"> </code><code class="kd">extends</code><code class="w"> </code><code class="n">JComponent</code><code class="w"/>&#13;
<code class="w">    </code><code class="kd">implements</code><code class="w"> </code><code class="n">MouseMotionListener</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">  </code><code class="n">String</code><code class="w"> </code><code class="n">theMessage</code><code class="p">;</code><code class="w"/>&#13;
<code class="w">  </code><code class="kt">int</code><code class="w"> </code><code class="n">messageX</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="mi">125</code><code class="p">,</code><code class="w"> </code><code class="n">messageY</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="mi">95</code><code class="p">;</code><code class="w"> </code><code class="c1">// Coordinates of the message</code><code class="w"/>&#13;
&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="nf">HelloComponent2</code><code class="p">(</code><code class="n">String</code><code class="w"> </code><code class="n">message</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">theMessage</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="n">message</code><code class="p">;</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">addMouseMotionListener</code><code class="p">(</code><code class="k">this</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/>&#13;
&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">paintComponent</code><code class="p">(</code><code class="n">Graphics</code><code class="w"> </code><code class="n">g</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">g</code><code class="p">.</code><code class="na">drawString</code><code class="p">(</code><code class="n">theMessage</code><code class="p">,</code><code class="w"> </code><code class="n">messageX</code><code class="p">,</code><code class="w"> </code><code class="n">messageY</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/>&#13;
&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">mouseDragged</code><code class="p">(</code><code class="n">MouseEvent</code><code class="w"> </code><code class="n">e</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="c1">// Save the mouse coordinates and paint the message.</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">messageX</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="n">e</code><code class="p">.</code><code class="na">getX</code><code class="p">();</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">messageY</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="n">e</code><code class="p">.</code><code class="na">getY</code><code class="p">();</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">repaint</code><code class="p">();</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/>&#13;
&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">mouseMoved</code><code class="p">(</code><code class="n">MouseEvent</code><code class="w"> </code><code class="n">e</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"> </code><code class="p">}</code><code class="w"/>&#13;
<code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>If you are using IDEA, create a new Java class named <em>HelloJava2</em> and copy the code above. If you are sticking with the terminal, place the text of this example in a new file called <em>HelloJava2.java</em>. Either way, you want to compile it as before. You should get new class files, <em>HelloJava2.class</em> and <em>HelloComponent2.class</em>, as a result.</p>&#13;
&#13;
<p>If you are following in IDEA, click the Run button next to <code>HelloJava2</code>. If you are using a terminal, run the example using the following command:</p>&#13;
&#13;
<pre data-type="programlisting">C:\&gt; java HelloJava2</pre>&#13;
&#13;
<p>Feel free to substitute your own victorious comment for the “Hello, Java!” message and enjoy many hours of fun, dragging the text around with your mouse. Notice that now when you click the window’s close button, the application exits properly; we’ll explain that later when we talk about events. Let’s dive in and see what has changed.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Instance Variables" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-3.1">&#13;
<h2>Instance Variables</h2>&#13;
&#13;
<p>We have added some variables to the <code>HelloComponent2</code> class in our example:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="kt">int</code><code class="w"> </code><code class="n">messageX</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="mi">125</code><code class="p">,</code><code class="w"> </code><code class="n">messageY</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="mi">95</code><code class="p">;</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">String</code><code class="w"> </code><code class="n">theMessage</code><code class="p">;</code><code class="w"/></pre>&#13;
&#13;
<p><code>messageX</code> and <code>messageY</code> are integers that hold the current coordinates of our movable message. We have set them to default values that should place the message roughly near the center of the window. Java integers are 32-bit signed numbers, so they can easily hold our coordinate values. The <a data-primary="String class" data-secondary="instance variables" data-type="indexterm" id="id778"/>variable <code>theMessage</code> is of type <code>String</code> and can hold instances of the <code>String</code> class.</p>&#13;
&#13;
<p class="pagebreak-before">You should note that these three <a data-primary="instance variables" data-type="indexterm" id="id779"/><a data-primary="HelloJava/HelloJava2 app-building process" data-secondary="instance variables" data-type="indexterm" id="id780"/>variables are declared inside the braces of the class definition but not inside any particular method in that class. These variables are called <em>instance</em> variables, and they belong to the object as a whole. Specifically, separate copies of them appear in each separate instance of the class. Instance variables are always visible to (and usable by) all the methods inside their class. Depending on their modifiers, they may also be accessible from outside the class.</p>&#13;
&#13;
<p>Unless otherwise initialized (programmer jargon for setting the first value on something), instance variables are set to a default value of <code>0</code>, <code>false</code>, or <code>null</code>, depending on their type. Numeric types are set to <code>0</code>, Boolean variables are set to <code>false</code>, and class type variables always have their value set to <code>null</code>.</p>&#13;
&#13;
<p>Instance variables differ from <a data-primary="scope" data-secondary="variable" data-type="indexterm" id="id781"/><a data-primary="local variables" data-type="indexterm" id="id782"/><a data-primary="arguments" data-secondary="method" data-type="indexterm" id="id783"/>method arguments and other variables that are declared inside the scope of a particular method. The latter are called <em>local</em> variables. They are effectively private variables that can be seen only by code inside a method or other code block. Java doesn’t initialize local variables, so you must assign values yourself. If you try to use a local variable that has not yet been assigned a value, your code generates a compile-time error. Local variables live only as long as the method is executing and then disappear, unless something else saves their value. Each time the method is invoked, its local variables are recreated and must be assigned values.</p>&#13;
&#13;
<p>We have used the new variables to make our previously stodgy <code>paintComponent()</code> method more dynamic. Now all the arguments in the call to <code>drawString()</code> are determined by these variables.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Constructors" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-3.2">&#13;
<h2>Constructors</h2>&#13;
&#13;
<p>The <code>HelloComponent2</code> class <a data-primary="objects" data-secondary="constructors" data-type="indexterm" id="ix_object_constr"/><a data-primary="HelloJava/HelloJava2 app-building process" data-secondary="constructors" data-type="indexterm" id="ix_hellojava_construct_ch2"/><a data-primary="methods" data-secondary="constructors" data-type="indexterm" id="ix_method_constr"/><a data-primary="constructors" data-type="indexterm" id="ix_construct_ch2"/>includes a special kind of a method called a <em>constructor</em>. A <a data-primary="classes" data-secondary="and constructors" data-secondary-sortas="constructors" data-type="indexterm" id="id784"/>constructor is called to set up a new instance of a class. When a new object is created, Java allocates storage for it, sets instance variables to their default values, and calls the constructor method for the class to do whatever application-level setup is required.</p>&#13;
&#13;
<p>A constructor always has the same name as its class. For example, the constructor for the <code>HelloComponent2</code> class is called <code>HelloComponent2()</code>. Constructors don’t have a return type, but you can think of them as creating an object of their class’s type. Like other methods, constructors can have parameters. Their sole mission in life is to configure and initialize newly born class instances, possibly using information passed to them in these parameters.</p>&#13;
&#13;
<p class="pagebreak-before">An <a data-primary="new operator" data-secondary="object creation" data-type="indexterm" id="id785"/><a data-primary="arguments" data-secondary="and parameters" data-secondary-sortas="parameters" data-type="indexterm" id="id786"/>object is created with the <code>new</code> operator specifying the constructor for the class and any necessary arguments.<sup><a data-type="noteref" href="ch02.html#id787" id="id787-marker">1</a></sup> The resulting object instance is returned as a value. In our example, a new <code>HelloComponent2</code> instance is created in the <code>main()</code> method by this line:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">add</code><code class="p">(</code><code class="k">new</code><code class="w"> </code><code class="n">HelloComponent2</code><code class="p">(</code><code class="s">"Hello, Java!"</code><code class="p">));</code><code class="w"/></pre>&#13;
&#13;
<p>This line actually does two things. To make that clearer, we could write them as two separate lines that are a little easier to understand:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">HelloComponent2</code><code class="w"> </code><code class="n">newObject</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="k">new</code><code class="w"> </code><code class="n">HelloComponent2</code><code class="p">(</code><code class="s">"Hello, Java!"</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">add</code><code class="p">(</code><code class="n">newObject</code><code class="p">);</code><code class="w"/></pre>&#13;
&#13;
<p>The first line is the important one, where a new <code>HelloComponent2</code> object is created. The <code>HelloComponent2</code> constructor takes a <code>String</code> as an argument and, as we have arranged things, uses that argument to set the message that is displayed in the window. With a little magic from the Java compiler, quoted text in Java source code is turned into a <code>String</code> object. (See <a data-type="xref" href="ch08.html#learnjava6-CHP-8">Chapter 8</a> for a deeper discussion of the <code>String</code> class.) The second line simply adds our new component to the frame to make it visible, as we did in the previous examples.</p>&#13;
&#13;
<p>While we’re on the topic, if you’d like to make our message configurable, you can change the constructor call to the following:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">HelloComponent2</code><code class="w"> </code><code class="n">newobj</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="k">new</code><code class="w"> </code><code class="n">HelloComponent2</code><code class="p">(</code><code class="n">args</code><code class="o">[</code><code class="mi">0</code><code class="o">]</code><code class="p">);</code><code class="w"/></pre>&#13;
&#13;
<p>Now you can pass the text on the command line when you run the application using the following command:</p>&#13;
&#13;
<pre data-type="programlisting">C:\&gt; java HelloJava2 "Hello, Java!"</pre>&#13;
&#13;
<p><code>args[0]</code> refers to the first command-line parameter. Its meaning will become clearer when we discuss arrays in <a data-type="xref" href="ch04.html#learnjava6-CHP-4">Chapter 4</a>. If you are using an IDE, you will need to configure it to accept your parameters before running it. <a data-primary="run configuration, IDEA" data-type="indexterm" id="id788"/>IntelliJ IDEA has something called a <em>run configuration</em> that you can edit from the same menus that pop up when you click the green play buttons. The run configuration has a number of options, but our interest is in the text field for “Program Arguments,” as shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-15">Figure 2-19</a>. Note that on both the command line and in the IDE, you must enclose your phrase in double quotes to make sure the text is considered one argument. If you leave off the quotes, <code>Hello,</code> and <code>Java!</code> would be two separate arguments.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-15">&#13;
<img alt="ljv6 0219" src="assets/ljv6_0219.png"/>&#13;
<h6><span class="label">Figure 2-19. </span>IDEA dialog for giving command-line parameters</h6>&#13;
</div></figure>&#13;
&#13;
<p><code>HelloComponent2</code>’s constructor then does two things: it sets the text of <code>theMessage</code> instance variable and calls <code>addMouseMotionListener()</code>. <a data-primary="addMouseMotionListener() method" data-type="indexterm" id="id789"/>This method is part of the event mechanism, which we’ll discuss next. It tells the system, “Hey, I’m interested in anything that happens involving mouse motion”:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="nf">HelloComponent2</code><code class="p">(</code><code class="n">String</code><code class="w"> </code><code class="n">message</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">theMessage</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="n">message</code><code class="p">;</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">addMouseMotionListener</code><code class="p">(</code><code class="k">this</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>The special, read-only <a data-primary="references" data-secondary="from classes" data-secondary-sortas="classes" data-type="indexterm" id="id790"/><a data-primary="references" data-secondary="method" data-type="indexterm" id="id791"/><a data-primary="references" data-secondary="this reference" data-type="indexterm" id="id792"/><a data-primary="this reference" data-type="indexterm" id="id793"/>variable called <code>this</code> is used to explicitly refer to our object (the “current” object context) in the call to <code>addMouseMotionListener()</code>. A method can use <code>this</code> to refer to the instance of the object that holds it. The following two statements are therefore equivalent ways of assigning the value to <code>theMessage</code> instance variable:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">theMessage</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="n">message</code><code class="p">;</code><code class="w"/></pre>&#13;
&#13;
<p>or:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="k">this</code><code class="p">.</code><code class="na">theMessage</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="n">message</code><code class="p">;</code><code class="w"/></pre>&#13;
&#13;
<p>We’ll normally use the shorter, implicit form to refer to instance variables, but we’ll need <code>this</code> when we have to explicitly pass a reference to our object to a method in another class. We often pass such references so that methods in other classes can invoke our public methods or use our public variables.<a data-primary="" data-startref="ix_construct_ch2" data-type="indexterm" id="id794"/><a data-primary="" data-startref="ix_hellojava_construct_ch2" data-type="indexterm" id="id795"/><a data-primary="" data-startref="ix_method_constr" data-type="indexterm" id="id796"/><a data-primary="" data-startref="ix_object_constr" data-type="indexterm" id="id797"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Events" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-3.3">&#13;
<h2>Events</h2>&#13;
&#13;
<p>The last two <a data-primary="HelloJava/HelloJava2 app-building process" data-secondary="events" data-type="indexterm" id="ix_hellojava_event"/><a data-primary="events" data-secondary="HelloJava/HelloJava2" data-type="indexterm" id="ix_event_hellojava"/>methods of <code>HelloComponent2</code>, <code>mouseDragged()</code> and <code>mouseMoved()</code>, tell Java to pass along any information it might get from the mouse. Each time the user performs an action, such as pressing a key on the keyboard, moving the mouse, or perhaps banging their head against a touch screen, Java generates an <em>event</em>. An event represents an action that has occurred; it contains information about the action, such as its time and location. Most events are associated with a particular GUI component in an application. A keystroke, for instance, can correspond to a character being typed into a particular text entry field. Clicking a mouse button can activate a particular button on the screen. Even just moving the mouse within a certain area of the screen can trigger effects such as highlighting text or changing the cursor’s shape.</p>&#13;
&#13;
<p>To work with these events, we’ve imported a new package, <code>java.awt.event</code>, which provides specific <code>Event</code> objects that we use to get information from the user. (Notice that importing <code>java.awt.*</code> doesn’t automatically import the <code>event</code> package. Imports are not recursive. Packages don’t really contain other packages, even if the hierarchical naming scheme would imply that they do.)</p>&#13;
&#13;
<p>There are dozens of <a data-primary="MouseEvent class" data-type="indexterm" id="id798"/><a data-primary="KeyEvent class" data-type="indexterm" id="id799"/><a data-primary="ActionEvent class" data-type="indexterm" id="id800"/><a data-primary="classes" data-secondary="event" data-type="indexterm" id="id801"/>event classes, including <code>MouseEvent</code>, <code>KeyEvent</code>, and <code>Action​E⁠vent</code>. For the most part, the meaning of these events is fairly intuitive. A <code>MouseEvent</code> occurs when the user does something with the mouse, a <code>KeyEvent</code> occurs when the user presses or releases a key, and so on. <code>ActionEvent</code> is a little special; we’ll see it at work in <a data-type="xref" href="ch12.html#learnjava6-CHP-12">Chapter 12</a>. For now, we’ll focus on dealing with <code>MouseEvent</code>s.</p>&#13;
&#13;
<p>GUI components in Java generate events for specific kinds of user actions. For example, if you click the mouse inside a component, the component generates a mouse event. <a data-primary="listener interface, event handling" data-type="indexterm" id="id802"/><a data-primary="arguments" data-secondary="and events" data-secondary-sortas="events" data-type="indexterm" id="id803"/>Objects can ask to receive the events from one or more components by registering a <em>listener</em> with the event source. For example, to declare that a listener wants to receive a component’s mouse-motion events, you invoke that component’s <code>addMouseMotionListener()</code> method, specifying the listener object as an argument. That’s what our example is doing in its constructor. In this case, the component is calling its own <code>addMouseMotionListener()</code> method, with the argument <code>this</code>, meaning “I want to receive my own mouse-motion events.”</p>&#13;
&#13;
<p>That’s how we register to receive events. But how do we actually get them? That’s what the two mouse-related methods in our class are for. The <code>mouseDragged()</code> method is called automatically on a listener to receive the events generated when the user drags the mouse—that is, moves the mouse with any button clicked. The <code>mouseMoved()</code> method is called whenever the user moves the mouse over the area without clicking a button.</p>&#13;
&#13;
<p>In this case, we’ve placed these <a data-primary="adapter classes" data-type="indexterm" id="id804"/>methods in our <code>HelloComponent2</code> class and had it register itself as the listener. This is entirely appropriate for our new text-dragging component. More generally, good design usually dictates that event listeners be implemented as <em>adapter classes</em> that provide better separation of GUI and “business logic.” An adapter class is a convenient intermediate class that implements all of the methods of an interface with some default behavior. We’ll discuss events, listeners, and adapters in detail in <a data-type="xref" href="ch12.html#learnjava6-CHP-12">Chapter 12</a>.</p>&#13;
&#13;
<p>Our <code>mouseMoved()</code> method is boring: it doesn’t do anything. We ignore simple mouse motions and reserve our attention for dragging. But we have to supply some kind of implementation—even an empty one—since the <code>MouseMotionListener</code> interface includes it. Our <code>mouseDragged()</code> method, on the other hand, has some meat to it. This method is called repeatedly by the windowing system to give us updates on the position of the mouse as the user drags it around. Here it is:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">mouseDragged</code><code class="p">(</code><code class="n">MouseEvent</code><code class="w"> </code><code class="n">e</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">messageX</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="n">e</code><code class="p">.</code><code class="na">getX</code><code class="p">();</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">messageY</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="n">e</code><code class="p">.</code><code class="na">getY</code><code class="p">();</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">repaint</code><code class="p">();</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>The lone parameter to <code>mouseDragged()</code> is a <code>MouseEvent</code> object, <code>e</code>, that contains all the information we need to know about this event. We ask the <code>MouseEvent</code> to tell us the <code>x</code> and <code>y</code> coordinates of the mouse’s current position by calling its <code>getX()</code> and <code>getY()</code> methods. We save these in the <code>messageX</code> and <code>messageY</code> instance variables for use elsewhere.</p>&#13;
&#13;
<p>The beauty of the event model is that you have to handle only the kinds of events you want. If you don’t care about keyboard events, you just don’t register a listener for them; the user can type all they want and you won’t be bothered. If there are no listeners for a particular kind of event, Java won’t even generate it. The result is that event handling is quite efficient.<sup><a data-type="noteref" href="ch02.html#id805" id="id805-marker">2</a></sup></p>&#13;
&#13;
<p>While we’re discussing events, we should mention another small addition we slipped into <code>HelloJava2</code>:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">setDefaultCloseOperation</code><code class="p">(</code><code class="n">JFrame</code><code class="p">.</code><code class="na">EXIT_ON_CLOSE</code><code class="p">);</code><code class="w"/></pre>&#13;
&#13;
<p>This line tells the frame to exit the application when its Close button is clicked. It’s called the “default” close operation because this operation, like almost every other GUI interaction, is governed by events. We could register a window listener to be notified when the user clicks on the Close button and take whatever action we like, but this convenience method handles the common cases.</p>&#13;
&#13;
<p>Finally, we’ve danced around a couple of other questions here. How does the system know that our class contains the necessary <code>mouseDragged()</code> and <code>mouseMoved()</code> methods? Where do these names come from? And why do we have to supply a <code>mouseMoved()</code> method that doesn’t do anything? The answer to these questions has to do with <span class="keep-together">interfaces.</span> We’ll touch on interfaces after clearing up some unfinished business with <code>repaint()</code>.<a data-primary="" data-startref="ix_event_hellojava" data-type="indexterm" id="id806"/><a data-primary="" data-startref="ix_hellojava_event" data-type="indexterm" id="id807"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The repaint() Method" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-3.4">&#13;
<h2>The repaint() Method</h2>&#13;
&#13;
<p>Because we <a data-primary="repaint() method" data-secondary="JComponent" data-type="indexterm" id="id808"/>change the coordinates for the message when we drag the mouse, we would like <code>HelloComponent2</code> to redraw itself. We do this by calling <code>repaint()</code>, which asks the system to redraw the screen at a later time. We can’t call <code>paintComponent()</code> directly, even if we wanted to, because we don’t have a graphics context to pass to it.</p>&#13;
&#13;
<p>We <a data-primary="JComponent class" data-type="indexterm" id="id809"/>can use the <code>repaint()</code> method of the <code>JComponent</code> class to request that our component be redrawn. <code>repaint()</code> causes the Java windowing system to schedule a call to our <code>paintComponent()</code> method at the next possible time; Java supplies the necessary <code>Graphics</code> object, as shown in <a data-type="xref" href="#learnjava6-CHP-2-FIG-16">Figure 2-20</a>.</p>&#13;
&#13;
<figure><div class="figure" id="learnjava6-CHP-2-FIG-16">&#13;
<img alt="ljv6 0220" src="assets/ljv6_0220.png"/>&#13;
<h6><span class="label">Figure 2-20. </span>Invoking the <code>repaint()</code> method</h6>&#13;
</div></figure>&#13;
&#13;
<p>This mode of operation isn’t just an inconvenience brought about by not having the right graphics context handy. Its biggest advantage is that the repainting behavior is handled by something else, while we are free to go about our business. The Java system has a separate, dedicated thread of execution that handles all <code>repaint()</code> requests. It can schedule and consolidate <code>repaint()</code> requests as necessary, which helps to prevent the windowing system from being overwhelmed during painting-intensive situations like scrolling. Another advantage is that all the painting functionality must be encapsulated through our <code>paintComponent()</code> method; we aren’t tempted to spread it throughout the application (which could make maintenance difficult).</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Interfaces" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-3.5">&#13;
<h2>Interfaces</h2>&#13;
&#13;
<p>Now it’s time to <a data-primary="HelloJava/HelloJava2 app-building process" data-secondary="interfaces" data-type="indexterm" id="ix_hello_java_interface"/><a data-primary="interfaces" data-type="indexterm" id="ix_interface_ch2"/><a data-primary="MouseMotionListener interface" data-type="indexterm" id="id810"/>tackle some of the questions we avoided earlier: how does the system know to call <code>mouseDragged()</code> when a mouse event occurs? Is it simply a matter of knowing that <code>mouseDragged()</code> is some magic name that our event-handling method must have? Not quite; the answer touches on the discussion of interfaces, which are one of the most important features of the Java language.</p>&#13;
&#13;
<p>The <a data-primary="classes" data-secondary="and interfaces" data-secondary-sortas="interfaces" data-type="indexterm" id="id811"/>first sign of an interface comes on the line of code that introduces the &#13;
<span class="keep-together"><code>HelloComponent2</code></span> class. We say that the class <em>implements</em> the <code>MouseMotionListener</code> interface:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="kd">class</code> <code class="nc">HelloComponent2</code><code class="w"> </code><code class="kd">extends</code><code class="w"> </code><code class="n">JComponent</code><code class="w"> </code><code class="kd">implements</code><code class="w"> </code><code class="n">MouseMotionListener</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">  </code><code class="c1">// ...</code><code class="w"/>&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">mouseMoved</code><code class="p">(</code><code class="n">MouseEvent</code><code class="w"> </code><code class="n">e</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="c1">// Your own logic goes here</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/>&#13;
&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">mouseDragged</code><code class="p">(</code><code class="n">MouseEvent</code><code class="w"> </code><code class="n">e</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="c1">// Your own logic goes here</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/>&#13;
<code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>Essentially, an <em>interface</em> is a list of methods that the class must have; this particular interface requires our class to have methods called <code>mouseDragged()</code> and <code>mouseMoved()</code>. The interface doesn’t say what these methods have to do; indeed, our <code>mouseMoved()</code> doesn’t do anything at all. It does say that the methods must take a <code>MouseEvent</code> as an argument and return no value (that’s what <code>void</code> means).</p>&#13;
&#13;
<p>An interface is a contract between you, the code developer, and the compiler. By saying that your class implements the <code>MouseMotionListener</code> interface, you’re saying that these methods will be available for other parts of the system to call. If you don’t provide them, a compilation error will occur. That’s why we need a <code>mouseMoved()</code> method; even though the one we supplied doesn’t do anything, the &#13;
<span class="keep-together"><code>MouseMotionListener</code></span> interface says we must have one.</p>&#13;
&#13;
<p>The Java distribution comes with many interfaces that define what classes have to do. This idea of a contract between the compiler and a class is very important. There are many situations like the one we just saw where you don’t care what class something is; you just care that it has some capability, such as listening for mouse events. Interfaces give us a way of acting on objects based on their capabilities without knowing or caring about their actual type. They are a tremendously important concept in how we use Java as an object-oriented language. We’ll talk about them in detail in <a data-type="xref" href="ch05.html#learnjava6-CHP-5">Chapter 5</a>.</p>&#13;
&#13;
<p class="pagebreak-before"><a data-type="xref" href="ch05.html#learnjava6-CHP-5">Chapter 5</a> also discusses how interfaces provide a sort of escape clause to the Java rule that any new class can extend only a single class (“single inheritance”). A class in Java can extend only one class but can implement as many interfaces as it wants. Interfaces can be used as data types, can extend other interfaces (but not classes), and can be inherited by classes (if class A implements interface B, subclasses of A also implement B). The crucial difference is that classes don’t actually inherit methods from interfaces; the interfaces merely specify the methods the class must have.<a data-primary="" data-startref="ix_hellojava_app" data-type="indexterm" id="id812"/><a data-primary="" data-startref="ix_apps_hellojava2" data-type="indexterm" id="id813"/><a data-primary="" data-startref="ix_hello_java_interface" data-type="indexterm" id="id814"/><a data-primary="" data-startref="ix_interface_ch2" data-type="indexterm" id="id815"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Goodbye and Hello Again" data-type="sect1"><div class="sect1" id="learnjava6-CHP-2-SECT-4">&#13;
<h1>Goodbye and Hello Again</h1>&#13;
&#13;
<p>Well, it’s time to say goodbye to <code>HelloJava</code>. We hope that you have developed a feel for some of the features of the Java language and the basics of writing and running a Java program. This brief introduction should help you as you explore the details of programming with Java. If you are a bit bewildered by some of the material presented here, take heart. We’ll be covering all the major topics presented here again in their own chapters throughout the book. This tutorial was meant to be something of a “trial by fire” to get the important concepts and terminology into your brain so that the next time you hear them you’ll have a head start.</p>&#13;
&#13;
<p>We will be getting to know the tools of the Java world better in the next chapter. We’ll see details on the commands we have already introduced, such as <em>javac</em>, as well as go over other important utilities. Read on to say hello to several of your new best friends as a Java developer!<a data-primary="" data-startref="ix_apps_ch2" data-type="indexterm" id="id816"/></p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Review Questions" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-4.1">&#13;
<h2>Review Questions</h2>&#13;
&#13;
<p>Here are a few review questions to make sure you caught the key topics in this chapter:</p>&#13;
<ol>&#13;
<li>&#13;
<p>What command do you use to compile a Java source file?</p>&#13;
</li>&#13;
<li>&#13;
<p>How does the JVM know where to start when you run a Java class?</p>&#13;
</li>&#13;
<li>&#13;
<p>Can you extend more than one class when creating a new class?</p>&#13;
</li>&#13;
<li>&#13;
<p>Can you implement more than one interface when creating a new class?</p>&#13;
</li>&#13;
<li>&#13;
<p>Which class represents the main window in a graphical application?</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="Code Exercises" data-type="sect2"><div class="sect2" id="learnjava6-CHP-2-SECT-4.2">&#13;
<h2>Code Exercises</h2>&#13;
&#13;
<p>And for your first programming exercise,<sup><a data-type="noteref" href="ch02.html#id817" id="id817-marker">3</a></sup> create a <code>GoodbyeJava</code> class that works just like the first HelloJava program from <a data-type="xref" href="#learnjava6-CHP-2-SECT-1.3">“Running the Project”</a>, but displays the message “Goodbye, Java!” instead. Try either the command-line version or the graphical version—or both! Feel free to copy as much of the original program as you like. Be sure to compile and run your <code>GoodbyeJava</code> class to help practice the process of executing a Java application. You will certainly get more practice along the way, but gathering a little more familiarity with either your IDE or the <em>javac</em> and <em>java</em> commands now will help as you read the next several chapters.</p>&#13;
</div></section>&#13;
</div></section>&#13;
<div data-type="footnotes"><p data-type="footnote" id="id787"><sup><a href="ch02.html#id787-marker">1</a></sup> The terms <em>parameter</em> and <em>argument</em> often get used interchangeably. That’s mostly fine, but technically you provide parameters with a type and a name when defining methods or constructors. You supply arguments to fill those parameters when you call the method or constructor.</p><p data-type="footnote" id="id805"><sup><a href="ch02.html#id805-marker">2</a></sup> Event handling in Java 1.0 was a very different story. Early on, Java did not have a notion of event listeners, and all event handling happened by overriding methods in base GUI classes. This was inefficient and led to poor design, with a proliferation of highly specialized components.</p><p data-type="footnote" id="id817"><sup><a href="ch02.html#id817-marker">3</a></sup> You can find the solutions to the programming challenges from each chapter in the <em>exercises</em> folder of the source code. <a data-type="xref" href="app01.html#learnjava6-APP-A">Appendix A</a> contains details on downloading and using the source code. <a data-type="xref" href="app02.html#learnjava6-APP-B">Appendix B</a> contains answers to the end-of-chapter questions as well as hints on code solutions for each chapter.</p></div></div></section></body></html>