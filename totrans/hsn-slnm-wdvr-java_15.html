<html><head></head><body><section data-pdf-bookmark="Appendix B. Driver Management" data-type="appendix" epub:type="appendix"><div class="appendix" id="appendix02">&#13;
<h1><span class="label">Appendix B. </span>Driver Management</h1>&#13;
&#13;
&#13;
<p>As discussed in <a data-type="xref" href="ch01.html#ch01">Chapter 1</a>, driver management involves three steps: download, setup, and maintenance. Manual driver management is costly in terms of effort and potentially problematic regarding maintainability. For this reason, I use WebDriverManager to carry out this process in an automated and automaintained manner in all the examples of this book. For completeness, this appendix also describes the involved steps (download, setup, and maintenance) in manual driver management.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="WebDriverManager: Automated Driver Management" data-type="sect1"><div class="sect1" id="idm45849691669552">&#13;
<h1>WebDriverManager: Automated Driver Management</h1>&#13;
&#13;
<p><a href="https://bonigarcia.dev/webdrivermanager">WebDriverManager</a> is an open source Java <a data-primary="Java" data-secondary="WebDriverManager and" data-type="indexterm" id="idm45849691667024"/><a data-primary="browsers" data-secondary="WebDriverManager and versions of" data-type="indexterm" id="appa4"/><a data-primary="drivers" data-secondary="versions of" data-type="indexterm" id="appa5"/><a data-primary="resolution algorithm" data-type="indexterm" id="appa6"/><a data-primary="versions of browsers and drivers, compatibility of" data-type="indexterm" id="appa7"/><a data-primary="WebDriverManager" data-secondary="for automation" data-secondary-sortas="automation" data-type="indexterm" id="appa8"/><a data-primary="WebDriverManager" data-secondary="browsers and drivers of" data-type="indexterm" id="appa9"/><a data-primary="WebDriverManager" data-secondary="browser version discovery by" data-type="indexterm" id="appa10"/><a data-primary="WebDriverManager" data-secondary="driver version discovery by" data-type="indexterm" id="appa11"/><a data-primary="drivers" data-secondary="WebDriverManager resolution of" data-type="indexterm" id="appa12"/><a data-primary="WebDriverManager" data-secondary="driver resolution by" data-type="indexterm" id="appa13"/><a data-primary="automation of browsers" data-secondary="driver management and" data-type="indexterm" id="appa14"/><a data-primary="driver management" data-secondary="automation of" data-type="indexterm" id="appa15"/>library that manages the drivers required by Selenium WebDriver (e.g., chromedriver, geckodriver, msedgedriver, etc.) in an automated manner. WebDriverManager <a data-primary="managers, browser-driver" data-type="indexterm" id="idm45849691651456"/><a data-primary="Chrome" data-secondary="driver for" data-type="indexterm" id="idm45849691650768"/><a data-primary="Edge" data-secondary="driver for" data-type="indexterm" id="idm45849691649824"/><a data-primary="Firefox" data-secondary="driver for" data-type="indexterm" id="idm45849691648880"/><a data-primary="Internet Explorer" data-type="indexterm" id="idm45849691647936"/><a data-primary="Opera" data-type="indexterm" id="idm45849691647264"/><a data-primary="Chromium" data-secondary="driver for" data-type="indexterm" id="idm45849691646592"/>provides a set of <em>managers</em> for different browsers, namely Chrome, Firefox, Edge, Opera, Chromium, and Internet Explorer.</p>&#13;
&#13;
<p>WebDriverManager internally executes a <em>resolution algorithm</em> to manage the drivers required by each browser. This algorithm aims to automatically discover, download, set up, and maintain these drivers.</p>&#13;
&#13;
<p><a data-type="xref" href="#wdm-algorithm">Figure B-1</a> represents this algorithm in the context of the methodology implemented by WebDriverManager. For each manager (e.g., <code>chromedriver()</code>, <code>firefoxdriver()</code>, etc.), the resolution algorithm works as follows:</p>&#13;
<ol>&#13;
<li>&#13;
<p>WebDriverManager tries to find the browser version (e.g., Chrome) installed in the local machine. For that, it <a data-primary="commands database" data-type="indexterm" id="idm45849691641184"/>uses an internal knowledge database called <em>commands database</em>. This database contains a list of shell commands (in different operating systems) that allow discovering the browser versions (e.g., <code>google-chrome --version</code> in Linux).</p>&#13;
</li>&#13;
<li>&#13;
<p>Using the found major browser version (e.g., Chrome 89), WebDriverManager determines the correct driver version (e.g., chromedriver 89.0.4389.23). I call this <a data-primary="version resolution" data-type="indexterm" id="appa16"/>process <em>version resolution</em>. To ease this process, several driver maintainers (i.e., chromedriver and msedgedriver) publish the specific driver version in their online repositories using simple text files (e.g., <em>https://chromedriver.storage.googleapis.com/LATEST_RELEASE_89</em>). Unfortunately, this information is not available for other drivers, such as geckodriver or operadriver. For this reason, <a data-primary="versions database" data-type="indexterm" id="idm45849691636304"/>WebDriverManager uses another internal knowledge database (called <em>versions database</em>) to keep the association between the versions of browsers and drivers. Both versions and commands databases synchronize their values using an online master reference stored on GitHub.</p>&#13;
</li>&#13;
<li>&#13;
<p>WebDriverManager downloads the specific driver for the local operating system (Windows, Linux, or macOS) and <a data-primary="local storage" data-type="indexterm" id="idm45849691634128"/><a data-primary="driver cache" data-type="indexterm" id="idm45849691633424"/>stores it in the local file system in the <em>driver cache</em> (by default, in the path <code>~/.cache/selenium</code>).</p>&#13;
</li>&#13;
<li>&#13;
<p>Finally, WebDriverManager exports the downloaded driver path using the proper Java system property (e.g., <code>webdriver.chrome.driver</code>).</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
<p>For the sake of performance and maintainability, WebDriverManager internally uses a <em>resolution cache</em>. This cache (by default stored in the driver cache as a properties file) keeps the relationship between the resolved driver versions. This <a data-primary="TTL (time-to-live) approach" data-type="indexterm" id="idm45849691628976"/><a data-primary="time-to-live (TTL) approach" data-type="indexterm" id="idm45849691628256"/>relationship is valid following a <em>time-to-live</em> (TTL) approach. The default value of this TTL is one day for drivers (e.g., chromedriver 89.0.4389.23) and one hour for browsers (e.g., Chrome 89). The resolution algorithm resolves drivers using the cached files in the subsequent invocations (this usually happens in a Selenium WebDriver test suite). Then, when a TTL expires, the resolution algorithm tries to resolve a new driver release. Finally, when a different browser version is detected, WebDriverManager downloads the new driver (if required). Thanks to this process, the <a data-primary="evergreen browsers" data-type="indexterm" id="idm45849691627056"/><a data-primary="browsers" data-secondary="evergreen" data-type="indexterm" id="idm45849691626352"/>version compliance of browser and driver is guaranteed even for evergreen <a data-startref="appa4" data-type="indexterm" id="idm45849691625280"/><a data-startref="appa5" data-type="indexterm" id="idm45849691624608"/><a data-startref="appa6" data-type="indexterm" id="idm45849691623936"/><a data-startref="appa7" data-type="indexterm" id="idm45849691623264"/><a data-startref="appa8" data-type="indexterm" id="idm45849691622592"/><a data-startref="appa9" data-type="indexterm" id="idm45849691621920"/><a data-startref="appa10" data-type="indexterm" id="idm45849691621248"/><a data-startref="appa11" data-type="indexterm" id="idm45849691620576"/>browsers.</p>&#13;
&#13;
<figure><div class="figure" id="wdm-algorithm">&#13;
<img alt="hosw ab01" src="assets/hosw_ab01.png"/>&#13;
<h6><span class="label">Figure B-1. </span>WebDriverManager methodology</h6>&#13;
</div></figure>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Generic Manager" data-type="sect2"><div class="sect2" id="generic_manager">&#13;
<h2>Generic Manager</h2>&#13;
&#13;
<p>In addition to the <a data-primary="generic manager of WebDriverManager" data-type="indexterm" id="idm45849691616176"/><a data-primary="parameterized managers" data-type="indexterm" id="idm45849691615568"/><a data-primary="WebDriverManager" data-secondary="generic manager of" data-type="indexterm" id="idm45849691614960"/><a data-primary="WebDriverManager" data-secondary="parameterized manager with" data-type="indexterm" id="idm45849691614112"/>browser-specific managers (e.g., <code>chromedriver()</code>, <code>firefoxdriver()</code>, etc.), WebDriverManager provides a <em>generic</em> manager, i.e., a manager that can be parameterized to act as a specific manager (for Chrome, Firefox, etc.). This <a data-primary="getInstance() method" data-type="indexterm" id="idm45849691611856"/>feature is available using the method <code>getInstance()</code> of the WebDriverManager API. There are different options to invoke this method:</p>&#13;
<dl>&#13;
<dt><code>getInstance(Class&lt;? extends WebDriver&gt; webDriverClass)</code></dt>&#13;
<dd>&#13;
<p>Where <code>webDriverClass</code> is a class of the <code>WebDriver</code> hierarchy, such as <code>ChromeDriver.class</code>, <code>FirefoxDriver.class</code>, etc.</p>&#13;
</dd>&#13;
<dt><code>getInstance(DriverManagerType driverManagerType)</code></dt>&#13;
<dd>&#13;
<p>Where <code>driverManagerType</code> is an enumeration provided by WebDriverManager to identify the available managers. The possible values of this enumeration are <code>CHROME</code>, <code>FIREFOX</code>, <code>EDGE</code>, <code>OPERA</code>, <code>CHROMIUM</code>, <code>IEXPLORER</code>, and <code>SAFARI</code>.</p>&#13;
</dd>&#13;
<dt><code>getInstance(String browserName)</code></dt>&#13;
<dd>&#13;
<p>Where <code>browserName</code> is the browser name as case-insensitive string. The possible values are <code>Chrome</code>, <code>Firefox</code>, <code>Edge</code>, <code>Opera</code>, <code>Chromium</code>, <code>IExplorer</code>, and <code>Safari</code>.</p>&#13;
</dd>&#13;
<dt><code>getInstance()</code></dt>&#13;
<dd>&#13;
<p>When no parameter is specified, the configuration key <code>wdm.defaultBrowser</code> is used to select the <a data-startref="appa13" data-type="indexterm" id="idm45849691594736"/><a data-startref="appa12" data-type="indexterm" id="idm45849691594000"/>manager (Chrome by default).</p>&#13;
</dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Advanced Configuration" data-type="sect2"><div class="sect2" id="idm45849691592816">&#13;
<h2>Advanced Configuration</h2>&#13;
&#13;
<p>WebDriverManager provides <a data-primary="WebDriverManager" data-secondary="configuration of" data-type="indexterm" id="idm45849691591376"/>different ways of configuration. First, you <a data-primary="Java" data-secondary="WebDriverManager and" data-type="indexterm" id="idm45849691590208"/>can use its Java API through each manager. This API allows concatenating several methods to specify custom options or preferences. You can find the complete description of the WebDriverManager API in its <a href="https://bonigarcia.dev/webdrivermanager">documentation</a>. For example, the following command shows how to set up a proxy for the network connection:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">WebDriverManager</code><code class="o">.</code><code class="na">chromedriver</code><code class="o">().</code><code class="na">proxy</code><code class="o">(</code><code class="s">"server:port"</code><code class="o">).</code><code class="na">setup</code><code class="o">();</code></pre>&#13;
&#13;
<p>The second way to configure WebDriverManager is using Java system properties. Each WebDriverManager API method has an equivalent configuration key. For instance, the API method <code>cachePath()</code> (used to specify the driver cache folder) works the same way as the configuration key <code>wdm.cachePath</code>. These types of configuration keys can be passed, for example, using the command line:</p>&#13;
&#13;
<pre data-code-language="shell" data-type="programlisting">mvn <code class="nb">test</code> -Dwdm.cachePath<code class="o">=</code>/custom/path/to/driver/cache</pre>&#13;
&#13;
<p>Finally, you can also use environment variables to configure WebDriverManager. The variable names derive from each configuration key (e.g., <code>wdm.cachePath</code>), converting them to uppercase and replacing the symbol <code>.</code> with <code>_</code> (e.g., <code>WDM_CACHEPATH</code>). This mechanism can be convenient for configuring global parameters at the operating system level.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="pagebreak-before less_space" data-pdf-bookmark="Other Uses" data-type="sect2"><div class="sect2" id="idm45849691565280">&#13;
<h2>Other Uses</h2>&#13;
&#13;
<p>In addition to serving as a Java dependency, WebDriverManager can be used in other ways, namely:</p>&#13;
<dl>&#13;
<dt>As a command-line interface (CLI) tool<a data-primary="CLI (command-line interface) tool" data-type="indexterm" id="idm45849691562640"/><a data-primary="command-line interface (CLI) tool" data-type="indexterm" id="idm45849691561968"/><a data-primary="WebDriverManager" data-secondary="as CLI tool" data-secondary-sortas="CLI tool" data-type="indexterm" id="idm45849691561328"/></dt>&#13;
<dd>&#13;
<p>This mode allows you to resolve drivers (e.g., chromedriver, geckodriver). In addition, this mode allows you to execute browsers in Docker containers and interact with them through a remote desktop session.</p>&#13;
</dd>&#13;
<dt>As a server</dt>&#13;
<dd>&#13;
<p>The WebDriverManager <a data-primary="server, WebDriverManager as" data-type="indexterm" id="idm45849691558096"/><a data-primary="WebDriverManager" data-secondary="as server" data-secondary-sortas="server" data-type="indexterm" id="idm45849691557392"/>Server is based on HTTP and offers two types of services. First, it exposes a simple RESTlike API to resolve drivers. Second, it acts as a regular Selenium Server, and therefore, you can use it with different language bindings than Java.</p>&#13;
</dd>&#13;
<dt>As a Java agent</dt>&#13;
<dd>&#13;
<p>In this case, and using the JVM instrumentation API, WebDriverManager <a data-primary="WebDriverManager" data-secondary="as Java agent" data-secondary-sortas="Java agent" data-type="indexterm" id="idm45849691519088"/>uses the Java instrumentation API to check the objects being created in the JVM. When WebDriver <a data-primary="ChromeDriver" data-type="indexterm" id="idm45849691517872"/><a data-primary="FirefoxDriver" data-type="indexterm" id="idm45849691517264"/>objects are instantiated (<code>ChromeDriver</code>, <code>FirefoxDriver</code>, etc.), the required manager is used to resolve its driver (<code>chromedriver</code>, <code>geckodriver</code>, etc.). Thanks to this approach, you can get rid of the WebDriverManager call from your <a data-startref="appa14" data-type="indexterm" id="idm45849691514880"/><a data-startref="appa15" data-type="indexterm" id="idm45849691514272"/>tests.</p>&#13;
</dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Manual Driver Management" data-type="sect1"><div class="sect1" id="idm45849691668960">&#13;
<h1>Manual Driver Management</h1>&#13;
&#13;
<p>This section describes <a data-primary="driver management" data-secondary="manual" data-type="indexterm" id="appa17"/><a data-primary="driver management" data-secondary="steps in procedure of" data-type="indexterm" id="appa18"/><a data-primary="manual driver management" data-type="indexterm" id="appa19"/>how to manually implement the driver management process (download, setup, and maintenance).</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Download" data-type="sect3"><div class="sect3" id="idm45849691508128">&#13;
<h3>Download</h3>&#13;
&#13;
<p>The first step for driver management is to <a data-primary="downloading drivers" data-type="indexterm" id="idm45849691506608"/><a data-primary="drivers" data-secondary="downloading" data-type="indexterm" id="idm45849691505904"/><a data-primary="drivers" data-secondary="versions of" data-type="indexterm" id="idm45849691504960"/><a data-primary="browsers" data-secondary="drivers, overview of" data-type="indexterm" id="idm45849691504016"/><a data-primary="Edge" data-secondary="driver for" data-type="indexterm" id="idm45849691503072"/><a data-primary="Firefox" data-secondary="driver for" data-type="indexterm" id="idm45849691502128"/><a data-primary="Chrome" data-secondary="driver for" data-type="indexterm" id="idm45849691501184"/><a data-primary="Chromium" data-secondary="driver for" data-type="indexterm" id="idm45849691500240"/><a data-primary="chromedriver" data-type="indexterm" id="appa20"/><a data-primary="msedgedriver" data-type="indexterm" id="idm45849691498352"/><a data-primary="Edge" data-secondary="and msedgedriver" data-secondary-sortas="msedgedriver" data-type="indexterm" id="idm45849691497680"/><a data-primary="geckodriver" data-type="indexterm" id="idm45849691496464"/><a data-primary="Firefox" data-secondary="and geckodriver" data-secondary-sortas="geckodriver" data-type="indexterm" id="idm45849691495792"/>download the proper driver. <a data-type="xref" href="#driver_websites">Table B-1</a> shows the websites to obtain the drivers for the main browsers. You need to find the correct driver version and platform (Windows, Linux, macOS) for the browser you plan to use. Regarding the version, the Chrome and Edge (although not Firefox, unfortunately) maintainers follow the same versioning schema for drivers and browsers to ease this process. So, for instance, if you use Chrome or Edge 91.x, you also need to use chromedriver and msedgedriver 91.x. You will find the specific driver version in the documentation provided on the websites. For instance, to use Chrome 91, you need to download ChromeDriver 91.0.4472.19.</p>&#13;
<table class="pagebreak-before less_space" id="driver_websites">&#13;
<caption><span class="label">Table B-1. </span>Java system properties to set up drivers</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Browser</th>&#13;
<th>Driver</th>&#13;
<th>Download website</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p>Chrome/Chromium</p></td>&#13;
<td><p>chromedriver</p></td>&#13;
<td><p><a href="https://chromedriver.chromium.org/downloads"><em class="hyperlink">https://chromedriver.chromium.org/downloads</em></a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>Edge</p></td>&#13;
<td><p>msedgedriver</p></td>&#13;
<td><p><a href="https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver"><em class="hyperlink">https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver</em></a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>Firefox</p></td>&#13;
<td><p>geckodriver</p></td>&#13;
<td><p><a href="https://github.com/mozilla/geckodriver/releases"><em class="hyperlink">https://github.com/mozilla/geckodriver/releases</em></a></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setup" data-type="sect3"><div class="sect3" id="idm45849691480656">&#13;
<h3>Setup</h3>&#13;
&#13;
<p>Once you have the <a data-primary="drivers" data-secondary="setting up" data-type="indexterm" id="idm45849691479024"/>required driver for your WebDriver script, you need to set it up correctly. There are two ways to carry out this process. The first one is <a data-primary="PATH environmental variable (env)" data-type="indexterm" id="idm45849691477760"/>adding the driver location (the full path or the parent folder that contains the driver) to your <code>PATH</code> environmental variable (<em>env</em>). The <code>PATH</code> env is standard in Unix-like (e.g., Linux and macOS) and Windows operating systems. This environmental variable allows specifying a set of folders where the operating system locates executable programs. The way we configure <code>PATH</code> (and other environmental variables) depends on the specific operating system. For example, in Windows systems, we can do it using its GUI&#13;
(Control Panel → System → Advanced → Environment Variables). In a Unix-like system, we can use the command line to carry out this process, for instance, using the following command (or equivalent):</p>&#13;
&#13;
<pre data-code-language="shell" data-type="programlisting"><code class="nb">export</code> <code class="nv">PATH</code><code class="o">=</code><code class="nv">$PATH</code>:/path/to/drivers &gt;&gt; ~/.profile</pre>&#13;
&#13;
<p>The second way to <a data-primary="Java" data-secondary="system properties for driver set-up" data-type="indexterm" id="idm45849691471152"/>set up the driver is using <em>Java system properties</em>, which are configuration attributes (in the form of name/value) passed to the JVM. <a data-type="xref" href="#system_props">Table B-2</a> summarizes the names for the main drivers in Selenium WebDriver. The value for these properties is the full path of a given driver (e.g., <code>/path/to/drivers/chromedriver</code>).</p>&#13;
<table id="system_props">&#13;
<caption><span class="label">Table B-2. </span>Java system properties to set up drivers</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Browser</th>&#13;
<th>Driver</th>&#13;
<th>Java system property name</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p>Chrome/Chromium</p></td>&#13;
<td><p>chromedriver</p></td>&#13;
<td><p><code>webdriver.chrome.driver</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>Edge</p></td>&#13;
<td><p>msedgedriver</p></td>&#13;
<td><p><code>webdriver.edge.driver</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>Firefox</p></td>&#13;
<td><p>geckodriver</p></td>&#13;
<td><p><code>webdriver.gecko.driver</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>There are two ways to configure these properties: the <a data-primary="command line options" data-type="indexterm" id="idm45849691435840"/><a data-primary="Maven" data-secondary="command line options in" data-type="indexterm" id="idm45849691435200"/><a data-primary="Maven" data-secondary="setting up drivers with" data-type="indexterm" id="idm45849691434256"/><a data-primary="Gradle" data-secondary="setting up drivers with" data-type="indexterm" id="idm45849691433312"/>command line (passing the system property using the <code>-Dname=value</code> syntax) or Java code. For example, <a data-type="xref" href="#shell_props">Example B-1</a> shows the Maven and Gradle commands to execute all the tests of a given project while passing the properties to set up the drivers for Chrome, Edge, and Firefox. Then, <a data-type="xref" href="#java_props">Example B-2</a> shows how to make the same configuration, but this time using Java.</p>&#13;
<div class="pagebreak-before less_space" data-type="example" id="shell_props">&#13;
<h5><span class="label">Example B-1. </span>Maven and Gradle commands to configure system properties in the command line</h5>&#13;
&#13;
<pre data-code-language="shell" data-type="programlisting">mvn <code class="nb">test</code> -Dwebdriver.chrome.driver<code class="o">=</code>/path/to/drivers/chromedriver&#13;
mvn <code class="nb">test</code> -Dwebdriver.edge.driver<code class="o">=</code>/path/to/drivers/msedgedriver&#13;
mvn <code class="nb">test</code> -Dwebdriver.gecko.driver<code class="o">=</code>/path/to/drivers/geckodriver&#13;
&#13;
gradle <code class="nb">test</code> -Dwebdriver.chrome.driver<code class="o">=</code>/path/to/drivers/chromedriver&#13;
gradle <code class="nb">test</code> -Dwebdriver.edge.driver<code class="o">=</code>/path/to/drivers/msedgedriver&#13;
gradle <code class="nb">test</code> -Dwebdriver.gecko.driver<code class="o">=</code>/path/to/drivers/geckodriver</pre></div>&#13;
<div data-type="example" id="java_props">&#13;
<h5><span class="label">Example B-2. </span>Java commands to configure system properties</h5>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">System</code><code class="o">.</code><code class="na">setProperty</code><code class="o">(</code><code class="s">"webdriver.chrome.driver"</code><code class="o">,</code> <code class="s">"/path/to/drivers/chromedriver"</code><code class="o">);</code>&#13;
<code class="n">System</code><code class="o">.</code><code class="na">setProperty</code><code class="o">(</code><code class="s">"webdriver.edge.driver"</code><code class="o">,</code> <code class="s">"/path/to/drivers/msedgedriver"</code><code class="o">);</code>&#13;
<code class="n">System</code><code class="o">.</code><code class="na">setProperty</code><code class="o">(</code><code class="s">"webdriver.gecko.driver"</code><code class="o">,</code> <code class="s">"/path/to/drivers/geckodriver"</code><code class="o">);</code></pre></div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Maintenance" data-type="sect3"><div class="sect3" id="idm45849691339312">&#13;
<h3>Maintenance</h3>&#13;
&#13;
<p>Last but not least, the final step of driver management is to maintain these drivers. This <a data-primary="browsers" data-secondary="evergreen" data-type="indexterm" id="idm45849691361424"/><a data-primary="evergreen browsers" data-type="indexterm" id="idm45849691360480"/><a data-primary="maintenance, driver" data-type="indexterm" id="idm45849691359808"/><a data-primary="drivers" data-secondary="maintenance of" data-type="indexterm" id="idm45849691359136"/><a data-primary="automation of browsers" data-secondary="driver management and" data-type="indexterm" id="idm45849691358192"/><a data-primary="versions of browsers and drivers, compatibility of" data-type="indexterm" id="idm45849691357248"/><a data-primary="drivers" data-secondary="automatic browser updates and" data-type="indexterm" id="idm45849691356608"/>maintenance is necessary because evergreen browsers (such as Chrome, Edge, or Firefox) upgrade themselves automatically. Although appealing from a user perspective, this automated upgrade is problematic for Selenium WebDriver scripts where the driver management is manual. In this case, driver and browser compatibility is not guaranteed in the long run.</p>&#13;
&#13;
<p>A specific driver (e.g., chromedriver version 84.0.4147.30) is typically compatible with a given browser version (e.g., Chrome 84). Eventually, this compatibility is not guaranteed because of the automatic upgrade. As a result, a Selenium WebDriver script based on this driver stops working (i.e., the test is said to be broken). In practice, Selenium WebDriver developers experience this problem when tests fail because of driver and browser incompatibility. For instance, when <a data-primary="Chrome" data-secondary="error messages with update of" data-type="indexterm" id="idm45849691355184"/><a data-primary="error messages" data-type="indexterm" id="idm45849691354240"/>using Chrome as a browser, a broken test due to driver incompatibility reports the following error message: “this version of chromedriver only supports Chrome version N” (where N is the latest version of Chrome supported by a particular version of chromedriver). To illustrate this problem, <a data-type="xref" href="#google-trends">Figure B-2</a> shows the worldwide search interest of that error message on Google during 2019 and 2020, together with the release date of the different Chrome versions in this period. As you can see, the interest over time concerning this error message is related to <a data-startref="appa17" data-type="indexterm" id="idm45849691352336"/><a data-startref="appa18" data-type="indexterm" id="idm45849691351664"/><a data-startref="appa19" data-type="indexterm" id="idm45849691350992"/>some Chrome releases.</p>&#13;
&#13;
<figure><div class="figure" id="google-trends">&#13;
<img alt="hosw ab02" src="assets/hosw_ab02.png"/>&#13;
<h6><span class="label">Figure B-2. </span>Worldwide relative interest over time of the search term “this version of chromedriver only supports chrome version” in Google Trends together with the release dates of Chrome during 2019 and 2020</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Summary" data-type="sect1"><div class="sect1" id="idm45849691347968">&#13;
<h1>Summary</h1>&#13;
&#13;
<p>Selenium WebDriver <a data-startref="appa20" data-type="indexterm" id="idm45849691346416"/><a data-primary="Selenium WebDriver API" data-secondary="about" data-type="indexterm" id="idm45849691345680"/>is a library that allows you to control web browsers programmatically. The automation is based on the native capabilities of each browser. Therefore, we <a data-primary="drivers" data-secondary="about" data-type="indexterm" id="idm45849691344608"/>need to place a platform-dependent binary file called <em>driver</em> between the script/test using the Selenium WebDriver API and the browser. Some examples of drivers are chromedriver (for Chrome), geckodriver (for Firefox), and msedgedriver (for Edge). This appendix <a data-primary="driver management" data-secondary="automation of" data-type="indexterm" id="idm45849691343152"/>presented the driver management process. This process has three steps (download, setup, and maintenance), and it can be done either manually or automatically. By default, I recommend you use an automated driver management approach. To that aim, the <a data-primary="Java" data-secondary="WebDriverManager and" data-type="indexterm" id="idm45849691318096"/>reference tool in Java is WebDriverManager.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section></body></html>