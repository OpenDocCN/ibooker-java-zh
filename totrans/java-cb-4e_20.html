<html><head></head><body><section data-pdf-bookmark="Appendix A. Java Then and Now" data-type="appendix" epub:type="appendix"><div class="appendix" id="javacook-then_now">&#13;
<h1><span class="label">Appendix A. </span>Java Then and Now</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Introduction: Always in Motion the Java Is" data-type="sect1"><div class="sect1" id="javacook-then_now-intro">&#13;
<h1>Introduction: Always in Motion the Java Is</h1>&#13;
&#13;
<p>Java has always been a moving target for developers and writers. I meet developers <span class="keep-together">in my</span> commercial training programs who are still not aware of some of the features added to ancient Java releases, let alone current ones. This appendix looks at each of the major releases of Java. See Jon Byous’s Sun Microsystems article<a data-primary="Java Technology: The Early Years article" data-type="indexterm" id="idm45290619365672"/> “Java Technology: The Early Years” for a review of Java’s early history. You can also find a copy at the Paderborn University website.<sup><a data-type="noteref" href="app01.html#idm45290619364584" id="idm45290619364584-marker">1</a></sup></p>&#13;
&#13;
<p>Details on releases prior to Java 8 are considered ancient history and have been moved to&#13;
my website, <a href="https://darwinsys.com/java/ancientHistory.html"><em class="hyperlink">https://darwinsys.com/java/ancientHistory.html</em></a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="What Was New in Java 8" data-type="sect1"><div class="sect1" id="javacook-then_now-java8">&#13;
<h1>What Was New in Java 8</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Java 8 Language Changes" data-type="sect2"><div class="sect2" id="javacook-then_now-5.1">&#13;
<h2>Java 8 Language Changes</h2>&#13;
&#13;
<p><a data-primary="Java 8" data-primary-sortas="Java 08" data-type="indexterm" id="idm45290619356344"/>The biggest new feature in the Java 8 language is lambda expressions.&#13;
After a decade of debate on how to implement&#13;
them, closures, or lambda expressions, finally arrived with Java 8.&#13;
This is such a vast topic that it gets an entire chapter in this edition; see&#13;
<a data-type="xref" href="ch09.html#javacook-fp">Chapter 9</a>.</p>&#13;
&#13;
<p>Annotations can now be placed on structured types.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Java 8 API Changes" data-type="sect2"><div class="sect2" id="javacook-then_now-5.3">&#13;
<h2>Java 8 API Changes</h2>&#13;
&#13;
<p>Java 8 brings in the new date/time API from JSR-310. This provides a more consistent and&#13;
sensible set of classes and routines for dealing with time. <a data-type="xref" href="ch06.html#javacook-dates">Chapter 6</a> has been&#13;
completely rewritten to use the new API, ending with a recipe showing various conversions&#13;
between the old and new APIs.</p>&#13;
&#13;
<p>Java 8 introduced functional programming techniques such as closures, <code>Streams</code>,&#13;
and parallel collections, which we discuss in <a data-type="xref" href="ch09.html#javacook-fp">Chapter 9</a>.&#13;
In support of <code>Streams</code>, there are new methods in interfaces such as&#13;
<code>List</code>, <code>Map</code>, and <code>Set</code>, which had until now been largely unchanged since the long-gone days of Java 1.1.&#13;
Fortunately the Java 8 language support adds a <code>default</code> method type in interfaces,&#13;
so your custom implementations of these interfaces are not required to change (as long as you&#13;
make sure you change your IDE settings to an up-to-date compiler level).</p>&#13;
&#13;
<p>As one example of <code>default</code> methods in action,&#13;
<code>Iterable</code> gets a new <code>default</code> method called <a data-primary="forEach() method" data-type="indexterm" id="idm45290619344248"/><code>forEach()</code>, which lets you write code like this:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">myList</code><code class="o">.</code><code class="na">forEach</code><code class="o">(</code><code class="n">e</code> <code class="o">-&gt;</code> <code class="cm">/* do something with e here... */</code><code class="o">);</code></pre>&#13;
&#13;
<p>This is discussed further in <a data-type="xref" href="ch07.html#javacook-structure-iterate.Iterable.forEach">“Iterable.forEach method (Java 8)”</a>.</p>&#13;
&#13;
<p>A new JavaScript implementation codenamed <em>Nashorn</em> is available via&#13;
<code>javax.script</code> (see <a data-type="xref" href="ch18.html#javacook-otherlang-scripting">Recipe 18.3</a>)&#13;
and can also be run from the command line.</p>&#13;
&#13;
<p>Javadoc (see <a data-type="xref" href="ch15.html#javacook-packages-javadoc">Recipe 15.2</a>) was extended to the  <code>javax.tools</code> API.</p>&#13;
&#13;
<p>Annotations can be repeated, obviating the need to manually code wrapper annotations,&#13;
for example, <code class="keep-together">javax.persistence.NamedQueries</code> (plural),&#13;
which is just a container for a list of&#13;
<code>javax.persistence.NamedQuery</code> (singular) annotations.</p>&#13;
&#13;
<p>Finally, Java provides support for Base 64 encoding/decoding in the form of <code>java.util.Base64</code> with two&#13;
nested classes for encoding and decoding.</p>&#13;
&#13;
<p>There were also dozens of other small changes, such as those covered by <a href="http://openjdk.java.net/projects/jdk8/features">OpenJDK</a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="What Was New in Java 9" data-type="sect1"><div class="sect1" id="idm45290619323736">&#13;
<h1>What Was New in Java 9</h1>&#13;
&#13;
<p><a data-primary="Java 9" data-primary-sortas="Java 09" data-type="indexterm" id="idm45290619322264"/>Java 9 is best known for introducing the Java Platform Module System, JPMS.</p>&#13;
&#13;
<p>Since the JDK itself is modularized (the original intention of JPMS!), the new <code>jlink</code>&#13;
tool lets you build a minimal JDK with only the parts needed for your modularized application.</p>&#13;
&#13;
<p>Another new tool is <a data-primary="JShell" data-secondary="about" data-type="indexterm" id="idm45290619319832"/>JShell, a REPL (Read-Evaluate-Print-Loop) expression evaluator&#13;
for Java. Also known as an interactive Java, JShell is useful for prototyping,&#13;
trying out new ideas, and so on. JShell is covered in <a data-type="xref" href="ch01.html#javacook-getstarted-JSHELL">Recipe 1.4</a>.</p>&#13;
&#13;
<p>This release also marked the beginning of the six-month major release cadence, in which&#13;
a new major release (Java 10, Java 11, etc) would be made available every six months.&#13;
At the same time, Java 8 and Java 11 were declared to be LTS (Long-Term Support) releases.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Java 9 Language Changes" data-type="sect2"><div class="sect2" id="idm45290619316792">&#13;
<h2>Java 9 Language Changes</h2>&#13;
&#13;
<p>The new <em>module-info</em> file introduces several pseudokeywords, words which have reserved meaning&#13;
only in a <em>module-info</em> file, but can still be used as user-defined names in Java classes.&#13;
These include module, requires, exports, provides, with, and a few others.&#13;
This also impacts the meaning of the visibility modifiers when used within a module.</p>&#13;
&#13;
<p>Interfaces (which added default methods in Java 8) now allow private methods&#13;
as well, for use by default methods.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Java 9 API Changes" data-type="sect2"><div class="sect2" id="idm45290619294616">&#13;
<h2>Java 9 API Changes</h2>&#13;
&#13;
<p>Improvements to the Streams API, with several new methods in the <code>Stream</code> interface.</p>&#13;
&#13;
<p>Improvements to the Collections API, including the <code>of()</code> factory method&#13;
to quickly create a <code>List</code> or <code>Set</code> from several values.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="What Was New in Java 10 (March 2018)" data-type="sect1"><div class="sect1" id="idm45290619290888">&#13;
<h1>What Was New in Java 10 (March 2018)</h1>&#13;
&#13;
<p><a data-primary="Java 10" data-type="indexterm" id="idm45290619289560"/>Java 10 is famous for the <code>var</code> keyword and the first actual release on the six-month cadence.</p>&#13;
&#13;
<p>Java 10 introduces <a data-primary="GraalVM" data-secondary="about" data-type="indexterm" id="idm45290619287880"/>GraalVM, a just-in-time compiler (like HotSpot) but written in Java.</p>&#13;
&#13;
<p>In Java 10, the OpenJDK version of the <em>cacerts</em> file is fully populated, making it far more&#13;
likely that connecting via <code>https</code> will work out of the box.</p>&#13;
&#13;
<p>The <code>javah</code> tool for native code headers is removed, replaced by&#13;
equivalent-or-better functionality in <code>javac</code> itself.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Java 10 Language Changes" data-type="sect2"><div class="sect2" id="idm45290619283912">&#13;
<h2>Java 10 Language Changes</h2>&#13;
&#13;
<p>The <code>var</code> keyword, for local variables only, allows you to not fuss over the actual type&#13;
of a variable. Of course the compiler must be able to infer the type of the variable.&#13;
Let’s explore some options in <code>jshell</code>:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">jshell</code><code class="o">&gt;</code> <code class="n">var</code> <code class="n">x</code> <code class="o">=</code> <code class="mi">10</code><code class="o">;</code>&#13;
<code class="n">x</code> <code class="o">==&gt;</code> <code class="mi">10</code>&#13;
&#13;
<code class="n">jshell</code><code class="o">&gt;</code> <code class="n">var</code> <code class="n">y</code> <code class="o">=</code> <code class="mf">123.4d</code><code class="o">;</code>&#13;
<code class="n">y</code> <code class="o">==&gt;</code> <code class="mf">123.4</code>&#13;
&#13;
<code class="n">jshell</code><code class="o">&gt;</code> <code class="n">var</code> <code class="n">z</code> <code class="o">=</code> <code class="n">java</code><code class="o">.</code><code class="na">time</code><code class="o">.</code><code class="na">LocalDateTime</code><code class="o">.</code><code class="na">now</code><code class="o">();</code>&#13;
<code class="n">z</code> <code class="o">==&gt;</code> <code class="mi">2019</code><code class="o">-</code><code class="mi">08</code><code class="o">-</code><code class="mi">31</code><code class="nl">T20:</code><code class="mi">47</code><code class="o">:</code><code class="mf">36.440491</code>&#13;
&#13;
<code class="n">jshell</code><code class="o">&gt;</code> <code class="n">var</code> <code class="n">map</code> <code class="o">=</code> <code class="k">new</code> <code class="n">HashMap</code><code class="o">&lt;</code><code class="n">String</code><code class="o">,</code><code class="n">Integer</code><code class="o">&gt;();</code>&#13;
<code class="n">map</code> <code class="o">==&gt;</code> <code class="o">{}</code>&#13;
&#13;
<code class="n">jshell</code><code class="o">&gt;</code> <code class="n">map</code><code class="o">.</code><code class="na">put</code><code class="o">(</code><code class="s">"Meh"</code><code class="o">,</code> <code class="mi">123</code><code class="o">);</code>&#13;
<code class="n">$4</code> <code class="o">==&gt;</code> <code class="kc">null</code>&#13;
&#13;
<code class="n">jshell</code><code class="o">&gt;</code> <code class="n">var</code> <code class="n">huh</code><code class="o">;</code>&#13;
<code class="o">|</code>  <code class="nl">Error:</code>&#13;
<code class="o">|</code>  <code class="n">cannot</code> <code class="n">infer</code> <code class="n">type</code> <code class="k">for</code> <code class="n">local</code> <code class="n">variable</code> <code class="n">huh</code>&#13;
<code class="o">|</code>    <code class="o">(</code><code class="n">cannot</code> <code class="n">use</code> <code class="err">'</code><code class="n">var</code><code class="err">'</code> <code class="n">on</code> <code class="n">variable</code> <code class="n">without</code> <code class="n">initializer</code><code class="o">)</code>&#13;
<code class="o">|</code>  <code class="n">var</code> <code class="n">huh</code><code class="o">;</code>&#13;
<code class="o">|</code>  <code class="o">^------^</code>&#13;
&#13;
<code class="n">jshell</code><code class="o">&gt;</code></pre>&#13;
&#13;
<p>Somewhat surprisingly, <code>var</code> is not actually a language keyword,&#13;
so this word can still be used as a user-defined name:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">jshell</code><code class="o">&gt;</code> <code class="n">var</code> <code class="n">var</code> <code class="o">=</code> <code class="mi">123</code><code class="o">;</code>&#13;
<code class="n">var</code> <code class="o">==&gt;</code> <code class="mi">123</code>&#13;
&#13;
<code class="n">jshell</code><code class="o">&gt;</code> <code class="n">var</code>&#13;
<code class="n">var</code> <code class="o">==&gt;</code> <code class="mi">123</code></pre>&#13;
&#13;
<p>See <a href="https://developer.oracle.com/java/jdk-10-local-variable-type-inference.html"><em class="hyperlink">https://developer.oracle.com/java/jdk-10-local-variable-type-inference.html</em></a> for explanation and more details on <code>var</code>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Java 10 API Changes" data-type="sect2"><div class="sect2" id="idm45290619107128">&#13;
<h2>Java 10 API Changes</h2>&#13;
&#13;
<p><code>List</code> and <code>Set</code> add the new <a data-primary="copyOf() method" data-type="indexterm" id="idm45290619104872"/><code>copyOf()</code> method to make a truly unmodifiable copy;&#13;
the previous <code>List.unmodifiableList()</code> made an<a data-primary="unmodifiable view" data-type="indexterm" id="idm45290619103336"/> <em>unmodifiable view</em>,&#13;
which would appear to change if the underlying <code>List</code> were changed.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="See Also" data-type="sect2"><div class="sect2" id="idm45290619101448">&#13;
<h2>See Also</h2>&#13;
&#13;
<p>Quite a few old features were removed or deprecated; see this&#13;
<a href="https://dzone.com/articles/java-10-new-features-and-enhancements">list on DZone</a>.</p>&#13;
&#13;
<p>Simon Ritter has an article titled&#13;
<a href="https://www.azul.com/jdk-10-pitfalls-for-the-unwary">“Java 10 Pitfalls for the Unwary”</a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="What Was New in Java 11 (September 2018)" data-type="sect1"><div class="sect1" id="idm45290619097944">&#13;
<h1>What Was New in Java 11 (September 2018)</h1>&#13;
&#13;
<p><a data-primary="Java 11" data-type="indexterm" id="idm45290619096296"/>Java 11 introduced what I call “single-file run-from-source” (JEP 330); you can now type the following:</p>&#13;
<pre>java HelloWorld.java</pre>&#13;
&#13;
<p>and the Java command will both compile and run the named program.&#13;
This makes it <em>much</em> easier to work with single files,&#13;
which is the primary thing it works with.&#13;
If you have two or more files, the second through <em>n</em>th must be compiled and on your <code>CLASSPATH</code>;&#13;
the source file you specify on the command line must be the one with <a data-primary="main() method" data-type="indexterm" id="idm45290619092888"/><code>main()</code> and must not be&#13;
compiled on your <code>CLASSPATH</code>.&#13;
So it’s good for simple things, but not for complex applications.</p>&#13;
&#13;
<p>See also this <a href="https://dzone.com/articles/90-new-features-and-apis-in-jdk-11">list on DZone</a>.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Java 11 API Changes" data-type="sect2"><div class="sect2" id="idm45290619154952">&#13;
<h2>Java 11 API Changes</h2>&#13;
&#13;
<p>For a more complete list of Java 11 changes, see&#13;
<a href="https://dzone.com/articles/90-new-features-and-apis-in-jdk-11">this DZone list</a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="What Was New in Java 12 (March 2019)" data-type="sect1"><div class="sect1" id="idm45290619152680">&#13;
<h1>What Was New in Java 12 (March 2019)</h1>&#13;
&#13;
<p><a data-primary="Java 12" data-type="indexterm" id="idm45290619151480"/>Java 12 introduced the notion of<a data-primary="Preview Changes" data-type="indexterm" id="idm45290619150648"/> <em>Preview Changes</em>, features added to the JDK but not yet made&#13;
part of the official specification. This is basically what others might have called beta mode;&#13;
if enough users indicate that they have serious issues with a Preview Mode feature,&#13;
the JDK team can fix it or even kill it off before&#13;
declaring it part of the JDK specification (or declaring it dead).</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Java 12 Language Changes" data-type="sect2"><div class="sect2" id="idm45290619148952">&#13;
<h2>Java 12 Language Changes</h2>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p><code>switch</code> statements that can yield a value (Preview)</p>&#13;
</li>&#13;
</ul>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Java 12 API Changes" data-type="sect2"><div class="sect2" id="idm45290619146104">&#13;
<h2>Java 12 API Changes</h2>&#13;
&#13;
<p>Some of the more visible changes:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>A Tee Collector for <code>Stream</code>s (copies input to multiple output <code>Stream</code>s).</p>&#13;
</li>&#13;
<li>&#13;
<p>A <code>CompactNumberFormat</code>, replacing my <code>ScaledNumberFormat</code>&#13;
(prints the number 2,048 as 2K, for example).</p>&#13;
</li>&#13;
<li>&#13;
<p><code>String.indent(n)</code> returns a copy of the <code>String</code> with <em>n</em> spaces prepended.</p>&#13;
</li>&#13;
<li>&#13;
<p>GC improvements (JEP 189: Shenandoah: Low-Pause-Time GC); pause-time improvements to G1 GC.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>There are numerous other minor changes; see&#13;
<a href="https://www.azul.com/39-new-features-and-apis-in-jdk-12"><em class="hyperlink">https://www.azul.com/39-new-features-and-apis-in-jdk-12</em></a>&#13;
and <a href="https://openjdk.java.net/projects/jdk/12"><em class="hyperlink">https://openjdk.java.net/projects/jdk/12</em></a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="What Is New in Java 13 (September 2019)" data-type="sect1"><div class="sect1" id="idm45290619134328">&#13;
<h1>What Is New in Java 13 (September 2019)</h1>&#13;
&#13;
<p><a data-primary="Java 13" data-type="indexterm" id="idm45290619133144"/>Java 13 was the latest official release as of this writing. It includes the following <span class="keep-together">features:</span></p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>Improved garbage collection (again)</p>&#13;
</li>&#13;
<li>&#13;
<p>Improved application class-data sharing (AppCDS) to allow writing an archive of all classes used in an app</p>&#13;
</li>&#13;
<li>&#13;
<p><a data-primary="text blocks" data-type="indexterm" id="idm45290618889912"/><a href="http://cr.openjdk.java.net/~jlaskey/Strings/TextBlocksGuide_v9.html">Text blocks</a> to replace and simplify multiline <code>String</code> literals (Preview)</p>&#13;
</li>&#13;
<li>&#13;
<p>Improvements to <code>switch</code> statements that can yield a value</p>&#13;
</li>&#13;
<li>&#13;
<p>Rewrite of the <code>Socket</code> and <code>ServerSocket</code> implementation (not changing the API)</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>See also <a href="https://www.javaworld.com/article/3341388/jdk-13-the-new-features-coming-to-java-13.html">this JavaWorld article</a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Looking Ahead" data-type="sect1"><div class="sect1" id="javacook-then_now-javaFutures">&#13;
<h1>Looking Ahead</h1>&#13;
&#13;
<p>There will be a Java 14 in 2020, around the time that&#13;
this book goes to press.</p>&#13;
&#13;
<p>These are some of the features that are in the works:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>Record types (in Preview; see <a data-type="xref" href="ch07.html#javacook-structure-record">Recipe 7.18</a>).</p>&#13;
</li>&#13;
<li>&#13;
<p>Sealed types, which permit a class designer to control subclassing by enumerating all the allowed subclasses.&#13;
The syntax at present looks like this:</p>&#13;
<pre>public abstract sealed class Person permits Customer, SalesRep {&#13;
    ...&#13;
}&#13;
class Customer extends Person {&#13;
    ...&#13;
}</pre>&#13;
</li>&#13;
<li>&#13;
<p>Text blocks, a.k.a. multiline text strings, delimited with a triplet&#13;
of double quotes:</p>&#13;
<pre>String long = """&#13;
This is a long&#13;
text String."""</pre>&#13;
</li>&#13;
<li>&#13;
<p>A new packaging tool, <code>jpackage</code>, which will generate a complete&#13;
self-installing application on the main supported operating systems.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>There are several other interesting JEPs for Java 14.&#13;
A complete list can be found at&#13;
<a href="https://openjdk.java.net/projects/jdk/14">OpenJDK</a>.&#13;
The JEPs linked from that page are interesting reading for those&#13;
interested in the rationale for (and the amount of work that goes into)&#13;
each of these new features.</p>&#13;
&#13;
<p>There will also be a Java 15 in 2020, but it entered Early Access just as this book was going to print, so we don’t have coverage of it in this edition.&#13;
“Always in motion Java’s future is,” Yoda says.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="javacook-then_now-desktop">&#13;
<h5>The Evolution of Client-Side Java: Applets, Browser Wars, <span class="keep-together">Swing, JavaFX</span></h5>&#13;
<p><a data-primary="applets" data-type="indexterm" id="idm45290618869736"/><a data-primary="browsers" data-type="indexterm" id="idm45290618869032"/><a data-primary="Java" data-secondary="evolution of client-side" data-type="indexterm" id="idm45290618868360"/><a data-primary="JavaFX" data-type="indexterm" id="idm45290618867400"/><a data-primary="Swing" data-type="indexterm" id="idm45290618866728"/>While you can infer some of this from the per-JDK revision notes given in the rest of this appendix,&#13;
it seems fitting to provide a unified narrative on the role of Java in the desktop.</p>&#13;
&#13;
<p>Java began its public life as a vehicle for embedding flashy dynamic content in web pages&#13;
via Java applets. Applets got off to a flying start with their incorporation in the Netscape line of browsers in 1995–96. Incidentally, part of the cross-licensing agreement between Sun and Netscape was that Netscape could use the term “JavaScript” for what was then its “LiveScript” web scripting language.</p>&#13;
&#13;
<p>Applets never took over the world for a variety of reasons, including the fact that Microsoft never allowed Java applets to become a full player in Internet Explorer (at that time one of the most widely used browsers), users’ fear of security issues (some of which surfaced from time to time), difficulties of installing and updating, and the increasing capabilities of CSS and JavaScript, and later HTML5.</p>&#13;
&#13;
<p>There were some large users—for example, the <a href="http://blackboard.com">Blackboard product</a> used for student–instructor communication in hundreds of colleges and universities. However, even these have had issues of compatibility, sometimes requiring students to load a particular update like JDK 1.6 Update 42 in order to be supported on a given release of Blackboard.</p>&#13;
&#13;
<p>Along the way, the original AWT GUI package was supplanted by Swing,&#13;
a newer and better GUI package.&#13;
Around this time, the <code>Applet</code> class was supplemented with the <code>JApplet</code> class&#13;
to allow <code>Applets</code> to be full users of Swing GUI classes.</p>&#13;
&#13;
<p>Yet Java was never without competition on the desktop. Adobe Flash came along soon after Java. It&#13;
was single-sourced and came from the home of Illustrator and Photoshop, which&#13;
the web’s graphic designers loved, and therefore Flash prospered.</p>&#13;
&#13;
<p>More recently, the browsers themselves have become competitors to both Java and Flash.&#13;
The HTML5 standard introduces a large number of technologies such as increased&#13;
JavaScript, the <code>Canvas</code> object for graphics, and access to some local devices.&#13;
Many new projects today are starting with HTML5. Though JavaScript is not as nice a&#13;
programming environment as Java, its familiarity to the large number of web developers&#13;
in circulation has helped it dominate large areas of desktop development.&#13;
So both Java applets and Adobe Flash are dead or dying, replaced by browser-native capabilities.</p>&#13;
&#13;
<p>One of Sun’s responses was to target a new technology that is now called JavaFX to the desktop.&#13;
JavaFX can be used in browsers or in desktop applications. It does provide considerable&#13;
benefits to GUI and graphics developers. There is information on JavaFX at&#13;
<a href="https://openjfx.io"><em class="hyperlink">https://openjfx.io</em></a>.</p>&#13;
&#13;
<p>Also in the area of client-side technologies, Sun insisted from the beginning that mobile phone developers&#13;
use the <a data-primary="Java Micro Edition (ME)" data-type="indexterm" id="idm45290618856328"/><a data-primary="ME (Java Micro Edition)" data-type="indexterm" id="idm45290618855624"/>Java Micro Edition (ME), based on a severely cut-down JVM and a totally different&#13;
user interface package. Fortunately for Sun, <a data-primary="BlackBerry" data-type="indexterm" id="idm45290618854680"/>BlackBerry (then called Research In Motion, or RIM),&#13;
agreed to this. At the time, it made sense—when the early versions of BlackBerry OS&#13;
came out, mobile CPUs were slow, and memory was limited, so a tiny LCDUI made sense.</p>&#13;
&#13;
<p>When Google wanted to expand into the mobile space to expand the reach of its advertising&#13;
business, it soon found—and bought—a company called <a data-primary="Android" data-secondary="about" data-type="indexterm" id="idm45290618853096"/>Android that had a Linux-based OS with a&#13;
rewritten Java implementation. Android’s developers had tried to reason with Sun about using&#13;
more complete Java on mobile, given how mobile device CPU and memory were growing, but&#13;
the negotiations were not successful.&#13;
So Android went off and built its own user interface, which has since become&#13;
the most widely used Java platform.  But during this time, Sun was acquired by Oracle.</p>&#13;
&#13;
<p>Live on stage at the first JavaOne conference after the acquisition, <a data-primary="Ellison, Larry" data-type="indexterm" id="idm45290618851160"/>Larry Ellison welcomed Android as&#13;
part of the Java ecosystem. But when Android continued its meteoric rise, Oracle’s lawyers thought&#13;
they could muscle in on this, and Oracle sued Google for a billion dollars, alleging copyright,&#13;
trademark, and trade secret violations. The suit was very complex, but one of the most important aspects&#13;
was Oracle’s claim that it could copyright the API separately from the code.&#13;
Thus, anybody ever wanting to write a class called <code>String</code> with the methods described&#13;
in the <code>String</code> class’s javadoc page would—in Oracle’s theory—have to apply for permission from Oracle.&#13;
Needless to say, several old-line software companies like Microsoft lined up with Oracle,&#13;
while the entire open source world lined up with Google, fearing the “chilling effects”&#13;
this would have on the entire open source world.&#13;
And, fortunately for Android and for the open source world, so did the judge.&#13;
This suit was won by Google, but Oracle launched an appeal, which unfortunately&#13;
for the open source world, was successful.</p>&#13;
&#13;
<p>Oh, and back to BlackBerry.&#13;
Unfortunately for BlackBerry, as time and Moore’s law marched on in tandem, Java ME did not keep in step&#13;
and was left behind. BlackBerry, obligated to stay on the ME platform, and unable to modify&#13;
the Java ME classes, had to spend billions of dollars in R&amp;D through the late 1990s and the 2000s&#13;
building a parallel package structure&#13;
to provide modern GUI and device capabilities, which it did all through OS versions 5, 6, and 7.&#13;
When it finally dawned on RIM management that the JVM+OS combination itself was the bottleneck,&#13;
they first tried to&#13;
make their current JVM run on <a data-primary="QNX" data-type="indexterm" id="idm45290618847336"/>QNX, a Unix-based operating system from a company of the same name,&#13;
which RIM acquired. This was doomed to failure, but a skunkworks project within the company&#13;
took the open source Android and made that run in a matter of weeks.&#13;
Management decided to abandon Java ME and Java as its main development language&#13;
but allow Java-based Android apps to run as almost-first-class citizens in the BB10 environment.&#13;
Alas, it took them a year and a half to&#13;
get QNX working well enough on its new BlackBerry 10 devices that they could release it.&#13;
During this time of uncertainty its sales tanked. BB10 was available for a while and worked&#13;
well enough (and ran most Android apps). But unfortunately, the delay in getting to market was fatal,&#13;
and BlackBerry devices now run Android.&#13;
BlackBerry is repositioning QNX as an automotive platform and is selling security software.&#13;
BlackBerry as a mobile platform is thus dead.</p>&#13;
&#13;
<p>Java continues to be used on the desktop (although the market for desktop apps is steadily&#13;
losing ground to mobile devices and increasingly capable native applications)&#13;
and in mobile (particularly on Android devices).&#13;
Java also continues to be heavily used in enterprise environments using&#13;
packages like Java EE servers, JSP/JSF pages, Spring Framework, and Hibernate.</p>&#13;
</div></aside>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<div data-type="footnotes"><p data-type="footnote" id="idm45290619364584"><sup><a href="app01.html#idm45290619364584-marker">1</a></sup> Sun Microsystems, “Java Technology: The Early Years” article can be found at <a href="https://web.archive.org/web/20090311011509/http://java.sun.com/features/1998/05/birthday.html"><em class="hyperlink">https://web.archive.org/web/20090311011509/http://java.sun.com/features/1998/05/birthday.html</em></a> and on the Paderborn University website at <a href="http://gcc.upb.de/www/WI/WI2/wi2_lit.nsf/7544f3043ee53927c12573e70058bbb6/abf8d70f07c12eb3c1256de900638899/$FILE/Java%20Technology%20-%20An%20early%20history.pdf"><em class="hyperlink">http://gcc.upb.de/www/WI/WI2/wi2_lit.nsf/7544f3043ee53927c12573e70058bbb6/abf8d70f07c12eb3c1256de900638899/$FILE/Java%20Technology%20-%20An%20early%20history.pdf</em></a>.</p></div></div></section></body></html>