<html><head></head><body><section data-pdf-bookmark="Chapter 2. Getting Started with AWS Lambda" data-type="chapter" epub:type="chapter"><div class="chapter" id="ch02">&#13;
<h1><span class="label">Chapter 2. </span>Getting Started with AWS Lambda</h1>&#13;
&#13;
&#13;
<p><a data-type="xref" href="ch01.html#ch01">Chapter 1</a> provided<a data-primary="AWS Lambda" data-secondary="getting started with" data-type="indexterm" id="AWSLstart02"/> you with the background for the rest of this book: the cloud, serverless, AWS, and an&#13;
introduction to what Lambda is, how it works, and what it can be used for. But this is a practical&#13;
book, for practical people, so in this chapter we’re going to roll up our sleeves and deploy some&#13;
working functions to the cloud.</p>&#13;
&#13;
<p>We’ll start by getting you a little more acclimated with the AWS Console, and then we’ll deploy and run&#13;
our first Lambda function. After that we’ll get a local development environment ready, and finally&#13;
we’ll build and deploy a locally developed function to Lambda.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>If you’re already experienced with AWS, please feel free to skip ahead to <a data-type="xref" href="#lambda-hello-wrld-sec">“Lambda Hello World (as Quickly as Possible)”</a>.</p>&#13;
</div>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Quick Guide to the AWS Console" data-type="sect1"><div class="sect1" id="idm46222431320600">&#13;
<h1>Quick Guide to the AWS Console</h1>&#13;
&#13;
<p>The<a data-primary="AWS Web Console" data-secondary="guide to using" data-type="indexterm" id="AWSWCguide02"/> first two exercises in <a data-type="xref" href="ch01.html#ch01">Chapter 1</a> involved acquiring AWS credentials and then logging into&#13;
the <a href="https://console.aws.amazon.com">AWS Web Console</a>. If you haven’t done that already, you should&#13;
do that now.</p>&#13;
&#13;
<p>Slightly<a data-primary="credentials" data-secondary="types of" data-type="indexterm" id="idm46222431315544"/> confusingly, there are three different types of credential that you may have used to log in:</p>&#13;
&#13;
<ul class="pagebreak-before">&#13;
<li>&#13;
<p>You may have used the account “root” user, using an email address and password. This is&#13;
equivalent to using the root user in a Linux system.</p>&#13;
</li>&#13;
<li>&#13;
<p>You may have used an “IAM user” and password. In this case you will have also needed to have&#13;
provided the numeric AWS account ID (or an AWS account alias).</p>&#13;
</li>&#13;
<li>&#13;
<p>Finally, you might have used a single sign-on method (e.g., via a Google Apps account).</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>Are you signed in successfully now? Great! Let’s go on a little tour of the AWS world.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>First of all, a quick word of warning/explanation. The AWS Web Console has frequent UX changes,&#13;
and by the time you read this book, some of the UI may look different than what you see here in the&#13;
book. We’ll do what we can to explain the intent of an example, not just the interactions, so that you’ll still be able to follow along when Amazon changes its UI.</p>&#13;
</div>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Regions" data-type="sect2"><div class="sect2" id="idm46222431308504">&#13;
<h2>Regions</h2>&#13;
&#13;
<p>Let’s<a data-primary="region, selecting" data-type="indexterm" id="idm46222431306936"/> dive in. First let’s talk regions. At the top right you’ll see the currently selected&#13;
region (<a data-type="xref" href="#currently-selected-region">Figure 2-1</a>).</p>&#13;
&#13;
<figure><div class="figure" id="currently-selected-region">&#13;
<img alt="images/ch02_image01.png" src="assets/awsl_0201.png"/>&#13;
<h6><span class="label">Figure 2-1. </span>Currently selected region</h6>&#13;
</div></figure>&#13;
&#13;
<p>As<a data-primary="Availability Zones (AZs)" data-type="indexterm" id="idm46222431302744"/> you learned in <a data-type="xref" href="ch01.html#ch01">Chapter 1</a>, AWS organizes its infrastructure into data centers called&#13;
<em>Availability Zones</em> (AZs) and then clusters AZs into a closely located group known as a <em>region</em>.&#13;
Each region operates semi-autonomously. Right now you’re looking at the web console home page for a&#13;
specific region—in our previous example that’s Oregon, otherwise known as the us-west-2 region.</p>&#13;
&#13;
<p>You don’t have to use the default region that was selected when you log in—you’re free to traverse&#13;
the globe in search of the right region for you. Click the region name and see the list of&#13;
regions available to you (<a data-type="xref" href="#pick-a-region">Figure 2-2</a>).</p>&#13;
&#13;
<figure class="width-50 no-frame"><div class="figure" id="pick-a-region">&#13;
<img alt="images/ch02_image02.png" src="assets/awsl_0202.png"/>&#13;
<h6><span class="label">Figure 2-2. </span>Pick a region</h6>&#13;
</div></figure>&#13;
&#13;
<p>For what we’re going to be covering in this book, any region should be sufficient. We’re going to be&#13;
defaulting to US West (Oregon) for everything we do, and you may want to use that too as a&#13;
fallback choice, but feel free to use a region closer to your home if you’d like.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Identity and Access Management" data-type="sect2"><div class="sect2" id="idm46222431295208">&#13;
<h2>Identity and Access Management</h2>&#13;
&#13;
<p>Now<a data-primary="Identity and Access Management (IAM)" data-secondary="basics of" data-type="indexterm" id="idm46222431293832"/> let’s pick our first service. On the web console home page, either expand all services and find&#13;
the one named <em>IAM</em> or search for <em>IAM</em> in the search box, and select it.</p>&#13;
&#13;
<p>IAM stands for <em>Identity and Access Management</em>—it’s the most fundamental security service within&#13;
AWS. It’s also one of the few AWS services that is not tied to any one region&#13;
(note the reference to <em>Global</em> where your region used to be defined).</p>&#13;
&#13;
<p>IAM lets you create “IAM users,” groups, roles, policies, and more. If you’re using the AWS&#13;
account you created for this book (and therefore used the “root” email address&#13;
user to log in), we recommend creating an IAM user for future work. We’ll describe how to do&#13;
this in <a data-type="xref" href="#aws-cli-credentials">“Acquiring credentials for the AWS CLI”</a>.</p>&#13;
&#13;
<p><em>Roles</em> are<a data-primary="roles" data-type="indexterm" id="idm46222431287896"/> like users, in that they can be used to allow a human, or process, to acquire certain&#13;
privileges in order to fulfill a task. Unlike users, they don’t have a username or password, and&#13;
instead a role must be <em>assumed</em> in order to be used.</p>&#13;
&#13;
<p>One of the things you’ll quickly discover is that AWS are sticklers for security. When you create&#13;
Lambda functions, you <em>must</em> specify a role that it is to assume when it is executing. AWS will <em>not</em>&#13;
give it a default role if one isn’t specified. We’ll see this when we create our first function in a&#13;
moment.</p>&#13;
&#13;
<p>It’s crucial that you have a fundamental understanding of IAM, since aspects like roles and policies are ubiquitous in Lambda development.&#13;
We give you a thorough grounding of IAM in <a data-type="xref" href="ch04.html#IAM">“Identity and Access Management”</a>.<a data-primary="" data-startref="AWSLstart02" data-type="indexterm" id="idm46222431283336"/><a data-primary="" data-startref="AWSWCguide02" data-type="indexterm" id="idm46222431282360"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Lambda Hello World (as Quickly as Possible)" data-type="sect1"><div class="sect1" id="lambda-hello-wrld-sec">&#13;
<h1>Lambda Hello World (as Quickly as Possible)</h1>&#13;
&#13;
<p>In<a data-primary="AWS Lambda" data-secondary="Hello World, quick version" data-type="indexterm" id="AWSLhelloquick01"/><a data-primary="Hello World" data-secondary="quick version" data-type="indexterm" id="HWquick01"/><a data-primary="Lambda functions" data-secondary="creating Hello World (quick version)" data-type="indexterm" id="LFhelloq01"/> this section we’re going to deploy and run our first Lambda function. We’ll let you in on a&#13;
little secret—we’re going to do this with JavaScript. Shhh—don’t tell our <span class="keep-together">editors</span>—we&#13;
promised this would be a Java book!</p>&#13;
&#13;
<p>The reason for doing this first example in JavaScript is that we can do the whole exercise purely in&#13;
the web browser, giving us a taste of what’s possible in Lambda in just a few minutes.</p>&#13;
&#13;
<p>First, go back to the AWS Web Console home screen, and pick Lambda. If you’ve never used&#13;
Lambda in this account before, you’ll get a screen that looks something like <a data-type="xref" href="#lambda-welcome">Figure 2-3</a>.</p>&#13;
&#13;
<figure><div class="figure" id="lambda-welcome">&#13;
<img alt="images/ch02_image03.png" src="assets/awsl_0203.png"/>&#13;
<h6><span class="label">Figure 2-3. </span>Lambda welcome screen</h6>&#13;
</div></figure>&#13;
&#13;
<p>If Lambda has been used in this account before, the web console will look more like <a data-type="xref" href="#lambda-function-list">Figure 2-4</a>.</p>&#13;
&#13;
<figure><div class="figure" id="lambda-function-list">&#13;
<img alt="images/ch02_image04.png" src="assets/awsl_0204.png"/>&#13;
<h6><span class="label">Figure 2-4. </span>Lambda function list</h6>&#13;
</div></figure>&#13;
&#13;
<p>Again, it might look different depending on when you read this due to Amazon’s ever-changing UI&#13;
designs.</p>&#13;
&#13;
<p>Either way, click <em>Create function</em>, and then choose <em>Author from scratch</em>—there are some other options here for getting started with more complicated functions, but we’re&#13;
going to be doing something very simple right now.</p>&#13;
&#13;
<p class="pagebreak-before">In the name box (see <a data-type="xref" href="#create-function">Figure 2-5</a>), type <strong><code>HelloWorld</code></strong>, and under <em>Runtime</em> click <em>Node.js 10.x</em>. Don’t worry, we’ll&#13;
be working with Java soon! Now click <em>Create function</em>.</p>&#13;
&#13;
<figure><div class="figure" id="create-function">&#13;
<img alt="images/ch02_image05.png" src="assets/awsl_0205.png"/>&#13;
<h6><span class="label">Figure 2-5. </span>Create HelloWorld function</h6>&#13;
</div></figure>&#13;
&#13;
<p>If after doing this the console expands the Permissions section, select <em>Create a new role with&#13;
basic Lambda permissions</em> in the <em>Execution role</em> drop-down, and then click <em>Create function</em> again (see <a data-type="xref" href="#create-function-with-role">Figure 2-6</a>).</p>&#13;
&#13;
<figure><div class="figure" id="create-function-with-role">&#13;
<img alt="images/ch02_image06.png" src="assets/awsl_0206.png"/>&#13;
<h6><span class="label">Figure 2-6. </span>Create HelloWorld function, specifying to create a new role</h6>&#13;
</div></figure>&#13;
&#13;
<p>Lambda will create a Lambda function configuration within the Lambda platform and bring you to the main console page for the Lambda function after a short&#13;
wait.</p>&#13;
&#13;
<p>If you scroll down, you’ll see that it’s even given the function some default code—that code is&#13;
perfectly fine for us for now.</p>&#13;
&#13;
<p>Scroll back to the top, and click the <em>Test</em> button. This will open a dialog named <em>Configure test&#13;
event</em>—enter <strong><code>HelloWorldTest</code></strong> in the <em>Event name</em> box, and click <em>Create</em>. This will take you&#13;
back to the Lambda function screen. Now click <em>Test</em> again.</p>&#13;
&#13;
<p>This time Lambda will actually execute your function, and there will be a short delay as it&#13;
instantiates an environment for the code. Then you’ll see a box with <em>Execution result</em>—it should&#13;
say that the function succeeded!</p>&#13;
&#13;
<p>Expand the <em>Details</em> control, and you’ll see the value returned from your function, plus some other&#13;
diagnostics (see <a data-type="xref" href="#hello-world-executed">Figure 2-7</a>).</p>&#13;
&#13;
<figure><div class="figure" id="hello-world-executed">&#13;
<img alt="images/ch02_image07.png" src="assets/awsl_0207.png"/>&#13;
<h6><span class="label">Figure 2-7. </span>HelloWorld executed</h6>&#13;
</div></figure>&#13;
&#13;
<p>Congratulations—you’ve created and run your first Lambda function!<a data-primary="" data-startref="AWSLhelloquick01" data-type="indexterm" id="idm46222431245000"/><a data-primary="" data-startref="HWquick01" data-type="indexterm" id="idm46222431243944"/><a data-primary="" data-startref="LFhelloq01" data-type="indexterm" id="idm46222431243000"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setting Up Your Development Environment" data-type="sect1"><div class="sect1" id="idm46222431280376">&#13;
<h1>Setting Up Your Development Environment</h1>&#13;
&#13;
<p>Now<a data-primary="AWS Lambda" data-secondary="development environment set up" data-type="indexterm" id="AWSLdevel02"/> that you have a little taste of running functions (no servers!), we’ll turn to&#13;
actually building and deploying Java Lambda functions in a way more suited to rapid iteration and&#13;
automation.</p>&#13;
&#13;
<p>First you need to set up a local development environment.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="AWS Command Line Interface" data-type="sect2"><div class="sect2" id="aws-cli">&#13;
<h2>AWS Command Line Interface</h2>&#13;
&#13;
<p>If you’ve used the AWS CLI before and already have it configured on your machine you can skip ahead.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Installing the AWS CLI" data-type="sect3"><div class="sect3" id="installing_the_aws_cli">&#13;
<h3>Installing the AWS CLI</h3>&#13;
&#13;
<p>Amazon<a data-primary="development environment" data-secondary="AWS CLI installation" data-type="indexterm" id="idm46222431234632"/><a data-primary="Amazon Web Services (AWS)" data-secondary="command line interface (CLI)" data-type="indexterm" id="AWScli02"/><a data-primary="Amazon Web Services (AWS)" data-secondary="interacting through API" data-type="indexterm" id="idm46222431232328"/> and AWS are built on APIs. In&#13;
<a href="https://oreil.ly/AixTf">this classic story of Amazon’s API mandate</a>, we see that&#13;
“All teams will henceforth expose their data and functionality through service interfaces” and&#13;
“All service interfaces, without exception, must be designed from the ground up to be&#13;
externalizable.” What this means is that almost anything that we can do through the AWS Web Console&#13;
UI we can also do using the AWS API and CLI.</p>&#13;
&#13;
<p>The AWS API is a large collection of HTTP endpoints that we can call to perform actions within AWS.&#13;
While calling the API directly is perfectly supported, it’s also a little laborious due to things&#13;
like authentication/request signing, correct serialization, etc. For this reason, AWS gives us two&#13;
tools to make things easier—SDKs and the CLI.</p>&#13;
&#13;
<p>Software development kits (SDKs)<a data-primary="software development kits (SDKs)" data-type="indexterm" id="idm46222431229000"/> are libraries that AWS provides that we can use within our&#13;
code to call the AWS APIs, smoothing some of the tricky or repetitive points of doing so, for&#13;
example authentication.&#13;
We use the SDKs later in the book—<a data-type="xref" href="ch05.html#serverless-api-example">“Example: Building a Serverless API”</a> looks at this subject in depth.</p>&#13;
&#13;
<p>For now though, we’re going to use the AWS CLI. The CLI is a tool you can&#13;
use from a terminal—it wraps the AWS API, so almost anything available through the API is also&#13;
accessible via the CLI.</p>&#13;
&#13;
<p>You can use the CLI on macOS, Windows, and Linux; however, all the examples and suggestions we give&#13;
are for macOS. If you use a different operating system for your development machine, then you&#13;
should combine the instructions here with whatever is specified in the AWS CLI documentation.</p>&#13;
&#13;
<p>Follow<a data-primary="AWS CLI" data-secondary="installing" data-type="indexterm" id="idm46222431225352"/> these instructions to <a href="https://oreil.ly/84dGt">install the CLI</a>. If you use a Mac and <a href="https://brew.sh">Homebrew</a>, installing the CLI is as simple as running <code>brew install awscli</code>.</p>&#13;
&#13;
<p>To validate your install of the CLI, run <strong><code>aws --version</code></strong> from a terminal prompt. It should&#13;
return something similar to the following:</p>&#13;
&#13;
<pre data-type="programlisting">$ aws --version&#13;
aws-cli/1.15.30 Python/3.6.5 Darwin/17.6.0 botocore/1.10.30</pre>&#13;
&#13;
<p>The precise output will depend on your operating system, among other factors.</p>&#13;
<aside class="pagebreak-before less_space" data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm46222431603416">&#13;
<h5>A Quick Note on Operating Systems</h5>&#13;
<p>We<a data-primary="operating systems" data-type="indexterm" id="idm46222431601448"/> developed this book using the Mac operating system (specifically macOS 10.14 Mojave), and all examples were tested with this OS.</p>&#13;
&#13;
<p>Linux<a data-primary="Linux" data-type="indexterm" id="idm46222431600056"/> users should be able to use all the examples we give without any changes.</p>&#13;
&#13;
<p>Windows<a data-primary="Windows" data-type="indexterm" id="idm46222431598712"/><a data-primary="AWS CLI" data-secondary="modifications for Windows users" data-type="indexterm" id="idm46222431597976"/> users will need to modify the examples related to running commands from a terminal in a number of places, in the following ways:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>Where we use an example starting with a <code>$</code> (e.g., the one immediately preceding this section: <code>$ aws --version</code>), you should run the command that follows after the <code>$</code> in your machine’s terminal/command prompt.</p>&#13;
</li>&#13;
<li>&#13;
<p>Single quotes (<code>'</code>) can often be substituted by double quotes (<code>"</code>).</p>&#13;
</li>&#13;
<li>&#13;
<p>Double quotes (<code>"</code>) can be escaped with backslashes like this: <code>\"</code>.</p>&#13;
</li>&#13;
<li>&#13;
<p>For variable substitution (where in the examples we say, e.g., <code>$CF_BUCKET</code>) use the form <code>%CF_BUCKET%</code>.</p>&#13;
</li>&#13;
<li>&#13;
<p>Instead of the <code>cat</code> command, use the <code>type</code> command.</p>&#13;
</li>&#13;
<li>&#13;
<p>The backslashes used to indicate multiline commands in the examples should be removed—instead, make one long line and execute that at the command prompt.</p>&#13;
</li>&#13;
</ul>&#13;
</div></aside>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Acquiring credentials for the AWS CLI" data-type="sect3"><div class="sect3" id="aws-cli-credentials">&#13;
<h3>Acquiring credentials for the AWS CLI</h3>&#13;
&#13;
<p>The<a data-primary="development environment" data-secondary="AWS CLI credentials" data-type="indexterm" id="idm46222431583288"/><a data-primary="AWS CLI" data-secondary="acquiring credentials for" data-type="indexterm" id="CLIcreden02"/><a data-primary="credentials" data-secondary="acquiring for AWS CLI" data-type="indexterm" id="Ccli02"/> credentials that you use with the AWS CLI are <em>different</em> from those that you used to log in to&#13;
the AWS Web Console. For<a data-primary="Access Key ID" data-type="indexterm" id="idm46222431579368"/><a data-primary="Secret Access Key pair" data-type="indexterm" id="idm46222431578584"/> the CLI, you need two values: an <em>Access Key ID</em> along with its <em>Secret&#13;
Access Key</em>. If you already have these values, feel free to skip ahead to the next section.</p>&#13;
&#13;
<p>The Access Key ID and Secret Access Key pair are credentials that are assigned to an <em>IAM user</em>.&#13;
It’s also possible to assign a key and secret to the account root user associated with an email&#13;
address, but AWS strongly advises against doing this for security reasons, and so do we.</p>&#13;
&#13;
<p>If<a data-primary="Identity and Access Management (IAM)" data-secondary="creating IAM user" data-type="indexterm" id="idm46222431575624"/> you don’t already have an IAM user (because you logged in with the root user, or because you used&#13;
SSO), you’ll need to create an IAM user. To do this, go to the IAM console in the AWS Web&#13;
Console that we visited earlier in this chapter. Click on <em>Users</em> and double-check that there isn’t&#13;
a user on that screen for you (see <a data-type="xref" href="#iam-user-list">Figure 2-8</a>).</p>&#13;
&#13;
<figure><div class="figure" id="iam-user-list">&#13;
<img alt="images/ch02_image08.png" src="assets/awsl_0208.png"/>&#13;
<h6><span class="label">Figure 2-8. </span>IAM user list</h6>&#13;
</div></figure>&#13;
&#13;
<p>If you do in fact need to create a user, click <em>Add user</em>. On the first screen, give your user a&#13;
name and select both <em>Programmatic access</em> and <em>AWS Management Console access</em>. Then select <em>Custom&#13;
password</em> and enter a new password—this will be the password for logging in to the AWS Web Console&#13;
with this new user, should you wish to do so. Deselect <em>Password reset</em> (see <a data-type="xref" href="#add-user">Figure 2-9</a>). Then click&#13;
<em>Next: Permissions</em>.</p>&#13;
&#13;
<figure><div class="figure" id="add-user">&#13;
<img alt="images/ch02_image09.png" src="assets/awsl_0209.png"/>&#13;
<h6><span class="label">Figure 2-9. </span>Add IAM user</h6>&#13;
</div></figure>&#13;
&#13;
<p>On the next screen, select <em>Attach existing policies directly</em> and select <em>Administrator Access</em>  (see <a data-type="xref" href="#add-user-permissions">Figure 2-10</a>). For the sake of learning Lambda, having a user with full <span class="keep-together">permissions</span> is going to make our lives much easier. You should not do this for real production accounts.</p>&#13;
&#13;
<figure><div class="figure" id="add-user-permissions">&#13;
<img alt="images/ch02_image10.png" src="assets/awsl_0210.png"/>&#13;
<h6><span class="label">Figure 2-10. </span>Add IAM user permissions</h6>&#13;
</div></figure>&#13;
&#13;
<p>Click <em>Next: Tags</em> and on the screen after that <em>Next: Review</em>.</p>&#13;
&#13;
<p>On the next screen, check that the details correspond to what we just described and click <em>Create&#13;
user</em>.</p>&#13;
&#13;
<p>On the final screen you’ll be given the programmatic security credentials for your new user! Copy&#13;
the Access Key ID and the Secret Access Key (after revealing it) to a note (keep it secure), or&#13;
download the provided CSV file. Finally, click <em>Close</em>.</p>&#13;
&#13;
<p>If you already had an IAM user, but no programmatic credentials, or you lose the credentials for the&#13;
account you just created, go back to the User list in the IAM console, select the user, and then choose&#13;
the <em>Security credentials</em> tab. You’ll be able to create a new Access Key (and associated Secret&#13;
Access Key ID) from there.<a data-primary="" data-startref="CLIcreden02" data-type="indexterm" id="idm46222431555000"/><a data-primary="" data-startref="Ccli02" data-type="indexterm" id="idm46222431554024"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="pagebreak-before less_space" data-pdf-bookmark="Configuring the AWS CLI" data-type="sect3"><div class="sect3" id="idm46222431584856">&#13;
<h3>Configuring the AWS CLI</h3>&#13;
&#13;
<p>Now it’s time to configure the CLI. From a terminal run <strong><code>aws configure</code></strong>. For the first two&#13;
fields, paste the values you copied from the previous section. For your default region name, type the&#13;
region code that corresponds to your chosen AWS region. You’ll see the region code in the drop-down in the web console (these mappings can also be found&#13;
<a href="https://oreil.ly/sV10t">in the AWS documentation</a>).&#13;
Because we’ve picked <em>Oregon</em> for our examples in the web console, we’ll use us-west-2 for the&#13;
examples at our terminal. Finally, for the default output format, type <strong><code>json</code></strong>.</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>If<a data-primary="AWS CLI" data-secondary="configuring" data-type="indexterm" id="idm46222431547512"/><a data-primary="development environment" data-secondary="AWS CLI configuration" data-type="indexterm" id="idm46222431546504"/> you’ve already configured a different AWS account in the CLI and are adding a new&#13;
one for this book, you’ll need to create a different profile; otherwise the&#13;
preceding instructions will replace your existing credentials. Use the <code>--profile</code> option of&#13;
<code>aws configure</code>, and see more details&#13;
<a href="https://oreil.ly/Aj5y5">in the AWS documentation</a>.</p>&#13;
</div>&#13;
&#13;
<p>To confirm your values, run <strong><code>aws configure</code></strong> again, and you’ll see your settings, something like the following:</p>&#13;
&#13;
<pre data-type="programlisting">$ aws configure&#13;
AWS Access Key ID [********************]:&#13;
AWS Secret Access Key [********************]:&#13;
Default region name [us-west-2]:&#13;
Default output format [json]:</pre>&#13;
&#13;
<p>A good way to quickly validate your AWS profile is to run the command <strong><code>aws iam get-user</code></strong>, which&#13;
should result in something that looks like the following, where <code>UserName</code> is the name of the&#13;
correct IAM user:</p>&#13;
&#13;
<pre data-type="programlisting">$ aws iam get-user&#13;
{&#13;
  "User": {&#13;
    "Path": "/",&#13;
    "UserName": "book",&#13;
    "UserId": "AIDA111111111111111111",&#13;
    "Arn": "arn:aws:iam::181111111111:user/book",&#13;
    "CreateDate": "2019-10-21T20:27:05Z"&#13;
  }&#13;
}</pre>&#13;
&#13;
<p>If<a data-primary="" data-startref="AWScli02" data-type="indexterm" id="idm46222431538664"/> you need more help, visit&#13;
<a href="https://oreil.ly/JMtUt">the documentation</a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Java Setup" data-type="sect2"><div class="sect2" id="idm46222431536696">&#13;
<h2>Java Setup</h2>&#13;
&#13;
<p>Now<a data-primary="development environment" data-secondary="Java setup" data-type="indexterm" id="idm46222431535064"/><a data-primary="Java" data-secondary="development environment setup" data-type="indexterm" id="idm46222431534056"/> that you have a local AWS environment, it’s time to get set up with Java.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm46222431532888">&#13;
<h5>Java Versions and AWS Lambda</h5>&#13;
<p>During<a data-primary="Java" data-secondary="versions supported by AWS Lambda" data-type="indexterm" id="idm46222431531384"/> almost all of the time we were writing this book, the only Java Runtime supported by AWS Lambda was Java 8.&#13;
Because of this, all of the examples in this book assume Java 8, and we used the Java 8 Runtime and SDK for developing all of the code examples.</p>&#13;
&#13;
<p>Just as we were finishing our final edits AWS announced Lambda support for Java 11.&#13;
Because this announcement came right before we finished the book, we haven’t had the chance to make any changes related to Java 11.</p>&#13;
&#13;
<p>Our initial understanding of Java 11 support in Lambda, however, is that there are no breaking changes with respect to the Java 8 Lambda runtime.&#13;
This means you should be able to use Java 9, 10, and 11 features in your Java code if you choose the Java 11 Runtime and that everything else in this book still holds true—you just may want to update the code to use newer Java capabilities!</p>&#13;
&#13;
<p>As we learn more about the Java 11 Lambda runtime, we’ll be updating <a href="https://blog.symphonia.io">our blog</a>, so please check in to see what we discover.</p>&#13;
</div></aside>&#13;
&#13;
<p>AWS Lambda supports Java 8 and Java 11, and it’s strongly recommended that you have the same major version of the Java SE&#13;
Development Kit available locally as you are configuring your Lambda functions for. Most operating systems support having multiple versions of Java installed.</p>&#13;
&#13;
<p>If you don’t already have Java installed, then you have at least a couple of options:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>One<a data-primary="Corretto" data-type="indexterm" id="idm46222431524792"/> is AWS’s own distribution of Java—Corretto. Corretto, in AWS’s words is, “a no-cost,&#13;
multiplatform, production-ready distribution of the Open Java Development Kit (OpenJDK).”&#13;
See <a href="https://oreil.ly/9AYfs">“What Is Amazon Corretto 8?"”</a> for Java 8 or <a href="https://oreil.ly/SB2-J">“What Is Amazon Corretto 11?”</a> for Java 11 for details of installing Corretto.</p>&#13;
</li>&#13;
<li>&#13;
<p>Another option is <a href="https://oreil.ly/WnBD8">Oracle’s own distribution</a>; however, this now comes with licensing caveats that&#13;
may be an issue for your use.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>At this time, the difference as far as Lambda developers are concerned between these two options is&#13;
mostly a legal, rather than technical, one. However, we expect AWS to transition all of their Java&#13;
environments to Corretto where they haven’t done so already, so if in doubt we recommend Lambda&#13;
developers pick the Corretto Java SDK.</p>&#13;
&#13;
<p>To validate your Java environment, run <strong><code>java -version</code></strong> from a terminal, and you should see&#13;
something like the following:</p>&#13;
&#13;
<pre data-type="programlisting">$ java -version&#13;
openjdk version "1.8.0_232"&#13;
OpenJDK Runtime Environment Corretto-8.232.09.1 (build 1.8.0_232-b09)&#13;
OpenJDK 64-Bit Server VM Corretto-8.232.09.1 (build 25.232-b09, mixed mode)</pre>&#13;
&#13;
<p>The precise build version of Java doesn’t matter (although it’s always prudent to keep up-to-date with&#13;
security patches), but it <em>is</em> important that you have the correct base version.</p>&#13;
&#13;
<p>We also use Maven—the build and packaging tool. If you’ve already installed Maven, make sure it’s&#13;
somewhat up-to-date. If you haven’t installed Maven and use a Mac, then we recommend using Homebrew&#13;
to install it—run <code>brew install maven</code>.&#13;
Otherwise, see the <a href="https://maven.apache.org">Maven home page</a> for installation&#13;
<span class="keep-together">instructions</span>.</p>&#13;
&#13;
<p>Open a terminal and run <strong><code>mvn -v</code></strong> to validate your environment. You should see some output that&#13;
starts with something like the following:</p>&#13;
&#13;
<pre data-type="programlisting">$ mvn -v&#13;
Apache Maven 3.6.0 (97c98ec64a1fdfee77...&#13;
Maven home: /usr/local/Cellar/maven/3.6.0/libexec&#13;
Java version: 1.8.0_232, vendor: Amazon.com Inc., runtime: /Library/Java...&#13;
Default locale: en_US, platform encoding: UTF-8&#13;
OS name: "mac os x", version: "10.14.6", arch: "x86_64", family: "mac"</pre>&#13;
&#13;
<p>Any 3.x version of Maven will be fine for our needs in this book.</p>&#13;
&#13;
<p>Finally, you<a data-primary="Maven" data-secondary="versions of" data-type="indexterm" id="idm46222431511000"/><a data-primary="IntelliJ IDEA" data-type="indexterm" id="idm46222431509992"/> should be comfortable creating Java projects that use Maven in your development editor&#13;
of choice. We use the free version of <a href="https://oreil.ly/RWtqv">IntelliJ IDEA</a>,&#13;
but you should feel free to use whatever editor you want.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="AWS SAM CLI Installation" data-type="sect2"><div class="sect2" id="idm46222431536040">&#13;
<h2>AWS SAM CLI Installation</h2>&#13;
&#13;
<p>The<a data-primary="development environment" data-secondary="AWS SAM CLI installation" data-type="indexterm" id="idm46222431507048"/><a data-primary="AWS SAM" data-secondary="installing" data-type="indexterm" id="idm46222431505976"/> final tool you need to install is the AWS SAM CLI. SAM stands for Serverless Application&#13;
Model, and we explore it later in <a data-type="xref" href="ch04.html#cloudformation-and-sam">“CloudFormation and the Serverless Application Model”</a>. For now all you need to know is that&#13;
the SAM CLI layers on top of the regular AWS CLI to give us some useful extra tools.</p>&#13;
&#13;
<p>To install SAM, refer to <a href="https://oreil.ly/slxxA">the comprehensive instructions</a>. If you’re in a hurry, you can skip the elements of the documentation that refer to Docker since we&#13;
won’t use those, at least not initially!<a data-primary="" data-startref="AWSLdevel02" data-type="indexterm" id="idm46222431502536"/></p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>We use some features of SAM CLI that were introduced in late 2019, so make sure to update it if you’re using an earlier version.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Lambda Hello World (the Proper Way)" data-type="sect1"><div class="sect1" id="java-hello-world">&#13;
<h1>Lambda Hello World (the Proper Way)</h1>&#13;
&#13;
<p>With<a data-primary="Hello World" data-secondary="Java version" data-type="indexterm" id="HWjava02"/><a data-primary="AWS Lambda" data-secondary="Hello World, Java version" data-type="indexterm" id="AWSLjava02"/><a data-primary="Lambda functions" data-secondary="creating Hello World (Java version)" data-type="indexterm" id="LFjava02"/> our development environment ready, it’s time to create and deploy a Lambda function written in&#13;
Java.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Creating Your First Java Lambda Project" data-type="sect2"><div class="sect2" id="idm46222431494120">&#13;
<h2>Creating Your First Java Lambda Project</h2>&#13;
&#13;
<p>There’s some “boilerplate code” necessary in building and deploying a Lambda function in an&#13;
automated way. We’re going to go through all the complexities over the course of this book, but to&#13;
get you up and running quickly, we’ve created a template to speed things up.</p>&#13;
&#13;
<p>First, go<a data-primary="sam init command" data-type="indexterm" id="idm46222431491752"/> to a terminal and run the following command:</p>&#13;
&#13;
<pre data-type="programlisting">$ sam init --location gh:symphoniacloud/sam-init-HelloWorldLambdaJava</pre>&#13;
&#13;
<p>This will ask you for a <code>project_name</code> value, and for now just hit Enter to use the default.</p>&#13;
&#13;
<p>The command will then generate a project directory. Change into that directory, and take a look.&#13;
You’ll see the following files:</p>&#13;
<dl>&#13;
<dt>README.md</dt>&#13;
<dd>&#13;
<p>Some instructions on how to build and deploy the project</p>&#13;
</dd>&#13;
<dt>pom.xml</dt>&#13;
<dd>&#13;
<p>A Maven project file</p>&#13;
</dd>&#13;
<dt>template.yaml</dt>&#13;
<dd>&#13;
<p>A SAM template file—used for deploying the project to AWS</p>&#13;
</dd>&#13;
<dt>src/main/java/book/HelloWorld.java</dt>&#13;
<dd>&#13;
<p>The source code for a Lambda function</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>Now open the project in your IDE/editor of choice. If you’re using Jetbrains IntelliJ IDEA, you&#13;
can do that by running the following:</p>&#13;
&#13;
<pre data-type="programlisting">$ idea pom.xml</pre>&#13;
&#13;
<p>Within the <em>pom.xml</em> file itself, change the <code>&lt;groupId&gt;</code> to be more appropriate for yourself, if&#13;
you’d like.</p>&#13;
&#13;
<p>Now take a look at <a data-type="xref" href="#EX1">Example 2-1</a>, which shows the <em>src/main/java/book/HelloWorld.java</em> file.</p>&#13;
<div class="pagebreak-before" data-type="example" id="EX1">&#13;
<h5><span class="label">Example 2-1. </span>Hello World Lambda (in Java)</h5>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="kn">package</code> <code class="n">book</code><code class="o">;</code>&#13;
&#13;
<code class="kd">public</code> <code class="kd">class</code> <code class="nc">HelloWorld</code> <code class="o">{</code>&#13;
  <code class="kd">public</code> <code class="n">String</code> <code class="nf">handler</code><code class="o">(</code><code class="n">String</code> <code class="n">s</code><code class="o">)</code> <code class="o">{</code>&#13;
    <code class="k">return</code> <code class="s">"Hello, "</code> <code class="o">+</code> <code class="n">s</code><code class="o">;</code>&#13;
  <code class="o">}</code>&#13;
<code class="o">}</code></pre></div>&#13;
&#13;
<p>This class represents an entire Java Lambda function. Small, isn’t it? Don’t worry too much about&#13;
the whats and whys; we’ll get to them before too long. For now, let’s build our Lambda deployment&#13;
artifact.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Building Hello World" data-type="sect2"><div class="sect2" id="idm46222431493528">&#13;
<h2>Building Hello World</h2>&#13;
&#13;
<p>We deploy code to the Lambda platform by uploading a ZIP file, or in the Java world we can also&#13;
deploy a JAR file (a JAR is just a ZIP with some embedded metadata). For<a data-primary="uberjars" data-type="indexterm" id="idm46222430496152"/> now we’re going to create&#13;
an <em>uberjar</em>—a JAR that contains all of our code, plus all the classpath dependencies our code&#13;
needs that aren’t in the JVM environment we’ll be running on.</p>&#13;
&#13;
<p>The template project that you’ve just created is set up to create an uberjar for you. We’re not going&#13;
to examine that now because in <a data-type="xref" href="ch04.html#ch04">Chapter 4</a> we’ll go much deeper into a better method of producing a&#13;
Lambda ZIP file (<a data-type="xref" href="ch04.html#assembling-a-zip-file">“Assembling a ZIP File”</a>).</p>&#13;
&#13;
<p>To<a data-primary="mvn package command" data-type="indexterm" id="idm46222431465928"/> build the JAR file, from your project’s working directory, run <strong><code>mvn package</code></strong>. This should&#13;
complete successfully with the following lines near the end:</p>&#13;
&#13;
<pre data-type="programlisting">[INFO] ------------------------------------------------------------------------&#13;
[INFO] BUILD SUCCESS&#13;
[INFO] ------------------------------------------------------------------------</pre>&#13;
&#13;
<p>It should also create our uberjar. Run <strong><code>jar tf target/lambda.jar</code></strong> to list the contents of the&#13;
JAR file. The output should include <code>book/HelloWorld.class</code>, which is our application code,&#13;
embedded within the artifact.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Creating the Lambda Function" data-type="sect2"><div class="sect2" id="creating_the_lambda_function">&#13;
<h2>Creating the Lambda Function</h2>&#13;
&#13;
<p>Earlier in the chapter we walked you through creating a Lambda function via the web console. Now&#13;
we’re going to do the same thing from the terminal. We’re going to use two further commands using&#13;
<strong><code>sam</code></strong> to do this.</p>&#13;
&#13;
<p>Before<a data-primary="Simple Storage Service (S3)" data-secondary="staging buckets" data-type="indexterm" id="idm46222430618808"/><a data-primary="staging buckets" data-type="indexterm" id="idm46222430617832"/> we do that, however, we need to create or identify a <em>staging bucket</em> within the <em>S3</em> AWS&#13;
Service where we can store temporary build artifacts. If you followed the AWS instructions for&#13;
installing the SAM CLI or already know that you have one of these buckets&#13;
available from your current AWS account, feel free to use it. Otherwise you can create&#13;
one using the following command, substituting your own name for <code>bucketname</code>. Note that S3 bucket&#13;
names need to be globally unique, across all AWS accounts, so you may need to try a few to get one&#13;
that’s available:</p>&#13;
&#13;
<pre data-type="programlisting">$ aws s3 mb s3://bucketname</pre>&#13;
&#13;
<p>Once you’ve done this successfully, note this bucket name—we’ll be using it a lot throughout the rest of the book and will refer to it as <code>$CF_BUCKET</code>.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Wherever you see&#13;
<code>$CF_BUCKET</code> from now on, use the bucket name that you just created. Why <code>CF</code>? That stands for&#13;
<em>CloudFormation</em>, which we’ll explain in <a data-type="xref" href="ch04.html#ch04">Chapter 4</a>.</p>&#13;
</div>&#13;
&#13;
<p>Alternatively, if you’re more shell-script-savvy, assign this bucket name to a shell variable named&#13;
<code>CF_BUCKET</code>, and then you can verbatim use the references to <code>$CF_BUCKET</code>.</p>&#13;
&#13;
<p>With<a data-primary="sam deploy command" data-type="indexterm" id="idm46222430608440"/> the S3 bucket ready, we can create our Lambda function. Run the following (after running <strong><code>mvn package</code></strong>):</p>&#13;
&#13;
<pre data-type="programlisting">$ sam deploy \&#13;
  --s3-bucket $CF_BUCKET \&#13;
  --stack-name HelloWorldLambdaJava \&#13;
  --capabilities CAPABILITY_IAM</pre>&#13;
&#13;
<p>Again, don’t worry too much for now what this all means—we’ll explain it later. If this worked&#13;
correctly, the console output should end with the following (although your region may be different):</p>&#13;
&#13;
<pre data-type="programlisting">Successfully created/updated stack—HelloWorldLambdaJava in us-west-2</pre>&#13;
&#13;
<p>This means that your function is deployed and ready to run, so let’s do that.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Running the Lambda function" data-type="sect3"><div class="sect3" id="running_the_lambda_function">&#13;
<h3>Running the Lambda function</h3>&#13;
&#13;
<p>Go back to the Functions list in the Lambda web console, and you should now see two functions listed: the original <code>HelloWorld</code> and a new one with a name that will be something like&#13;
<code>HelloWorldLambdaJava-HelloWorldLambda-YF5M2KZHXZF5</code>. If you don’t see the new Java one, make sure&#13;
you have your regions in sync between the terminal and the web console.</p>&#13;
&#13;
<p>Click through to the new function and take a look at the configuration screen. You’ll see that the&#13;
source code is no longer available since the function was created with a compiled artifact.</p>&#13;
&#13;
<p class="pagebreak-before">To test this function, we need to create a new test event. Click <em>Test</em> again, and on the&#13;
<em>Configure test event</em> screen (<a data-type="xref" href="#configure-java-lambda-test-event">Figure 2-11</a>), give the event name <code>HelloWorldJavaEvent</code>. In the actual event body section, enter the following:</p>&#13;
&#13;
<pre data-code-language="json" data-type="programlisting"><code class="s2">"Java World!"</code></pre>&#13;
&#13;
<figure><div class="figure" id="configure-java-lambda-test-event">&#13;
<img alt="images/ch02_image11.png" src="assets/awsl_0211.png"/>&#13;
<h6><span class="label">Figure 2-11. </span>Configure test event for Java Lambda function</h6>&#13;
</div></figure>&#13;
&#13;
<p>Click <em>Create</em> to save the test event.</p>&#13;
&#13;
<p>This should take you back to the main Lambda screen, with the new test event selected (if it isn’t,&#13;
select it manually). Click <em>Test</em>, and your Lambda function will be executed! (See <a data-type="xref" href="#java-lambda-hello-world-execution-result">Figure 2-12</a>.)</p>&#13;
&#13;
<figure><div class="figure" id="java-lambda-hello-world-execution-result">&#13;
<img alt="images/ch02_image12.png" src="assets/awsl_0212.png"/>&#13;
<h6><span class="label">Figure 2-12. </span>Result for Hello World in Java</h6>&#13;
</div></figure>&#13;
<aside class="pagebreak-before less_space" data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm46222428548472">&#13;
<h5>Tearing Down Resources</h5>&#13;
<p>In<a data-primary="CloudFormation" data-secondary="tearing down resources" data-type="indexterm" id="idm46222423546232"/><a data-primary="resources, tearing down" data-type="indexterm" id="idm46222423975496"/><a data-primary="stacks, deleting" data-type="indexterm" id="idm46222428971368"/> this book, almost every example we give will be deployed using CloudFormation—either directly or indirectly using SAM.&#13;
We talk in detail about CloudFormation in <a data-type="xref" href="ch04.html#ch04">Chapter 4</a> (see <a data-type="xref" href="ch04.html#cloudformation-and-sam">“CloudFormation and the Serverless Application Model”</a>), but one important aspect we want to discuss now is how you can clean up any <span class="keep-together">examples</span>.</p>&#13;
&#13;
<p>When you run <code>sam deploy</code>, it creates or updates a CloudFormation <em>stack</em>—a set of resources that has a name, which you’ve seen already with the <code>--stack-name</code> parameter of <code>sam deploy</code>.</p>&#13;
&#13;
<p>When you want to clean up your AWS account after trying an example, the simplest method is to find the corresponding CloudFormation stack in the AWS Web Console (in the CloudFormation section) and delete the stack using the <em>Delete</em> button.</p>&#13;
&#13;
<p>Alternatively, you can tear down the stack from the command line. For example, to tear down the <code>HelloWorldLambdaJava</code> stack, run the following:</p>&#13;
&#13;
<pre data-type="programlisting">$ aws cloudformation delete-stack --stack-name HelloWorldLambdaJava</pre>&#13;
&#13;
<p>The only example where we don’t use CloudFormation is the very first one earlier in this chapter—the <code>HelloWorld</code> JavaScript function—which can be deleted using the Lambda section of the AWS Web Console.<a data-primary="" data-startref="AWSLjava02" data-type="indexterm" id="idm46222424401960"/><a data-primary="" data-startref="HWjava02" data-type="indexterm" id="idm46222429327720"/><a data-primary="" data-startref="LFjava02" data-type="indexterm" id="idm46222424223016"/></p>&#13;
</div></aside>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Summary" data-type="sect1"><div class="sect1" id="idm46222430567320">&#13;
<h1>Summary</h1>&#13;
&#13;
<p>In<a data-primary="Serverless Application Model (SAM)" data-see="AWS SAM" data-type="indexterm" id="idm46222428940088"/><a data-primary="command line interface (CLI)" data-see="AWS CLI" data-type="indexterm" id="idm46222429008264"/><a data-primary="CLI" data-see="AWS CLI" data-type="indexterm" id="idm46222424264904"/> this chapter, you learned how to sign in to the AWS Web Console and pick a region. Then you created and ran your first Lambda function, via the web console.</p>&#13;
&#13;
<p>You also prepared your local environment for Lambda development by setting up the AWS CLI, Java, Maven, and the AWS SAM CLI. You learned the basics of developing Lambda functions in Java by creating a project in your development environment, building it, and deploying it using Amazon’s SAM tooling. Finally, you now understand how to perform simple testing of Lambda functions by simulating events using the web console’s test event mechanism.</p>&#13;
&#13;
<p>In the next chapter, we’ll start taking a look at how Lambda works, and the ways that impacts how you&#13;
write Lambda code.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="pagebreak-before less_space" data-pdf-bookmark="Exercises" data-type="sect1"><div class="sect1" id="idm46222433889832">&#13;
<h1>Exercises</h1>&#13;
<ol>&#13;
<li>&#13;
<p>If<a data-primary="exercises" data-secondary="getting started with AWS Lambda" data-type="indexterm" id="idm46222430288088"/> you haven’t run through the step-by-step descriptions in this chapter, then it’s worth doing&#13;
that now since it’s a good way to validate your environment.</p>&#13;
</li>&#13;
<li>&#13;
<p>Create a new version of the Java Lambda function with slightly different code, by using a&#13;
different <code>stack-name</code> value at <code>sam deploy</code> time. Note how you can select between these functions&#13;
in the web console.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section></body></html>