<html><head></head><body><section data-pdf-bookmark="Chapter 2. Preparing for Testing" data-type="chapter" epub:type="chapter"><div class="chapter" id="ch02">&#13;
<h1><span class="label">Chapter 2. </span>Preparing for Testing</h1>&#13;
&#13;
&#13;
<p>This chapter aims to implement your first end-to-end test using Selenium WebDriver and the Java language. To do that, we first review the technical requirements in terms of previous knowledge, hardware, and software. Second, this chapter provides an overview for setting up a Java project that includes Selenium WebDriver tests. You can use a build tool like Maven or Gradle to ease the project setup. Finally, you will learn to implement a basic end-to-end test with Selenium WebDriver, i.e., a <em>hello world</em> test. We will implement this test in several flavors, using different web browsers (such as Chrome, Edge, or Firefox) and unit testing frameworks (JUnit and TestNG). Remember that every code example in this book is available in an <a href="https://github.com/bonigarcia/selenium-webdriver-java">open source GitHub repository</a>. Thus, you can reuse the content and configuration of this repository as the foundation for your own tests.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Requirements" data-type="sect1"><div class="sect1" id="idm45849754001856">&#13;
<h1>Requirements</h1>&#13;
&#13;
<p>The first requirement to start using <a data-primary="Java" data-secondary="knowledge of" data-type="indexterm" id="idm45849754000272"/><a data-primary="object-oriented programming" data-type="indexterm" id="idm45849753999296"/><a data-primary="end-to-end (E2E) testing" data-secondary="software requirements for" data-type="indexterm" id="ch2_term1"/><a data-primary="Selenium WebDriver API" data-secondary="requirements of" data-type="indexterm" id="ch2_term2"/><a data-primary="software for end-to-end testing" data-type="indexterm" id="ch2_term3"/>Selenium WebDriver with Java is comprehending the Java language and object-oriented programming. It is not necessary to be an expert, but basic knowledge about it is required. Then, you can use Selenium WebDriver in <a data-primary="operating systems" data-type="indexterm" id="idm45849753995008"/>any mainstream operating system: Windows, Linux, or macOS. Therefore, you can select the computer type you prefer. In principle, there are no specific requirements about its hardware in terms of memory, CPU, hard disk, etc., so any mid-tier computer will do.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="pagebreak-before less_space" data-pdf-bookmark="Java Virtual Machine" data-type="sect2"><div class="sect2" id="idm45849753994080">&#13;
<h2>Java Virtual Machine</h2>&#13;
&#13;
<p>Next, you need <a data-primary="Java Virtual Machine (JVM)" data-type="indexterm" id="idm45849753992272"/><a data-primary="JVM (Java Virtual Machine)" data-type="indexterm" id="idm45849753991568"/>a Java Virtual Machine (JVM) installed on your computer. There are two types of distributions for the JVM. The first option is the Java Runtime Environment (JRE), which includes the JVM and the Java standard API. The second <a data-primary="Java Development Kit (JDK)" data-type="indexterm" id="idm45849753990512"/><a data-primary="JDK (Java Development Kit)" data-type="indexterm" id="idm45849753989824"/>option is the Java Development Kit (JDK), which is the JRE plus a Software Development Kit (SDK) for Java (such as the <code>javac</code> compiler and other tools). Since we are developing in Java, I recommend using JDK (although some IDEs also incorporate an SDK for Java). For the Java version, I recommend using at least JDK 8 since it is the long-term support version commonly supported in many Java projects at the time of this <span class="keep-together">writing</span>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Text Editor or IDE" data-type="sect2"><div class="sect2" id="idm45849753987680">&#13;
<h2>Text Editor or IDE</h2>&#13;
&#13;
<p>To code our <a data-primary="coding tools" data-type="indexterm" id="idm45849753986320"/><a data-primary="IDEs (Integrated Development Environments)" data-type="indexterm" id="idm45849753985200"/><a data-primary="Integrated Development Environments (IDEs)" data-type="indexterm" id="idm45849753984560"/><a data-primary="text editors" data-type="indexterm" id="idm45849753983856"/>Java tests, we need a text editor or IDE. IDEs provide an excellent experience for development because they have a full-fledged environment (for coding, <span class="keep-together">running</span>, debugging, autocompletion, etc.). Nevertheless, you can get similar practice using any text editor you like, used in conjunction with command-line tools (for running, debugging, etc.). Overall, it depends on your personal preferences to choose one or another. Some popular alternatives for text editors are <a href="https://www.sublimetext.com">Sublime Text</a>,  <a href="https://atom.io">Atom</a>, <a href="https://notepad-plus-plus.org">Notepad++</a>, or <a href="https://www.vim.org">Vim</a>, among others. IDEs include <a href="https://www.eclipse.org">Eclipse</a>, <a href="https://www.jetbrains.com/idea">IntelliJ IDEA</a>, <a href="https://netbeans.apache.org">NetBeans</a>, or <a href="https://code.visualstudio.com">Visual Studio Code</a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Browsers and Drivers" data-type="sect2"><div class="sect2" id="idm45849753976352">&#13;
<h2>Browsers and Drivers</h2>&#13;
&#13;
<p>An initial way to carry out automation with Selenium WebDriver is to use local browsers. I consider the <a data-primary="browsers" data-secondary="drivers, overview of" data-type="indexterm" id="idm45849753974512"/><a data-primary="Chrome" data-secondary="as main browser" data-secondary-sortas="main browser" data-type="indexterm" id="idm45849753973536"/><a data-primary="Edge" data-secondary="as main browser" data-secondary-sortas="main browser" data-type="indexterm" id="idm45849753972320"/><a data-primary="Firefox" data-secondary="as main browser" data-secondary-sortas="main browser" data-type="indexterm" id="idm45849753971104"/>following browsers for this book: Chrome, Edge, and Firefox. I refer to them as <em>main browsers</em> for several reasons. First, they are very popular worldwide, and because we are testing web applications with Selenium WebDriver, we want to use the same browser as our potential users. Second, <a data-primary="browsers" data-secondary="evergreen" data-type="indexterm" id="idm45849753969168"/><a data-primary="evergreen browsers" data-type="indexterm" id="idm45849753968192"/>these browsers are <em>evergreen</em> (i.e., they upgrade themselves automatically). Third, these <a data-primary="operating systems" data-type="indexterm" id="idm45849753966976"/>browsers are available for the major operating systems: Windows, Linux, and macOS (unlike Safari, which is also a popular browser but is only available on macOS). Lastly, these browsers are <a data-primary="Continuous Integration (CI) environment" data-type="indexterm" id="idm45849753965936"/><a data-primary="CI (Continuous Integration) environment" data-type="indexterm" id="idm45849753965248"/>available in the Continuous Integration (CI) environment used in the GitHub repository (i.e., GitHub Actions).</p>&#13;
&#13;
<p>The last requirement for controlling web browsers with Selenium WebDriver is the <a data-primary="chromedriver" data-type="indexterm" id="idm45849753963824"/><a data-primary="msedgedriver" data-type="indexterm" id="idm45849753963120"/><a data-primary="Edge" data-secondary="and msedgedriver" data-secondary-sortas="msedgedriver" data-type="indexterm" id="idm45849753962448"/><a data-primary="geckodriver" data-type="indexterm" id="idm45849753961232"/><a data-primary="Firefox" data-secondary="and geckodriver" data-secondary-sortas="geckodriver" data-type="indexterm" id="idm45849753960560"/>driver binaries: chromedriver (for Chrome), msedgedriver (for Edge), and geckodriver (for Firefox). As <a data-primary="automation of browsers" data-secondary="driver management and" data-type="indexterm" id="idm45849753959104"/><a data-primary="automation of browsers" data-secondary="Selenium suite for" data-type="indexterm" id="idm45849753958160"/><a data-primary="driver management" data-secondary="automation of" data-type="indexterm" id="idm45849753957216"/><a data-primary="drivers" data-secondary="automatic browser updates and" data-type="indexterm" id="idm45849753956272"/><a data-primary="WebDriverManager" data-secondary="for automation" data-secondary-sortas="automation" data-type="indexterm" id="idm45849753955360"/>discussed in <a data-type="xref" href="ch01.html#ch01">Chapter 1</a>, driver management involves <span class="keep-together">three steps</span>: download, setup, and maintenance. To avoid the potential problems explained in that chapter, I strongly recommend automating this process with <a href="https://bonigarcia.dev/webdrivermanager"><span class="keep-together">WebDriverManager</span></a>.</p>&#13;
<div data-type="tip"><h6>Tip</h6>&#13;
<p><a data-type="xref" href="app02.html#appendix02">Appendix B</a> provides fine-grained details about the automated driver management process performed by WebDriverManager. In addition, and just in case you need it for some reason, this appendix explains how to carry out the driver management manually.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Build Tools" data-type="sect2"><div class="sect2" id="idm45849753949008">&#13;
<h2>Build Tools</h2>&#13;
&#13;
<p>Another important <a data-primary="build tools" data-type="indexterm" id="idm45849753947472"/><a data-primary="software project development" data-secondary="build tools for" data-type="indexterm" id="idm45849753946736"/>component is the <em>build tool</em>. Build tools are software utilities used to automate the creation of executable applications from source code. These tools ease project management in terms of dependencies management, compilation, packaging, test execution, and deployment. Overall, build tools are a convenient way to automate the development of software projects, both in build servers (e.g., GitHub Actions) and developer machines. Therefore, I highly recommend using a build tool to set up your project. The alternatives we cover in this book are:</p>&#13;
<dl>&#13;
<dt><a href="https://maven.apache.org">Maven</a></dt>&#13;
<dd>&#13;
<p>An <a data-primary="Maven" data-secondary="about" data-type="indexterm" id="idm45849753943360"/>open source build automation tool maintained by the Apache Software Foundation. It is used primarily for Java projects, although it also supports other languages such as C#, Ruby, or Scala.</p>&#13;
</dd>&#13;
<dt><a href="https://gradle.org">Gradle</a></dt>&#13;
<dd>&#13;
<p>Another <a data-primary="Gradle" data-secondary="about" data-type="indexterm" id="idm45849753940336"/>open source build automation tool for software development. It <span class="keep-together">supports</span> Java and other languages such as Kotlin, Groovy, Scala, C/C++, or <span class="keep-together">JavaScript</span>.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>The recommended versions are Maven 3+ and Gradle 6+. For completeness, I use both build tools in the example repository. Again, the final choice to use one or another depends on your preferences.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>If you plan to use an IDE for developing and running your tests, a build tool is not strictly necessary. Nevertheless, I recommend installing at least one of these tools in your computer to replicate the environment typically used in build servers (e.g., Jenkins, <span class="keep-together">GitHub</span> Actions, etc.).</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Optional Software" data-type="sect2"><div class="sect2" id="idm45849753934704">&#13;
<h2>Optional Software</h2>&#13;
&#13;
<p>In addition to the software already explained, some other programs are convenient to make the most of this book. First, you <a data-primary="Git" data-type="indexterm" id="idm45849753933120"/>can use <a href="https://git-scm.com">Git</a> for source code management. Since the test examples presented in this book are available on GitHub, you can use Git to fork (or clone) and update this repository.</p>&#13;
&#13;
<p>The second <a data-primary="Docker containers" data-secondary="for browser infrastructure support" data-secondary-sortas="browser infrastructure support" data-type="indexterm" id="idm45849753930832"/><a data-primary="Docker containers" data-secondary="Docker Engine in" data-type="indexterm" id="idm45849753929520"/>optional tool is <a href="https://www.docker.com">Docker</a>. In this book, I show you how to use Docker to execute containerized browsers (see <a data-type="xref" href="ch06.html#ch06">Chapter 6</a>). For this reason, I strongly <span class="keep-together">recommend</span> you install a <em>Docker Engine</em> on your computer (it is available for Linux, macOS, and Windows 10).</p>&#13;
&#13;
<p>Finally, you can use different web browsers if you need them. In addition to the main browsers (Chrome, Edge, and Firefox), it is possible to use <a data-primary="Chromium" data-secondary="Selenium WebDriver and" data-type="indexterm" id="idm45849753925152"/><a data-primary="HtmlUnit" data-type="indexterm" id="idm45849753924176"/><a data-primary="Opera" data-type="indexterm" id="idm45849753923504"/><a data-primary="Safari" data-type="indexterm" id="idm45849753922832"/>other browsers with Selenium WebDiver, such as <a href="https://www.apple.com/safari">Safari</a> in macOS, or <a href="https://www.opera.com">Opera</a>, <a href="https://www.chromium.org">Chromium</a>, and <a href="https://htmlunit.sourceforge.io">HtmlUnit</a> (a headless browser, i.e., GUI-less browser) in any operating system.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45849753919216">&#13;
<h5>Legacy Browsers</h5>&#13;
<p>In addition to the <a data-primary="browsers" data-secondary="legacy" data-type="indexterm" id="idm45849753917888"/><a data-primary="legacy software" data-type="indexterm" id="idm45849753916880"/><a data-primary="Internet Explorer" data-type="indexterm" id="idm45849753916208"/>browsers already presented, you can use even more browsers with Selenium WebDriver. However, I do not recommend these browsers since they are deprecated and not maintained anymore. These browsers are:</p>&#13;
<dl>&#13;
<dt>Internet Explorer</dt>&#13;
<dd>&#13;
<p>Microsoft’s web browser for Windows systems, first released in 1995 and discontinued in 2022</p>&#13;
</dd>&#13;
<dt>PhantomJS</dt>&#13;
<dd>&#13;
<p>Headless browser, first released in 2011 and <a data-startref="ch2_term1" data-type="indexterm" id="idm45849753912448"/><a data-startref="ch2_term2" data-type="indexterm" id="idm45849753911744"/><a data-startref="ch2_term3" data-type="indexterm" id="idm45849753911072"/>discontinued in 2018</p>&#13;
</dd>&#13;
</dl>&#13;
</div></aside>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Project Setup" data-type="sect1"><div class="sect1" id="idm45849753909760">&#13;
<h1>Project Setup</h1>&#13;
&#13;
<p>You can find all the <a data-primary="examples repositories" data-secondary="GitHub and GitHub services for" data-type="indexterm" id="idm45849753908192"/><a data-primary="examples repositories" data-secondary="source code in" data-type="indexterm" id="idm45849753907216"/><a data-primary="GitHub repository" data-type="indexterm" id="idm45849753906272"/><a data-primary="repositories" data-secondary="for examples" data-secondary-sortas="examples" data-type="indexterm" id="idm45849753905600"/><a data-primary="repositories" data-secondary="GitHub" data-type="indexterm" id="idm45849753904384"/><a data-primary="source code" data-secondary="in examples repository" data-secondary-sortas="examples repository" data-type="indexterm" id="idm45849753903440"/>code examples of this book in <a href="https://github.com/bonigarcia/selenium-webdriver-java">a GitHub repository</a>. This repository is open source, released under the terms of the Apache 2.0 license. The repository has multiple aims. First, it is convenient to group all the examples in a single site. Second, you can use its setup (Maven or Gradle) as a skeleton for your projects.</p>&#13;
<div data-type="tip"><h6>Tip</h6>&#13;
<p>The following subsections describe the general requirements to create a Java project containing Selenium WebDriver tests. <a data-type="xref" href="app03.html#appendix03">Appendix C</a> provides low-level details about the configuration of the examples repositories.</p>&#13;
</div>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Project Layout" data-type="sect2"><div class="sect2" id="idm45849753898880">&#13;
<h2>Project Layout</h2>&#13;
&#13;
<p>The <em>project layout</em> is the <a data-primary="examples repositories" data-secondary="layout of projects in" data-type="indexterm" id="ch2_term4"/><a data-primary="directory structure for project" data-type="indexterm" id="ch2_term5"/><a data-primary="end-to-end (E2E) testing" data-secondary="project setup for" data-type="indexterm" id="ch2_term6"/><a data-primary="Gradle" data-secondary="project layout in" data-type="indexterm" id="ch2_term7"/><a data-primary="Maven" data-secondary="project layout in" data-type="indexterm" id="ch2_term8"/><a data-primary="project setup and layout" data-type="indexterm" id="ch2_term9"/><a data-primary="software project development" data-secondary="project layout for" data-type="indexterm" id="ch2_term10"/>directory structure used to store the different assets of a software project (e.g., source code, binary files, static resources, and so on). Maven and Gradle use an equivalent layout for Java projects. We can execute the examples repository with both build tools, thanks to this.</p>&#13;
&#13;
<p class="pagebreak-before">As illustrated in <a data-type="xref" href="#project-layout">Figure 2-1</a>, the following <a data-primary="src/main/java" data-type="indexterm" id="idm45849753886688"/><a data-primary="src/main/resources" data-type="indexterm" id="idm45849753885984"/><a data-primary="src/test/java" data-type="indexterm" id="idm45849753885312"/><a data-primary="src/test/resources" data-type="indexterm" id="idm45849753884640"/>set of folders (labeled as <em>scaffolding folders</em>) are identical in both build tools:</p>&#13;
<dl>&#13;
<dt><code>src/main/java</code></dt>&#13;
<dd>&#13;
<p>Application source code (i.e., Java files)</p>&#13;
</dd>&#13;
<dt><code>src/main/resources</code></dt>&#13;
<dd>&#13;
<p>Application resources files (i.e., properties, configuration files, etc.)</p>&#13;
</dd>&#13;
<dt><code>src/test/java</code></dt>&#13;
<dd>&#13;
<p>Test source code (i.e., Java files used for testing)</p>&#13;
</dd>&#13;
<dt><code>src/test/resources</code></dt>&#13;
<dd>&#13;
<p>Test resources files (i.e., additional assets used for testing)</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<figure><div class="figure" id="project-layout">&#13;
<img alt="hosw 0201" src="assets/hosw_0201.png"/>&#13;
<h6><span class="label">Figure 2-1. </span>Project layout in Maven and Gradle</h6>&#13;
</div></figure>&#13;
&#13;
<p>The rest of the project layout is different in both build tools. The first difference is the configuration file. On the one hand, this <a data-primary="configuration" data-secondary="for Maven" data-secondary-sortas="Maven" data-type="indexterm" id="idm45849753874352"/><a data-primary="Maven" data-secondary="configuration in" data-type="indexterm" id="idm45849753873104"/><a data-primary="pom.xml" data-type="indexterm" id="idm45849753872160"/>file is unique and called <code>pom.xml</code> (Project Object Model) in Maven. On the other hand, there are two files in <a data-primary="configuration" data-secondary="for Gradle" data-secondary-sortas="Gradle" data-type="indexterm" id="idm45849753870928"/><a data-primary="Gradle" data-secondary="configuration in" data-type="indexterm" id="idm45849753869680"/><a data-primary="build.gradle" data-type="indexterm" id="idm45849753868736"/><a data-primary="settings.gradle" data-type="indexterm" id="idm45849753868064"/>Gradle for configuration, called <code>settings.gradle</code> and <code>build.gradle</code>. The second <a data-primary="output folders" data-type="indexterm" id="idm45849753866384"/>difference between Maven and Gradle is the output folder. In both cases, the build tools created this folder to save the resulting build (i.e., compiled classes, resulting packaged files, etc.). The name of this folder is <code>target</code> in Maven and <code>build</code> in Gradle. Finally, Gradle <a data-primary="Gradle" data-secondary="wrapper file" data-type="indexterm" id="idm45849753864400"/><a data-primary="wrappers" data-type="indexterm" id="idm45849753863424"/><a data-primary="gradlew and gradlew.bat" data-type="indexterm" id="idm45849753862752"/><a data-primary="scripts" data-secondary="wrapper" data-type="indexterm" id="idm45849753862080"/>contains a set of folders and files for the so-called Gradle <em>wrapper</em>. This wrapper is a script file (called <code>gradlew</code> for Unix-like systems and <code>gradlew.bat</code> for Windows) that provides the following benefits:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>Build a project without installing Gradle on the local machine</p>&#13;
</li>&#13;
<li>&#13;
<p>Require use of a given version (which can be different from the locally installed instance of Gradle)</p>&#13;
</li>&#13;
<li>&#13;
<p>Upgrade to a new version easily by changing the wrapper artifacts (in folder <span class="keep-together"><code>gradle/wrapper</code></span>)</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>As of version 4, Maven has <a data-primary="Maven" data-secondary="wrapper" data-type="indexterm" id="idm45849759891760"/><a data-primary="mvnw script" data-type="indexterm" id="idm45849759890784"/>adopted the wrapper concept using the <code>mvnw</code> script.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>It is beyond the scope of this book to explain all the features provided by Maven and Gradle. Nevertheless, you can find more <a data-primary="build lifecycle" data-type="indexterm" id="idm45849759888144"/>information about their build lifecycle and typical commands in <a data-type="xref" href="app03.html#appendix03">Appendix C</a>. For further information, consider <a data-startref="ch2_term4" data-type="indexterm" id="idm45849759886512"/><a data-startref="ch2_term5" data-type="indexterm" id="idm45849759885840"/><a data-startref="ch2_term6" data-type="indexterm" id="idm45849759885168"/><a data-startref="ch2_term7" data-type="indexterm" id="idm45849759884496"/><a data-startref="ch2_term8" data-type="indexterm" id="idm45849759883824"/><a data-startref="ch2_term9" data-type="indexterm" id="idm45849759883152"/><a data-startref="ch2_term10" data-type="indexterm" id="idm45849759882480"/>reading the official <a href="https://maven.apache.org/guides">Maven</a> and <a href="https://docs.gradle.org">Gradle</a> documentation.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Dependencies" data-type="sect2"><div class="sect2" id="idm45849759880080">&#13;
<h2>Dependencies</h2>&#13;
&#13;
<p>The dependencies of a <a data-primary="dependency(ies)" data-secondary="about" data-type="indexterm" id="idm45849759878096"/><a data-primary="dependency(ies)" data-secondary="for projects" data-secondary-sortas="projects" data-type="indexterm" id="ch2_term11"/><a data-primary="examples repositories" data-secondary="and dependencies" data-secondary-sortas="dependencies" data-type="indexterm" id="ch2_term12"/><a data-primary="software project development" data-secondary="dependencies for" data-type="indexterm" id="ch2_term13"/>software project are the required libraries or plug-ins. Among other features, build tools enable the automated management of the project dependencies. To that aim, we need to specify the <em>coordinates</em> of such dependencies in the project configuration file (see the following subsections for specifics on Maven and Gradle). The coordinates of a Java project are a group of <a data-primary="artifactId" data-type="indexterm" id="idm45849759872016"/><a data-primary="groupId" data-type="indexterm" id="idm45849759871312"/><a data-primary="versions of dependencies" data-type="indexterm" id="idm45849759870640"/><a data-primary="identification of project" data-type="indexterm" id="idm45849759870000"/>three labels that univocally identify this project (e.g., a library, plug-in, etc.), namely:</p>&#13;
<dl>&#13;
<dt><code>groupId</code></dt>&#13;
<dd>&#13;
<p>Organization, company, person, etc., that created the project.</p>&#13;
</dd>&#13;
<dt><code>artifactId</code></dt>&#13;
<dd>&#13;
<p>Unique name that identifies the project.</p>&#13;
</dd>&#13;
<dt><code>version</code></dt>&#13;
<dd>&#13;
<p>Particular release of the project. By default, I recommend you use the latest version of every release.</p>&#13;
</dd>&#13;
</dl>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45849759864176">&#13;
<h5>Semantic Versioning</h5>&#13;
<p>A popular way to <a data-primary="Semantic Versioning (SemVer)" data-type="indexterm" id="idm45849759862624"/>select a project version is <a href="https://semver.org">Semantic Versioning</a>, also called <em>SemVer</em>. According to the SemVer manifesto, a release has three parts separated with dots, i.e., <code>MAJOR.MINOR.PATCH</code>. In a nutshell, <code>MAJOR</code> identifies incompatible changes, <code>MINOR</code> identifies backward-compatible changes, and <code>PATCH</code> identifies bug fixes.</p>&#13;
</div></aside>&#13;
&#13;
<p>This section explains the Java dependencies I use in the examples repository. First, of course, we need Selenium WebDriver to carry out browser automation. This dependency is the only one strictly mandatory. Then, I recommend using additional dependencies for automated driver management utility, unit testing framework, fluent assertions, and logging. The remainder of this section explains the motivation and basic use of each of these utilities.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Selenium WebDriver" data-type="sect3"><div class="sect3" id="selenium-webdriver-intro">&#13;
<h3>Selenium WebDriver</h3>&#13;
&#13;
<p>One of the most relevant concepts of <a data-primary="browsers" data-secondary="WebDriver hierarchy of classes of" data-type="indexterm" id="idm45849759856448"/><a data-primary="drivers" data-secondary="WebDriver hierarchy of classes of" data-type="indexterm" id="idm45849759855072"/><a data-primary="dependency(ies)" data-secondary="WebDriver hierarchy as" data-type="indexterm" id="idm45849759854112"/><a data-primary="WebDriver" data-secondary="hierarchy of classes in" data-type="indexterm" id="idm45849759853168"/><a data-primary="classes of browsers" data-type="indexterm" id="idm45849759852224"/><a data-primary="hierarchy, WebDriver" data-type="indexterm" id="idm45849759851552"/><a data-primary="RemoteWebDriver class" data-secondary="as parent of WebDriver classes" data-secondary-sortas="parent of WebDriver classes" data-type="indexterm" id="idm45849759850880"/><a data-primary="Selenium WebDriver API" data-secondary="hierarchy of classes in" data-type="indexterm" id="idm45849759849632"/>Selenium WebDriver is the <code>WebDriver</code> hierarchy, which is a collection of classes aimed at controlling different web browsers. As you can see in <a data-type="xref" href="#webdriver-hierarchy">Figure 2-2</a>, this <a data-primary="object-oriented programming" data-type="indexterm" id="idm45849759847216"/>hierarchy follows the object-oriented programming paradigm. On the top, we find the <code>WebDriver</code> interface, the parent of the whole structure. The lower part of the hierarchy corresponds to Java classes that drive single browsers. For instance, we need to use an <a data-primary="ChromeDriver" data-type="indexterm" id="idm45849759845936"/>instance of the class <code>ChromeDriver</code> to control a local Chrome browser. <a data-type="xref" href="#webdriver-hierarchy-description">Table 2-1</a> shows a comprehensive summary of the main classes of the <code>WebDriver</code> hierarchy and their corresponding target browsers.</p>&#13;
<table id="webdriver-hierarchy-description">&#13;
<caption><span class="label">Table 2-1. </span>Description of the <code>WebDriver</code>  hierarchy</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Package</th>&#13;
<th>Class</th>&#13;
<th>Browser</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">org</code><code class="o">.</code><code class="na">openqa</code><code class="o">.</code><code class="na">selenium</code><code class="o">.</code><code class="na">chrome</code></pre></div></td>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">ChromeDriver</code></pre></div></td>&#13;
<td><p>Chrome</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">org</code><code class="o">.</code><code class="na">openqa</code><code class="o">.</code><code class="na">selenium</code><code class="o">.</code><code class="na">edge</code></pre></div></td>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">EdgeDriver</code></pre></div></td>&#13;
<td><p>Edge</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">org</code><code class="o">.</code><code class="na">openqa</code><code class="o">.</code><code class="na">selenium</code><code class="o">.</code><code class="na">firefox</code></pre></div></td>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">FirefoxDriver</code></pre></div></td>&#13;
<td><p>Firefox</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">org</code><code class="o">.</code><code class="na">openqa</code><code class="o">.</code><code class="na">selenium</code><code class="o">.</code><code class="na">safari</code></pre></div></td>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">SafariDriver</code></pre></div></td>&#13;
<td><p>Safari</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">org</code><code class="o">.</code><code class="na">openqa</code><code class="o">.</code><code class="na">selenium</code><code class="o">.</code><code class="na">opera</code></pre></div></td>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">OperaDriver</code></pre></div></td>&#13;
<td><p>Opera</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">org</code><code class="o">.</code><code class="na">openqa</code><code class="o">.</code><code class="na">selenium</code><code class="o">.</code><code class="na">ie</code></pre></div></td>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">InternetExplorerDriver</code></pre></div></td>&#13;
<td><p>Internet Explorer</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">org</code><code class="o">.</code><code class="na">openqa</code><code class="o">.</code><code class="na">selenium</code><code class="o">.</code><code class="na">remote</code></pre></div></td>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">RemoteWebDriver</code></pre></div></td>&#13;
<td><p>Remote browsers (see <a data-type="xref" href="ch06.html#ch06">Chapter 6</a>)</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<figure><div class="figure" id="webdriver-hierarchy">&#13;
<img alt="hosw 0202" src="assets/hosw_0202.png"/>&#13;
<h6><span class="label">Figure 2-2. </span>Hierarchy of the <code>WebDriver</code> object</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Automated driver management" data-type="sect3"><div class="sect3" id="idm45849751843584">&#13;
<h3>Automated driver management</h3>&#13;
&#13;
<p>It is mandatory to resolve the <a data-primary="automation of browsers" data-secondary="driver management and" data-type="indexterm" id="idm45849751841952"/><a data-primary="driver management" data-secondary="automation of" data-type="indexterm" id="idm45849751840976"/>corresponding driver before instantiating an object of the <code>WebDriver</code> hierarchy. For example, to control Chrome with <code>ChromeDriver</code>, we first need to have installed this browser on the local machine. Second, we need to manage chromedriver.&#13;
To avoid the potential problems related to manual driver management (see <a data-type="xref" href="ch01.html#ch01">Chapter 1</a>), I recommend carrying out the <a data-primary="driver management" data-secondary="steps in procedure of" data-type="indexterm" id="idm45849751794640"/>whole driver management process (download, setup, and maintenance) in an automated manner. <a data-primary="WebDriver" data-secondary="and WebDriverManager" data-secondary-sortas="WebDriverManager" data-type="indexterm" id="idm45849751793456"/><a data-primary="WebDriverManager" data-secondary="as dependency of project" data-secondary-sortas="dependency of project" data-type="indexterm" id="idm45849751792240"/><a data-primary="WebDriverManager" data-secondary="and WebDriver" data-secondary-sortas="WebDriver" data-type="indexterm" id="idm45849751791056"/>Concerning Java, the reference implementation is <a href="https://bonigarcia.dev/webdrivermanager">WebDriverManager</a>, a Selenium WebDriver helper library that allows automated driver management. This section <a data-primary="dependency(ies)" data-secondary="WebDriverManager as" data-type="indexterm" id="idm45849751788912"/>explains how to use WebDriverManager as a Java dependency.</p>&#13;
&#13;
<p>Once the WebDriverManager dependency is resolved in our project (see <a data-type="xref" href="app03.html#appendix03">Appendix C</a> for the configuration details), we can <a data-primary="WebDriverManager" data-secondary="API and basic calls of" data-type="indexterm" id="idm45849751770016"/><a data-primary="WebDriverManager" data-secondary="browsers and drivers of" data-type="indexterm" id="idm45849751769072"/><a data-primary="managers, browser-driver" data-type="indexterm" id="idm45849751768128"/>use the WebDriverManager API to manage drivers. This API provides a set of singletons (called <em>managers</em>) to download, set up, and maintain drivers. These <a data-primary="chromedriver() method" data-type="indexterm" id="idm45849751766800"/>singletons are accessible through the <code>WebDriverManager</code> class. For instance, we need to invoke the method <code>chromedriver()</code> to manage the driver required by Chrome, i.e., chromedriver, as follows:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">WebDriverManager</code><code class="o">.</code><code class="na">chromedriver</code><code class="o">().</code><code class="na">setup</code><code class="o">();</code>&#13;
<code class="n">WebDriver</code> <code class="n">driver</code> <code class="o">=</code> <code class="k">new</code> <code class="n">ChromeDriver</code><code class="o">();</code></pre>&#13;
&#13;
<p><a data-type="xref" href="#wdm-calls">Table 2-2</a> summarizes the basic <a data-primary="chromedriver" data-type="indexterm" id="idm45849751758560"/><a data-primary="geckodriver" data-type="indexterm" id="idm45849751757920"/><a data-primary="Firefox" data-secondary="and geckodriver" data-secondary-sortas="geckodriver" data-type="indexterm" id="idm45849751757248"/><a data-primary="msedgedriver" data-type="indexterm" id="idm45849751756032"/><a data-primary="Edge" data-secondary="and msedgedriver" data-secondary-sortas="msedgedriver" data-type="indexterm" id="idm45849751755360"/><a data-primary="Edge" data-secondary="driver for" data-type="indexterm" id="idm45849751754144"/><a data-primary="Firefox" data-secondary="driver for" data-type="indexterm" id="idm45849751753200"/><a data-primary="Chrome" data-secondary="driver for" data-type="indexterm" id="idm45849751752256"/><a data-primary="Chromium" data-secondary="driver for" data-type="indexterm" id="idm45849751751312"/><a data-primary="Internet Explorer" data-type="indexterm" id="idm45849751750368"/><a data-primary="Opera" data-type="indexterm" id="idm45849751719952"/>WebDriverManager calls for all the supported browsers. In addition to these <a data-primary="setup() method" data-type="indexterm" id="idm45849751719152"/><a data-primary="test setup" data-type="indexterm" id="idm45849751718480"/>basic calls (i.e., the method <code>setup()</code>), WebDriverManager exposes a fluent API for advanced configuration. See <a data-type="xref" href="app02.html#appendix02">Appendix B</a> for more details about the WebDriverManager methodology, configuration capabilities, and other uses, such as a command-line interface tool (from the shell), as a server (using a RESTlike [REpresentational State Transfer] API), as an agent (using Java instrumentation), or as a Docker container.</p>&#13;
<table id="wdm-calls">&#13;
<caption><span class="label">Table 2-2. </span>WebDriverManager basic calls</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>WebDriverManager basic call</th>&#13;
<th>Browser</th>&#13;
<th>Driver</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">WebDriverManager</code><code class="o">.</code><code class="na">chromedriver</code><code class="o">().</code><code class="na">setup</code><code class="o">();</code></pre></div></td>&#13;
<td><p>Chrome</p></td>&#13;
<td><p>chromedriver</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">WebDriverManager</code><code class="o">.</code><code class="na">edgedriver</code><code class="o">().</code><code class="na">setup</code><code class="o">();</code></pre></div></td>&#13;
<td><p>Edge</p></td>&#13;
<td><p>msedgedriver</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">WebDriverManager</code><code class="o">.</code><code class="na">firefoxdriver</code><code class="o">().</code><code class="na">setup</code><code class="o">();</code></pre></div></td>&#13;
<td><p>Firefox</p></td>&#13;
<td><p>geckodriver</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">WebDriverManager</code><code class="o">.</code><code class="na">operadriver</code><code class="o">().</code><code class="na">setup</code><code class="o">();</code></pre></div></td>&#13;
<td><p>Opera</p></td>&#13;
<td><p>operadriver</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">WebDriverManager</code><code class="o">.</code><code class="na">chromiumdriver</code><code class="o">().</code><code class="na">setup</code><code class="o">();</code></pre></div></td>&#13;
<td><p>Chromium</p></td>&#13;
<td><p>chromedriver</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><div>&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">WebDriverManager</code><code class="o">.</code><code class="na">iedriver</code><code class="o">().</code><code class="na">setup</code><code class="o">();</code></pre></div></td>&#13;
<td><p>Internet Explorer</p></td>&#13;
<td><p>IEDriverServer</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Unit testing frameworks" data-type="sect3"><div class="sect3" id="idm45849751589792">&#13;
<h3>Unit testing frameworks</h3>&#13;
&#13;
<p>As explained in <a data-type="xref" href="ch01.html#ch01">Chapter 1</a>, unit testing <a data-primary="dependency(ies)" data-secondary="unit testing frameworks as" data-type="indexterm" id="ch2_term14"/><a data-primary="unit testing frameworks" data-secondary="alternatives for" data-type="indexterm" id="ch2_term15"/><a data-primary="unit testing frameworks" data-secondary="as dependency of project" data-secondary-sortas="dependency of project" data-type="indexterm" id="ch2_term16"/>frameworks are the basis for creating different types of tests. This book will teach you how to implement end-to-end tests for web applications using Selenium WebDriver. Hence, I suggest embedding the Selenium WebDriver calls within tests created with a particular unit testing framework. The <a data-primary="JUnit 5" data-secondary="about" data-type="indexterm" id="idm45849751559792"/><a data-primary="TestNG" data-secondary="about" data-type="indexterm" id="idm45849751558848"/>alternative I recommend is one of these options: JUnit 4, JUnit 5 (alone or in conjunction with Selenium-Jupiter, which is an extension for Selenium WebDriver), or TestNG. The following subsections provide more details about these alternatives. My advice is to focus on the unit testing framework and the build tool you prefer to continue practicing with the examples presented in the rest of the book.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="JUnit 4" data-type="sect4"><div class="sect4" id="idm45849751557648">&#13;
<h4>JUnit 4</h4>&#13;
&#13;
<p>JUnit is a <a data-primary="JUnit, Java tests and" data-type="indexterm" id="idm45849751556240"/><a data-primary="JUnit 4" data-secondary="about" data-type="indexterm" id="idm45849751538736"/>unit testing framework for Java <a data-primary="Beck, Kent" data-type="indexterm" id="idm45849751537664"/><a data-primary="Gamma, Erich" data-type="indexterm" id="idm45849751536992"/>created by Erich Gamma and Kent Beck in 1999. It is considered the de facto standard framework for developing tests in Java. In JUnit, a <em>test</em> is a method within a Java class used for testing. As of JUnit 4, Java annotations are the building blocks for developing JUnit tests. The fundamental annotation of JUnit 4 is <code>@Test</code> since it allows identifying the method(s) that contain the test logic (i.e., the code used to exercise and verify a piece of software). In addition, there are other <a data-primary="@After annotation" data-primary-sortas="After annotation" data-type="indexterm" id="idm45849751535200"/><a data-primary="@AfterClass annotation" data-primary-sortas="AfterClass annotation" data-type="indexterm" id="idm45849751534224"/><a data-primary="@Before annotation" data-primary-sortas="Before annotation" data-type="indexterm" id="idm45849751533280"/><a data-primary="@BeforeClass annotation" data-primary-sortas="BeforeClass annotation" data-type="indexterm" id="idm45849751532336"/>annotations to identify the methods used for the setup (i.e., what happens before the tests) and the teardown (i.e., what happens after the tests).</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p><code>@BeforeClass</code> is executed once before all tests.</p>&#13;
</li>&#13;
<li>&#13;
<p><code>@Before</code> is executed before each test.</p>&#13;
</li>&#13;
<li>&#13;
<p><code>@After</code> is executed after each test.</p>&#13;
</li>&#13;
<li>&#13;
<p><code>@BeforeClass</code> is executed once after all tests.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p><a data-type="xref" href="#junit4-test-lifecycle">Figure 2-3</a> shows a graphical <a data-primary="JUnit 4" data-secondary="test lifecycle of" data-type="indexterm" id="idm45849756264704"/><a data-primary="lifecycles, test" data-type="indexterm" id="idm45849756263728"/><a data-primary="test lifecycles" data-type="indexterm" id="idm45849756263056"/>representation of the basic test lifecycle in JUnit 4.</p>&#13;
&#13;
<figure><div class="figure" id="junit4-test-lifecycle">&#13;
<img alt="hosw 0203" src="assets/hosw_0203.png"/>&#13;
<h6><span class="label">Figure 2-3. </span>JUnit 4 test lifecycle</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="JUnit 5" data-type="sect4"><div class="sect4" id="idm45849756260192">&#13;
<h4>JUnit 5</h4>&#13;
&#13;
<p>Due to several limitations in JUnit 4 (such as monolithic architecture or impossible-to-compose JUnit runners), the JUnit team released a new major version (i.e., JUnit 5) in 2017. JUnit has been <a data-primary="JUnit 5" data-secondary="architecture of" data-type="indexterm" id="ch2_term18"/>redesigned entirely in version 5, following a modular architecture consisting of three components (see <a data-type="xref" href="#junit5-arch">Figure 2-4</a>). The first <a data-primary="JUnit Platform Launcher API" data-type="indexterm" id="idm45849756255920"/><a data-primary="test launcher API" data-type="indexterm" id="idm45849756255248"/><a data-primary="JUnit 5" data-secondary="goals of" data-type="indexterm" id="idm45849756254576"/><a data-primary="test engine API" data-type="indexterm" id="ch2_term17"/>component is the JUnit <em>Platform</em>, the foundation of the whole framework. The goal of the JUnit Platform is twofold:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>It allows the discovery and execution (sequential or parallel) of tests in the JVM through the <em>test launcher</em> API. This API is typically used by programmatic clients such as build tools and IDEs.</p>&#13;
</li>&#13;
<li>&#13;
<p>It defines the <em>test engine</em> API for running tests on the JUnit Platform. This API is typically used by frameworks that provide programming models for testing.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<figure><div class="figure" id="junit5-arch">&#13;
<img alt="hosw 0204" src="assets/hosw_0204.png"/>&#13;
<h6><span class="label">Figure 2-4. </span>JUnit 5 architecture</h6>&#13;
</div></figure>&#13;
&#13;
<p>Thanks to the test engine API, <a data-primary="third-party technologies" data-secondary="about" data-type="indexterm" id="idm45849756246704"/>third-party test frameworks can execute tests on top of the JUnit Platform. Some examples of existing testing frameworks that have implemented test engines for JUnit 5 are <a href="https://github.com/junit-team/testng-engine">TestNG</a>, <a href="https://github.com/cucumber/cucumber-jvm">Cucumber</a>, or <a href="https://github.com/spockframework/spock">Spock</a>. In addition, JUnit 5 provides two out-of-the-box implementations of the test engine API. These engines are the remaining components of the JUnit 5 architecture, namely:</p>&#13;
<dl class="pagebreak-before less_space">&#13;
<dt>Vintage</dt>&#13;
<dd>&#13;
<p>Test engine <a data-primary="JUnit 5" data-secondary="vintage" data-type="indexterm" id="idm45849756241504"/><a data-primary="vintage test engine" data-type="indexterm" id="idm45849756240496"/><a data-primary="legacy software" data-type="indexterm" id="idm45849756239824"/>that provides backward compatibility with legacy JUnit tests (i.e., <span class="keep-together">versions</span> 3 and 4).</p>&#13;
</dd>&#13;
<dt>Jupiter</dt>&#13;
<dd>&#13;
<p>Test engine that provides a new programming and extension model</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>Jupiter is a <a data-primary="JUnit 5" data-secondary="Jupiter and" data-type="indexterm" id="ch2_term19"/><a data-primary="Jupiter" data-secondary="JUnit 5 and" data-type="indexterm" id="ch2_term20"/>relevant component of JUnit 5 since it provides a brand-new API to develop tests using a robust programming model. Some of the features of this programming model are parameterized tests, parallel execution, tagging and filtering, ordered tests, repeated and nested tests, and rich capabilities to <a data-startref="ch2_term17" data-type="indexterm" id="idm45849756233728"/><a data-startref="ch2_term18" data-type="indexterm" id="idm45849756233056"/>disable (ignore) tests.</p>&#13;
&#13;
<p>Like JUnit 4, Jupiter also uses Java annotations to declare test cases. For instance, the <a data-primary="@Test annotation" data-primary-sortas="Test annotation" data-type="indexterm" id="idm45849756231296"/>annotation to identify methods with testing logic is also <code>@Test</code>. The name of the rest of the <a data-primary="@AfterAll annotation" data-primary-sortas="AfterAll annotation" data-type="indexterm" id="idm45849756229808"/><a data-primary="@AfterEach annotation" data-primary-sortas="AfterEach annotation" data-type="indexterm" id="idm45849756228832"/><a data-primary="@BeforeAll annotation" data-primary-sortas="BeforeAll annotation" data-type="indexterm" id="idm45849756227888"/><a data-primary="@BeforeEach annotation" data-primary-sortas="BeforeEach annotation" data-type="indexterm" id="idm45849756226944"/><a data-primary="JUnit 5" data-secondary="test lifecycle of" data-type="indexterm" id="idm45849756226000"/><a data-primary="lifecycles, test" data-type="indexterm" id="idm45849756225056"/><a data-primary="test lifecycles" data-type="indexterm" id="idm45849756224384"/>annotations for the basic test lifecycle is a bit different in Jupiter: <code>@BeforeAll</code>, <code>@BeforeEach</code>, <code>@AfterEach</code>, and <code>@AfterAll</code>. As you can see in <a data-type="xref" href="#junit5-test-lifecycle">Figure 2-5</a>, each of these annotations follows the same workflow of JUnit 4.</p>&#13;
&#13;
<figure><div class="figure" id="junit5-test-lifecycle">&#13;
<img alt="hosw 0205" src="assets/hosw_0205.png"/>&#13;
<h6><span class="label">Figure 2-5. </span>JUnit 5 test lifecycle</h6>&#13;
</div></figure>&#13;
&#13;
<p class="pagebreak-before">Thus, the structure of a Jupiter test using Selenium WebDriver and WebDriverManager is quite similar in JUnit 4 and JUnit 5. In addition to the change in the setup and teardown annotation names, the test methods (and their lifecycle) are not required to be <code>public</code> in the Jupiter programming model.</p>&#13;
<div data-type="tip"><h6>Tip</h6>&#13;
<p>This book will teach you the basics of Jupiter applied to end-to-end testing with Selenium WebDriver. See the <em>hello world</em> example in the next section for a complete test based on JUnit 5. Please check the <a href="https://junit.org/junit5/docs/current/user-guide">JUnit 5 documentation</a> for further details.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="JUnit 5 with Selenium-Jupiter" data-type="sect4"><div class="sect4" id="idm45849756259536">&#13;
<h4>JUnit 5 with Selenium-Jupiter</h4>&#13;
&#13;
<p>The extension <a data-primary="extensions, Jupiter" data-type="indexterm" id="ch2_term21"/><a data-primary="JUnit 5 with Selenium-Jupiter" data-secondary="Jupiter extensions with" data-type="indexterm" id="ch2_term22"/><a data-primary="Jupiter" data-secondary="extensions with" data-type="indexterm" id="ch2_term23"/><a data-primary="Jupiter" data-secondary="Selenium-Jupiter and" data-type="indexterm" id="ch2_term24"/><a data-primary="Selenium-Jupiter" data-secondary="with unit testing frameworks" data-secondary-sortas="unit testing frameworks" data-type="indexterm" id="ch2_term25"/><a data-primary="unit testing frameworks" data-secondary="Selenium-Jupiter with" data-type="indexterm" id="ch2_term26"/>model of Jupiter allows adding custom features to the default programming model. To that aim, Jupiter provides an API that developers can extend (using interfaces called <em>extension points</em>) to provide custom functionality. The <a data-primary="conditional test execution extension" data-type="indexterm" id="idm45849756206192"/><a data-primary="exception handling extension" data-type="indexterm" id="idm45849756205520"/><a data-primary="intercepting invocations extension" data-type="indexterm" id="idm45849756204880"/><a data-primary="parameter resolution extension" data-type="indexterm" id="idm45849756204240"/><a data-primary="test lifecycle callbacks extension" data-type="indexterm" id="idm45849756203600"/><a data-primary="test templates extension" data-type="indexterm" id="idm45849756202960"/>categories of these extension points are:</p>&#13;
<dl>&#13;
<dt>Test lifecycle callbacks</dt>&#13;
<dd>&#13;
<p>To include custom logic in different moments of the test lifecycle</p>&#13;
</dd>&#13;
<dt>Parameter resolution</dt>&#13;
<dd>&#13;
<p>To implement dependency injection (i.e., parameters injected in test methods or constructors)</p>&#13;
</dd>&#13;
<dt>Test templates</dt>&#13;
<dd>&#13;
<p>To repeat the tests based on a given context</p>&#13;
</dd>&#13;
<dt>Conditional test execution</dt>&#13;
<dd>&#13;
<p>To enable or <a data-primary="testing" data-secondary="conditional execution of" data-type="indexterm" id="idm45849756196480"/>disable tests depending on custom conditions</p>&#13;
</dd>&#13;
<dt>Exception handling</dt>&#13;
<dd>&#13;
<p>To manage Java exceptions during the test and its lifecycle</p>&#13;
</dd>&#13;
<dt>Test instance</dt>&#13;
<dd>&#13;
<p>To create and process test class instances</p>&#13;
</dd>&#13;
<dt>Intercepting invocations</dt>&#13;
<dd>&#13;
<p>To intercept calls to test code (and decide whether or not these calls proceed)</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>As a Jupiter developer, you can implement your custom extension or use the existing ones. <a data-type="xref" href="#jupiter_extensions">Table 2-3</a> shows some <a data-primary="JUnit Pioneer extension" data-type="indexterm" id="idm45849756190048"/><a data-primary="rerunner-jupiter extension" data-type="indexterm" id="idm45849756189344"/>examples of Jupiter extensions.</p>&#13;
<table class="pagebreak-before less_space" id="jupiter_extensions">&#13;
<caption><span class="label">Table 2-3. </span>Jupiter extensions</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Name</th>&#13;
<th>Description</th>&#13;
<th>License</th>&#13;
<th>Maintainer</th>&#13;
<th>Website</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p>JUnit Pioneer</p></td>&#13;
<td><p>Extension pack for Jupiter</p></td>&#13;
<td><p>EPL 2.0</p></td>&#13;
<td><p>JUnit Pioneer team</p></td>&#13;
<td><p><a href="https://junit-pioneer.org"><em class="hyperlink">https://junit-pioneer.org</em></a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>rerunner-jupiter</p></td>&#13;
<td><p>Extension for rerunning failed Jupiter tests</p></td>&#13;
<td><p>Apache 2.0</p></td>&#13;
<td><p>Artem Sokovets</p></td>&#13;
<td><p><a href="https://github.com/artsok/rerunner-jupiter"><em class="hyperlink">https://github.com/artsok/rerunner-jupiter</em></a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>MockitoExtension</p></td>&#13;
<td><p>Jupiter extension for initializing mocks and handling stubbings</p></td>&#13;
<td><p>MIT</p></td>&#13;
<td><p>Mockito team</p></td>&#13;
<td><p><a href="https://github.com/mockito/mockito"><em class="hyperlink">https://github.com/mockito/mockito</em></a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>QuickPerf</p></td>&#13;
<td><p>Library for evaluating some performance-related properties</p></td>&#13;
<td><p>Apache 2.0</p></td>&#13;
<td><p>QuickPerf team</p></td>&#13;
<td><p><a href="https://github.com/quick-perf/quickperf"><em class="hyperlink">https://github.com/quick-perf/quickperf</em></a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>Selenium-Jupiter</p></td>&#13;
<td><p>Jupiter extension for Selenium WebDriver</p></td>&#13;
<td><p>Apache 2.0</p></td>&#13;
<td><p>Boni García</p></td>&#13;
<td><p><a href="https://bonigarcia.dev/selenium-jupiter"><em class="hyperlink">https://bonigarcia.dev/selenium-jupiter</em></a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>SpringExtension</p></td>&#13;
<td><p>Jupiter extension for the Spring Framework</p></td>&#13;
<td><p>Apache 2.0</p></td>&#13;
<td><p>Pivotal Software</p></td>&#13;
<td><p><a href="https://spring.io/projects/spring-framework"><em class="hyperlink">https://spring.io/projects/spring-framework</em></a></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>Selenium-Jupiter is an attractive option in the context of this book since it enables using <a data-primary="WebDriverManager" data-secondary="Selenium-Jupiter and" data-type="indexterm" id="idm45849756157616"/><a data-primary="WebDriverManager" data-secondary="and WebDriver" data-secondary-sortas="WebDriver" data-type="indexterm" id="idm45849756156704"/><a data-primary="WebDriver" data-secondary="and WebDriverManager" data-secondary-sortas="WebDriverManager" data-type="indexterm" id="idm45849756155488"/>Selenium WebDriver in Jupiter tests seamlessly. The bases of Selenium-Jupiter are as follows (see the next section for a <em>hello world</em> test based on Selenium-Jupiter):</p>&#13;
<dl>&#13;
<dt>Reduced boilerplate code in test cases</dt>&#13;
<dd>&#13;
<p>Thanks to the <a data-primary="parameter resolution extension" data-type="indexterm" id="idm45849756152064"/>parameter resolution feature provided by the Jupiter programming model, Selenium-Jupiter allows declaring an object of the <code>WebDriver</code> hierarchy (e.g., <code>ChromeDriver</code>, <code>FirefoxDriver</code>, etc.) to control web browsers from tests as a constructor or test parameter.</p>&#13;
</dd>&#13;
<dt>Automated driver management through WebDriverManager</dt>&#13;
<dd>&#13;
<p>Thanks to the <a data-primary="Selenium-Jupiter" data-secondary="WebDriverManager and" data-type="indexterm" id="idm45849756148608"/><a data-primary="test lifecycle callbacks extension" data-type="indexterm" id="idm45849756147600"/>test lifecycle callbacks provided by the extension model, the use of WebDriverManager is entirely transparent for Selenium-Jupiter users.</p>&#13;
</dd>&#13;
<dt>Advanced capabilities for end-to-end testing</dt>&#13;
<dd>&#13;
<p>This includes, for instance, <a data-primary="end-to-end (E2E) testing" data-secondary="Selenium-Jupiter with" data-type="indexterm" id="idm45849756145088"/><a data-primary="Selenium-Jupiter" data-secondary="with end-to-end testing" data-secondary-sortas="end-to-end testing" data-type="indexterm" id="idm45849756144096"/>seamless integration with Docker, test templates (for cross-browser testing), or troubleshooting and monitoring <a data-startref="ch2_term19" data-type="indexterm" id="idm45849756142624"/><a data-startref="ch2_term20" data-type="indexterm" id="idm45849756141952"/><a data-startref="ch2_term21" data-type="indexterm" id="idm45849756141280"/><a data-startref="ch2_term22" data-type="indexterm" id="idm45849756140608"/><a data-startref="ch2_term23" data-type="indexterm" id="idm45849756139936"/><a data-startref="ch2_term24" data-type="indexterm" id="idm45849756139264"/><a data-startref="ch2_term25" data-type="indexterm" id="idm45849756138592"/><a data-startref="ch2_term26" data-type="indexterm" id="idm45849756137920"/>capabilities (e.g., <span class="keep-together">session</span> recordings or configurable screenshots).</p>&#13;
</dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="TestNG" data-type="sect4"><div class="sect4" id="idm45849756136240">&#13;
<h4>TestNG</h4>&#13;
&#13;
<p>The last unit testing framework I use in this book is <a data-primary="TestNG" data-secondary="about" data-type="indexterm" id="idm45849756134672"/>TestNG. Some of the more significant features that TestNG provides are parallel test execution, test prioritization, data-driven testing using custom annotations, and the creation of detailed HTML reports.</p>&#13;
&#13;
<p>In the same way as JUnit 4 and Jupiter, TestNG also uses Java annotations to declare tests and their lifecycle (i.e., what happens before and after each test). Again, the <a data-primary="@Test annotation" data-primary-sortas="Test annotation" data-type="indexterm" id="idm45849756132640"/>annotation <code>@Test</code> is used to designate test methods. Then, it provides <a data-primary="@AfterClass annotation" data-primary-sortas="AfterClass annotation" data-type="indexterm" id="idm45849756131056"/><a data-primary="@AfterMethod annotation" data-primary-sortas="AfterMethod annotation" data-type="indexterm" id="idm45849756130080"/><a data-primary="@BeforeClass annotation" data-primary-sortas="BeforeClass annotation" data-type="indexterm" id="idm45849756129136"/><a data-primary="@BeforeMethod annotation" data-primary-sortas="BeforeMethod annotation" data-type="indexterm" id="idm45849756128192"/>the annotations <code>@BeforeClass</code> and <code>@BeforeMethod</code> to specify the test setup, and <code>@AfterMethod</code> and <code>@AfterClass</code>  for the teardown (see <a data-type="xref" href="#testng-test-lifecycle">Figure 2-6</a>). In addition, TestNG allows <a data-primary="test grouping (TestNG)" data-type="indexterm" id="idm45849756124592"/><a data-primary="testing" data-secondary="with specified groupings" data-secondary-sortas="specified groupings" data-type="indexterm" id="idm45849756123920"/>grouping the tests contained in Java classes using the following terminology:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p><em>Suite</em> consists of one or more <em>tests</em>.</p>&#13;
</li>&#13;
<li>&#13;
<p><em>Test</em> consists of one or more <em>classes</em>.</p>&#13;
</li>&#13;
<li>&#13;
<p><em>Class</em> is a Java class with testing method(s), e.g., annotated with <code>@Test</code>.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>Following this notation, and as <a data-primary="lifecycles, test" data-type="indexterm" id="idm45849756117040"/><a data-primary="test lifecycles" data-type="indexterm" id="idm45849756116336"/><a data-primary="TestNG" data-secondary="test lifecycle of" data-type="indexterm" id="idm45849756115664"/>represented in <a data-type="xref" href="#testng-test-lifecycle">Figure 2-6</a>, TestNG provides additional annotations to execute custom logic before and after the suite and the test(s).</p>&#13;
&#13;
<figure><div class="figure" id="testng-test-lifecycle">&#13;
<img alt="hosw 0206" src="assets/hosw_0206.png"/>&#13;
<h6><span class="label">Figure 2-6. </span>TestNG test lifecycle</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Fluent assertions" data-type="sect3"><div class="sect3" id="idm45849756111568">&#13;
<h3>Fluent assertions</h3>&#13;
&#13;
<p>As introduced in <a data-type="xref" href="ch01.html#ch01">Chapter 1</a>, there are <a data-startref="ch2_term14" data-type="indexterm" id="idm45849756108720"/><a data-startref="ch2_term15" data-type="indexterm" id="idm45849756108016"/><a data-startref="ch2_term16" data-type="indexterm" id="idm45849756107344"/><a data-primary="assertions" data-type="indexterm" id="idm45849756106672"/><a data-primary="AssertJ assertions" data-type="indexterm" id="idm45849756106000"/><a data-primary="fluent assertions" data-type="indexterm" id="idm45849756105328"/><a data-primary="dependency(ies)" data-secondary="fluent assertions as" data-type="indexterm" id="idm45849756104656"/><a data-primary="Java" data-secondary="assertion libraries for" data-type="indexterm" id="idm45849756103712"/><a data-primary="error messages" data-type="indexterm" id="idm45849756102768"/>different libraries for assertions. These libraries typically provide a rich set of fluent assertions and comprehensive error messages. Among these alternatives, I use the library <a href="https://joel-costigliola.github.io/assertj">AssertJ</a> in the examples repository. The reason is twofold. First, we can select the available methods for quickly asserting data using the autocompletion feature in IDEs (typically available using Ctrl + space after the static method <code>assertThat</code>). <a data-type="xref" href="#assertj-autocomplete-eclipse">Figure 2-7</a> shows an example of the inspection of this <a data-primary="Eclipse IDE" data-type="indexterm" id="idm45849756099840"/><a data-primary="IDEs (Integrated Development Environments)" data-type="indexterm" id="idm45849756099168"/><a data-primary="Integrated Development Environments (IDEs)" data-type="indexterm" id="idm45849756098400"/>method using an IDE (Eclipse in this example).</p>&#13;
&#13;
<figure><div class="figure" id="assertj-autocomplete-eclipse">&#13;
<img alt="hosw 0207" src="assets/hosw_0207.png"/>&#13;
<h6><span class="label">Figure 2-7. </span>Manual inspection of the available assertion methods in AssertJ using Eclipse</h6>&#13;
</div></figure>&#13;
&#13;
<p>The second advantage of AssertJ compared to other options is that it allows an assertions chain using dot notation. Thanks to this, we can concatenate several conditions to create more readable assertions, for instance:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="n">assertThat</code><code class="o">(</code><code class="mi">1</code> <code class="o">+</code> <code class="mi">1</code><code class="o">).</code><code class="na">isGreaterThan</code><code class="o">(</code><code class="mi">1</code><code class="o">).</code><code class="na">isLessThan</code><code class="o">(</code><code class="mi">3</code><code class="o">);</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Logging" data-type="sect3"><div class="sect3" id="idm45849756111200">&#13;
<h3>Logging</h3>&#13;
&#13;
<p>Finally, I recommend <a data-primary="browser log" data-type="indexterm" id="idm45849756086368"/><a data-primary="dependency(ies)" data-secondary="logging libraries as" data-type="indexterm" id="idm45849756085632"/><a data-primary="log gathering" data-type="indexterm" id="idm45849756084688"/><a data-primary="logging libraries" data-type="indexterm" id="idm45849756084016"/><a data-primary="examples repositories" data-secondary="logging libraries in" data-type="indexterm" id="idm45849756083344"/>using a logging library to trace your Java code. As you may know, logging is a simple way programmers track events when software executes. Logging is typically carried out by writing text messages into a file or the standard output, and it allows you to trace programs and diagnose problems. Today, it is common to use specific libraries to do logging effectively. These libraries provide different benefits, such as the level of granularity for messages (e.g., debug, warning, or error), timestamping, or configuration <a data-startref="ch2_term11" data-type="indexterm" id="idm45849756082272"/><a data-startref="ch2_term12" data-type="indexterm" id="idm45849756081600"/><a data-startref="ch2_term13" data-type="indexterm" id="idm45849756080928"/>capabilities.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Hello World" data-type="sect1"><div class="sect1" id="idm45849759879424">&#13;
<h1>Hello World</h1>&#13;
&#13;
<p>We are ready to put all the pieces <a data-primary="end-to-end (E2E) testing" data-secondary="hello world example of" data-type="indexterm" id="ch2_term29"/><a data-primary="Selenium WebDriver API" data-secondary="in hello world example" data-secondary-sortas="hello world example" data-type="indexterm" id="ch2_term30"/><a data-primary="unit testing frameworks" data-secondary="hello world examples with" data-type="indexterm" id="ch2_term31"/>explained in this chapter together and implement our first end-to-end test. As you may know, a <em>hello world</em> program is a simple piece of code that many programming languages use to illustrate basic syntax. <a data-type="xref" href="#helloworld_jupiter">Example 2-1</a> shows the Selenium WebDriver’s version of this classic <em>hello world</em>.</p>&#13;
<div data-type="tip"><h6>Tip</h6>&#13;
<p>The following example <a data-primary="JUnit 5" data-secondary="hello world examples with" data-type="indexterm" id="ch2_term27"/><a data-primary="Chrome" data-secondary="hello world example with" data-type="indexterm" id="ch2_term28"/>uses JUnit 5 as the unit testing framework to embed the call to Selenium WebDriver. Remember that you can find the other flavors (i.e., JUnit 4, JUnit 5 with Selenium-Jupiter, and TestNG) in the <a href="https://github.com/bonigarcia/selenium-webdriver-java">examples repository</a>.</p>&#13;
</div>&#13;
<div data-type="example" id="helloworld_jupiter">&#13;
<h5><span class="label">Example 2-1. </span>Hello world using Chrome and JUnit 5</h5>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="kd">class</code><code> </code><code class="nc">HelloWorldChromeJupiterTest</code><code> </code><code class="o">{</code><code>&#13;
</code><code>&#13;
</code><code>    </code><code class="kd">static</code><code> </code><code class="kd">final</code><code> </code><code class="n">Logger</code><code> </code><code class="n">log</code><code> </code><code class="o">=</code><code> </code><code class="n">getLogger</code><code class="o">(</code><code class="n">lookup</code><code class="o">(</code><code class="o">)</code><code class="o">.</code><code class="na">lookupClass</code><code class="o">(</code><code class="o">)</code><code class="o">)</code><code class="o">;</code><code>&#13;
</code><code>&#13;
</code><code>    </code><code class="kd">private</code><code> </code><code class="n">WebDriver</code><code> </code><code class="n">driver</code><code class="o">;</code><code> </code><a class="co" href="#callout_preparing_for_testing_CO1-1" id="co_preparing_for_testing_CO1-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code>    </code><code class="nd">@BeforeAll</code><code>&#13;
</code><code>    </code><code class="kd">static</code><code> </code><code class="kt">void</code><code> </code><code class="nf">setupClass</code><code class="o">(</code><code class="o">)</code><code> </code><code class="o">{</code><code>&#13;
</code><code>        </code><code class="n">WebDriverManager</code><code class="o">.</code><code class="na">chromedriver</code><code class="o">(</code><code class="o">)</code><code class="o">.</code><code class="na">setup</code><code class="o">(</code><code class="o">)</code><code class="o">;</code><code> </code><a class="co" href="#callout_preparing_for_testing_CO1-2" id="co_preparing_for_testing_CO1-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>    </code><code class="o">}</code><code>&#13;
</code><code>&#13;
</code><code>    </code><code class="nd">@BeforeEach</code><code>&#13;
</code><code>    </code><code class="kt">void</code><code> </code><code class="nf">setup</code><code class="o">(</code><code class="o">)</code><code> </code><code class="o">{</code><code>&#13;
</code><code>        </code><code class="n">driver</code><code> </code><code class="o">=</code><code> </code><code class="k">new</code><code> </code><code class="n">ChromeDriver</code><code class="o">(</code><code class="o">)</code><code class="o">;</code><code> </code><a class="co" href="#callout_preparing_for_testing_CO1-3" id="co_preparing_for_testing_CO1-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>    </code><code class="o">}</code><code>&#13;
</code><code>&#13;
</code><code>    </code><code class="nd">@Test</code><code>&#13;
</code><code>    </code><code class="kt">void</code><code> </code><code class="nf">test</code><code class="o">(</code><code class="o">)</code><code> </code><code class="o">{</code><code>&#13;
</code><code>        </code><code class="c1">// Exercise&#13;
</code><code>        </code><code class="n">String</code><code> </code><code class="n">sutUrl</code><code> </code><code class="o">=</code><code> </code><code class="s">"https://bonigarcia.dev/selenium-webdriver-java/"</code><code class="o">;</code><code>&#13;
</code><code>        </code><code class="n">driver</code><code class="o">.</code><code class="na">get</code><code class="o">(</code><code class="n">sutUrl</code><code class="o">)</code><code class="o">;</code><code> </code><a class="co" href="#callout_preparing_for_testing_CO1-4" id="co_preparing_for_testing_CO1-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>        </code><code class="n">String</code><code> </code><code class="n">title</code><code> </code><code class="o">=</code><code> </code><code class="n">driver</code><code class="o">.</code><code class="na">getTitle</code><code class="o">(</code><code class="o">)</code><code class="o">;</code><code> </code><a class="co" href="#callout_preparing_for_testing_CO1-5" id="co_preparing_for_testing_CO1-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>        </code><code class="n">log</code><code class="o">.</code><code class="na">debug</code><code class="o">(</code><code class="s">"The title of {} is {}"</code><code class="o">,</code><code> </code><code class="n">sutUrl</code><code class="o">,</code><code> </code><code class="n">title</code><code class="o">)</code><code class="o">;</code><code> </code><a class="co" href="#callout_preparing_for_testing_CO1-6" id="co_preparing_for_testing_CO1-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code>&#13;
</code><code>        </code><code class="c1">// Verify&#13;
</code><code>        </code><code class="n">assertThat</code><code class="o">(</code><code class="n">title</code><code class="o">)</code><code class="o">.</code><code class="na">isEqualTo</code><code class="o">(</code><code class="s">"Hands-On Selenium WebDriver with Java"</code><code class="o">)</code><code class="o">;</code><code> </code><a class="co" href="#callout_preparing_for_testing_CO1-7" id="co_preparing_for_testing_CO1-7"><img alt="7" src="assets/7.png"/></a><code>&#13;
</code><code>    </code><code class="o">}</code><code>&#13;
</code><code>&#13;
</code><code>    </code><code class="nd">@AfterEach</code><code>&#13;
</code><code>    </code><code class="kt">void</code><code> </code><code class="nf">teardown</code><code class="o">(</code><code class="o">)</code><code> </code><code class="o">{</code><code>&#13;
</code><code>        </code><code class="n">driver</code><code class="o">.</code><code class="na">quit</code><code class="o">(</code><code class="o">)</code><code class="o">;</code><code> </code><a class="co" href="#callout_preparing_for_testing_CO1-8" id="co_preparing_for_testing_CO1-8"><img alt="8" src="assets/8.png"/></a><code>&#13;
</code><code>    </code><code class="o">}</code><code>&#13;
</code><code>&#13;
</code><code class="o">}</code></pre></div>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_preparing_for_testing_CO1-1" id="callout_preparing_for_testing_CO1-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>We declare a Java attribute <a data-primary="WebDriver" data-secondary="and WebDriverManager" data-secondary-sortas="WebDriverManager" data-type="indexterm" id="idm45849757299232"/><a data-primary="WebDriverManager" data-secondary="and WebDriver" data-secondary-sortas="WebDriver" data-type="indexterm" id="idm45849757297984"/><a data-primary="WebDriverManager" data-secondary="in hello world example" data-secondary-sortas="hello world example" data-type="indexterm" id="idm45849757322928"/>using the interface <code>WebDriver</code>. We use this variable in tests to control web browsers with Selenium WebDriver.</p></dd>&#13;
<dt><a class="co" href="#co_preparing_for_testing_CO1-2" id="callout_preparing_for_testing_CO1-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>In the setup for all tests within this class (i.e., executed once), we call WebDriverManager to manage the required driver. In this example, since we use Chrome as a browser, we need to resolve chromedriver.</p></dd>&#13;
<dt><a class="co" href="#co_preparing_for_testing_CO1-3" id="callout_preparing_for_testing_CO1-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>In the test <a data-primary="setup() method" data-type="indexterm" id="idm45849757316400"/><a data-primary="test setup" data-type="indexterm" id="idm45849757315664"/>setup (executed once per test method), we instantiate the <code>WebDriver</code> object to control Chrome. In other words, we create an object of the type <code>ChromeDriver</code>.</p></dd>&#13;
<dt><a class="co" href="#co_preparing_for_testing_CO1-4" id="callout_preparing_for_testing_CO1-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>The test <a data-primary="test logic" data-type="indexterm" id="idm45849757246464"/>logic uses the Selenium WebDriver API through the <code>driver</code> variable. First, the test exercises the System Under Test (SUT). To that aim, <a data-primary="get() method" data-type="indexterm" id="idm45849757245216"/>we open the <a href="https://bonigarcia.dev/selenium-webdriver-java">practice site</a> using the <code>get()</code> method of our <code>webdriver</code> variable (which represents a Chrome browser, in this case).</p></dd>&#13;
<dt><a class="co" href="#co_preparing_for_testing_CO1-5" id="callout_preparing_for_testing_CO1-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>We get the <a data-primary="getTitle() method" data-type="indexterm" id="idm45849757240480"/>web page title using the method <code>getTitle()</code>.</p></dd>&#13;
<dt><a class="co" href="#co_preparing_for_testing_CO1-6" id="callout_preparing_for_testing_CO1-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>For debugging <a data-primary="DEBUG log level" data-type="indexterm" id="idm45849757236672"/>purposes, we log that title using the <code>DEBUG</code> level.</p></dd>&#13;
<dt><a class="co" href="#co_preparing_for_testing_CO1-7" id="callout_preparing_for_testing_CO1-7"><img alt="7" src="assets/7.png"/></a></dt>&#13;
<dd><p>The last part of the test <a data-primary="AssertJ assertions" data-type="indexterm" id="idm45849757232864"/>contains an AssertJ assertion. In this case, we verify the web page title is as expected.</p></dd>&#13;
<dt><a class="co" href="#co_preparing_for_testing_CO1-8" id="callout_preparing_for_testing_CO1-8"><img alt="8" src="assets/8.png"/></a></dt>&#13;
<dd><p>At the end of each test, we need to <a data-primary="quit() method" data-type="indexterm" id="idm45849757229200"/>close the browser. To that aim, we can invoke the method <code>quit()</code> of the <code>driver</code> object (see more info about how to close <code>WebDriver</code> objects in <a data-type="xref" href="ch03.html#ch03">Chapter 3</a>).</p></dd>&#13;
</dl>&#13;
&#13;
<p>You can execute this test in different ways. I recommend getting a local copy of the examples repository. You can use the GitHub website to download a complete copy of the source code. Alternatively, you <a data-primary="Git" data-type="indexterm" id="idm45849757226032"/>can use Git to clone the repo using the shell, as follows:</p>&#13;
&#13;
<pre data-code-language="shell" data-type="programlisting">git clone https://github.com/bonigarcia/selenium-webdriver-java</pre>&#13;
&#13;
<p>Then, you can <a data-primary="Gradle" data-secondary="with hello world example" data-secondary-sortas="hello world example" data-type="indexterm" id="idm45849756279456"/><a data-primary="Maven" data-secondary="with hello world example" data-secondary-sortas="hello world example" data-type="indexterm" id="idm45849756914896"/>use Maven or Gradle (as explained in <a data-type="xref" href="app03.html#appendix03">Appendix C</a>) to run the tests from the shell. In addition, you can import the cloned Maven/Gradle projects into an IDE. IDEs provide built-in capabilities to execute the test from their GUI. For <a data-primary="IDEs (Integrated Development Environments)" data-type="indexterm" id="idm45849756345504"/><a data-primary="Integrated Development Environments (IDEs)" data-type="indexterm" id="idm45849761756544"/>instance, <a data-type="xref" href="#hello-world-eclipse">Figure 2-8</a> shows a screenshot of the execution of the previous <em>hello world</em> test in Eclipse (in this case, using the command Run → Run As → JUnit Test). Notice that in the integrated console (at the bottom of the picture), the first traces correspond to the driver resolution by WebDriverManager. Then, the browser starts through chromedriver, and finally, we can see the test traces (concretely, the web page title).</p>&#13;
&#13;
<figure><div class="figure" id="hello-world-eclipse">&#13;
<img alt="hosw 0208" src="assets/hosw_0208.png"/>&#13;
<h6><span class="label">Figure 2-8. </span>Screenshot of the execution of the Selenium WebDriver’s <em>hello world</em> in Eclipse</h6>&#13;
</div></figure>&#13;
&#13;
<p>The <em>hello world</em> versions using <a data-startref="ch2_term27" data-type="indexterm" id="idm45849751962016"/><a data-startref="ch2_term28" data-type="indexterm" id="idm45849758974720"/><a data-primary="JUnit 4" data-secondary="hello world example with" data-type="indexterm" id="idm45849765565152"/><a data-primary="JUnit 5 with Selenium-Jupiter" data-secondary="hello world examples with" data-type="indexterm" id="idm45849753221568"/><a data-primary="Selenium-Jupiter" data-secondary="with unit testing frameworks" data-secondary-sortas="unit testing frameworks" data-type="indexterm" id="idm45849752914336"/><a data-primary="unit testing frameworks" data-secondary="Selenium-Jupiter with" data-type="indexterm" id="idm45849760754352"/><a data-primary="Jupiter" data-secondary="Selenium-Jupiter and" data-seealso="Selenium-Jupiter" data-type="indexterm" id="idm45849752432128"/><a data-primary="Selenium-Jupiter" data-seealso="JUnit 5 with Selenium-Jupiter" data-type="indexterm" id="idm45849762244272"/>JUnit 4 and TestNG are almost identical to JUnit 5 but use different annotations for the test lifecycle (e.g., JUnit 4’s <code>@Before</code> instead of JUnit 5’s <code>@BeforeEach</code>, etc.). Regarding JUnit 5 plus Selenium-Jupiter, the code is a bit more compact. <a data-type="xref" href="#helloworld_seljup">Example 2-2</a> shows this <em>hello world</em> version. As you can see, there is no <a data-primary="WebDriver objects" data-type="indexterm" id="idm45849758433264"/><a data-primary="Selenium-Jupiter" data-secondary="objects in" data-type="indexterm" id="idm45849760540704"/><a data-primary="objects" data-secondary="WebDriver" data-type="indexterm" id="idm45849755748192"/><a data-primary="Firefox" data-secondary="hello world examples with" data-type="indexterm" id="idm45849756292592"/>need to declare the setup and teardown. We simply need to declare the <code>WebDriver</code> object we want as a test parameter (<code>FirefoxDriver</code> in this case), and Selenium-Jupiter takes care of the driver management (also with WebDriverManager), object instantiation, and browser disposal.</p>&#13;
<div data-type="example" id="helloworld_seljup">&#13;
<h5><span class="label">Example 2-2. </span>Hello world using Firefox and Selenium-Jupiter</h5>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="nd">@ExtendWith</code><code class="o">(</code><code class="n">SeleniumJupiter</code><code class="o">.</code><code class="na">class</code><code class="o">)</code>&#13;
<code class="kd">class</code> <code class="nc">HelloWorldFirefoxSelJupTest</code> <code class="o">{</code>&#13;
&#13;
    <code class="nd">@Test</code>&#13;
    <code class="kt">void</code> <code class="nf">test</code><code class="o">(</code><code class="n">FirefoxDriver</code> <code class="n">driver</code><code class="o">)</code> <code class="o">{</code>&#13;
        <code class="c1">// Same test logic than other "hello world" tests</code>&#13;
    <code class="o">}</code>&#13;
&#13;
<code class="o">}</code></pre></div>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using Additional Browsers" data-type="sect2"><div class="sect2" id="idm45849758695968">&#13;
<h2>Using Additional Browsers</h2>&#13;
&#13;
<p>In addition to what I am calling <em>main</em> browsers in this book (i.e., Chrome, Edge, and Firefox), the example repository contains the <em>hello world</em> test using other <a data-primary="HtmlUnit" data-type="indexterm" id="idm45849761514416"/><a data-primary="Chromium" data-secondary="Selenium WebDriver and" data-type="indexterm" id="idm45849755183984"/>browsers: Opera, Chromium, Safari, and HtmlUnitDriver (a Selenium WebDriver–compatible driver for the HtmlUnit headless browser). These tests, contained in the package <span class="keep-together"><code>helloworld_otherbrowsers</code></span> of this repository, are slightly different from the raw <em>hello world</em> versions. For instance, <a data-type="xref" href="#helloworld_opera_junit5">Example 2-3</a> shows the <a data-primary="Opera" data-type="indexterm" id="idm45849755729280"/><a data-primary="JUnit 5" data-secondary="hello world examples with" data-type="indexterm" id="idm45849758639072"/>JUnit 5 class setup of the <em>hello world</em> test using Opera. Since <a data-primary="assumption logic" data-type="indexterm" id="idm45849752421648"/><a data-primary="browsers" data-secondary="testing for availability of" data-type="indexterm" id="idm45849761896544"/>this browser might not be available in the machine running the test (e.g., Opera is not available in GitHub Actions), I use <em>assumptions</em> to disable the test in runtime conditionally.</p>&#13;
<div data-type="example" id="helloworld_opera_junit5">&#13;
<h5><span class="label">Example 2-3. </span>Class setup using Opera and JUnit 5</h5>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="nd">@BeforeAll</code><code>&#13;
</code><code class="kd">static</code><code> </code><code class="kt">void</code><code> </code><code class="nf">setupClass</code><code class="o">(</code><code class="o">)</code><code> </code><code class="o">{</code><code>&#13;
</code><code>    </code><code class="n">Optional</code><code class="o">&lt;</code><code class="n">Path</code><code class="o">&gt;</code><code> </code><code class="n">browserPath</code><code> </code><code class="o">=</code><code> </code><code class="n">WebDriverManager</code><code class="o">.</code><code class="na">operadriver</code><code class="o">(</code><code class="o">)</code><code>&#13;
</code><code>            </code><code class="o">.</code><code class="na">getBrowserPath</code><code class="o">(</code><code class="o">)</code><code class="o">;</code><code> </code><a class="co" href="#callout_preparing_for_testing_CO2-1" id="co_preparing_for_testing_CO2-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>    </code><code class="n">assumeThat</code><code class="o">(</code><code class="n">browserPath</code><code class="o">)</code><code class="o">.</code><code class="na">isPresent</code><code class="o">(</code><code class="o">)</code><code class="o">;</code><code> </code><a class="co" href="#callout_preparing_for_testing_CO2-2" id="co_preparing_for_testing_CO2-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>    </code><code class="n">WebDriverManager</code><code class="o">.</code><code class="na">operadriver</code><code class="o">(</code><code class="o">)</code><code class="o">.</code><code class="na">setup</code><code class="o">(</code><code class="o">)</code><code class="o">;</code><code>&#13;
</code><code class="o">}</code></pre></div>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_preparing_for_testing_CO2-1" id="callout_preparing_for_testing_CO2-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>We use WebDriverManager to locate the browser path.</p></dd>&#13;
<dt><a class="co" href="#co_preparing_for_testing_CO2-2" id="callout_preparing_for_testing_CO2-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>If this path does not exist, we assume the browser is not installed in the system, so the test is skipped (using an AssertJ assumption).</p></dd>&#13;
</dl>&#13;
&#13;
<p>As usual, you can find this test using other unit testing frameworks in the examples repository. The JUnit 5 and TestNG versions use the equivalent test setup to the previous snippet. Nevertheless, there is a <a data-primary="Selenium-Jupiter" data-secondary="with unit testing frameworks" data-secondary-sortas="unit testing frameworks" data-type="indexterm" id="idm45849758029616"/><a data-primary="unit testing frameworks" data-secondary="Selenium-Jupiter with" data-type="indexterm" id="idm45849758028400"/><a data-primary="JUnit 5 with Selenium-Jupiter" data-secondary="hello world examples with" data-type="indexterm" id="idm45849758027456"/><a data-primary="Safari" data-type="indexterm" id="idm45849758026576"/>difference when using JUnit 5 plus Selenium-Jupiter. As you can see in <a data-type="xref" href="#helloworld_safari_seljup">Example 2-4</a>, Selenium-Jupiter simplifies the assumption logic by using a <a data-primary="@EnabledIfBrowserAvailable annotation" data-primary-sortas="EnabledIfBrowserAvailable annotation" data-type="indexterm" id="idm45849757990816"/>custom annotation (called <code>EnabledIfBrowserAvailable</code>) to disable tests depending on the browser availability (Safari in this example).</p>&#13;
<div data-type="example" id="helloworld_safari_seljup">&#13;
<h5><span class="label">Example 2-4. </span>Hello world using Safari and JUnit 5 plus Selenium-Jupiter</h5>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="nd">@EnabledIfBrowserAvailable</code><code class="o">(</code><code class="n">SAFARI</code><code class="o">)</code>&#13;
<code class="nd">@ExtendWith</code><code class="o">(</code><code class="n">SeleniumJupiter</code><code class="o">.</code><code class="na">class</code><code class="o">)</code>&#13;
<code class="kd">class</code> <code class="nc">HelloWorldSafariSelJupTest</code> <code class="o">{</code>&#13;
&#13;
    <code class="nd">@Test</code>&#13;
    <code class="kt">void</code> <code class="nf">test</code><code class="o">(</code><code class="n">SafariDriver</code> <code class="n">driver</code><code class="o">)</code> <code class="o">{</code>&#13;
        <code class="c1">// Same test logic than other "hello world" tests</code>&#13;
    <code class="o">}</code>&#13;
&#13;
<code class="o">}</code></pre></div>&#13;
&#13;
<p>To control Safari with Selenium WebDriver, we need to configure Safari manually to authorize remote automation. To that aim, first, we show the develop menu by clicking on the menu option Safari → Preferences  → Advanced tab. Then, we enable the “Show Develop Menu” checkbox. After that, the “Develop” menu should appear. Finally, we click on the option “Allow Remote Automation” (see <a data-type="xref" href="#safari-macos">Figure 2-9</a>).</p>&#13;
&#13;
<figure><div class="figure" id="safari-macos">&#13;
<img alt="hosw 0209" src="assets/hosw_0209.png"/>&#13;
<h6><span class="label">Figure 2-9. </span>Enable Safari remote automation on macOS</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Summary and Outlook" data-type="sect1"><div class="sect1" id="idm45849756079536">&#13;
<h1>Summary and Outlook</h1>&#13;
&#13;
<p>This chapter <a data-startref="ch2_term29" data-type="indexterm" id="idm45849757962656"/><a data-startref="ch2_term30" data-type="indexterm" id="idm45849757961920"/><a data-startref="ch2_term31" data-type="indexterm" id="idm45849757961248"/>provides the foundations for developing end-to-end tests for web applications using Selenium WebDriver and Java. The first important decision you need to make is to <a data-primary="unit testing frameworks" data-secondary="alternatives for" data-type="indexterm" id="idm45849757960448"/>decide in which unit testing framework to embed the Selenium WebDriver calls to implement these tests. For the sake of diversity and completeness, I propose four options in this book: JUnit 4, JUnit 5, JUnit 5 plus Selenium-Jupiter, and TestNG. They are all equivalent for basic Selenium WebDriver tests. For more advanced uses, <a data-type="xref" href="ch08.html#ch08">Chapter 8</a> will cover the specific features of each testing framework that could be relevant to WebDriver tests (e.g., parameterized tests for cross-browser testing). Another decision you should make is to <a data-primary="build tools" data-type="indexterm" id="idm45849757958576"/>choose a build tool. In this book, I propose two options: Maven and Gradle. Once again, both are similar for standard development practices.</p>&#13;
&#13;
<p>The second part of this book is focused on the Selenium WebDriver API and begins next. To get started, <a data-type="xref" href="ch03.html#ch03">Chapter 3</a> covers the fundamental notions of the Selenium WebDriver API in terms of WebDriver objects, web elements location, user impersonation (keyboard and mouse actions), and waiting strategies. As usual, this chapter is guided by code examples available on the repository hosted in GitHub.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section></body></html>