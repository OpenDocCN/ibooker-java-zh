<html><head></head><body><section data-pdf-bookmark="Appendix B. Exercise Answers" data-type="appendix" epub:type="appendix"><div class="appendix" id="learnjava6-APP-B">&#13;
<h1><span class="label">Appendix B. </span>Exercise Answers</h1>&#13;
&#13;
&#13;
<p>This appendix contains answers (and usually a bit of context) for the review questions at the end of each chapter. The code exercise answers are included with the source download for the example programs, in the <em>exercises</em> folder. <a data-type="xref" href="app01.html#learnjava6-APP-A">Appendix A</a> has details on obtaining the source and setting it up inside IntelliJ IDEA.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Chapter 1: A Modern Language" data-type="sect1"><div class="sect1" id="learnjava6-APP-B-SECT-1">&#13;
<h1>Chapter 1: A Modern Language</h1>&#13;
<ol>&#13;
<li>&#13;
<p>Which company currently maintains Java?</p>&#13;
&#13;
<p>While Java was developed in the 1990s at Sun Microsystems, Oracle purchased Sun (and thus Java) in 2009. Oracle maintains ownership and is an active partner in the development and distribution of its own commercial JDK and the open source OpenJDK.</p>&#13;
</li>&#13;
<li>&#13;
<p>What is the name of the open source development kit for Java?</p>&#13;
&#13;
<p>The open source version of the JDK is known as the OpenJDK.</p>&#13;
</li>&#13;
<li>&#13;
<p>Name the two main components that play a role in Java’s approach to securely running bytecode.</p>&#13;
&#13;
<p>Java has many features that relate to security, but the main components at play in every Java application are the class loader and the bytecode verifier.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Chapter 2: A First Application" data-type="sect1"><div class="sect1" id="learnjava6-APP-B-SECT-2">&#13;
<h1>Chapter 2: A First Application</h1>&#13;
<ol>&#13;
<li>&#13;
<p>What command should you use to compile a Java source file?</p>&#13;
&#13;
<p>If you are working in a terminal, the <em>javac</em> command compiles Java source files. While the details are often hidden when using an IDE like IntelliJ IDEA, the IDE is also using <em>javac</em> behind the scenes.</p>&#13;
</li>&#13;
<li>&#13;
<p>How does the JVM know where to start when you run a Java application?</p>&#13;
&#13;
<p>Any executable Java class must have a <code>main()</code> method defined. The JVM uses this method as the entry point.</p>&#13;
</li>&#13;
<li>&#13;
<p>Can you extend more than one class when creating a new class?</p>&#13;
&#13;
<p>No. Java does not support direct multiple inheritance from multiple, separate classes.</p>&#13;
</li>&#13;
<li>&#13;
<p>Can you implement more than one interface when creating a new class?</p>&#13;
&#13;
<p>Yes. Java allows you to implement as many interfaces as needed. Using interfaces provides programmers with most of the useful features of multiple inheritance without many of the pitfalls.</p>&#13;
</li>&#13;
<li>&#13;
<p>Which class represents the window in a graphical application?</p>&#13;
&#13;
<p>The <code>JFrame</code> class represents the main window used in Java graphical applications, although later chapters will introduce you to some lower-level classes that can also create specialized windows.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Code Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-2.1">&#13;
<h2>Code Exercises</h2>&#13;
&#13;
<p>We won’t generally list the code solutions in this appendix, but we want to make it easy to check your solution for this first program. The simple text version of “Goodbye, Java!” should look something like this:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="kd">public</code><code class="w"> </code><code class="kd">class</code> <code class="nc">GoodbyeJava</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kd">static</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">main</code><code class="p">(</code><code class="n">String</code><code class="o">[]</code><code class="w"> </code><code class="n">args</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">System</code><code class="p">.</code><code class="na">out</code><code class="p">.</code><code class="na">println</code><code class="p">(</code><code class="s">"Goodbye, Java!"</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/>&#13;
<code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>For the graphical version, your code should look similar to this:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="kn">import</code><code class="w"> </code><code class="nn">javax.swing.*</code><code class="p">;</code><code class="w"/>&#13;
&#13;
<code class="kd">public</code><code class="w"> </code><code class="kd">class</code> <code class="nc">GoodbyeJava</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kd">static</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">main</code><code class="p">(</code><code class="n">String</code><code class="o">[]</code><code class="w"> </code><code class="n">args</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">JFrame</code><code class="w"> </code><code class="n">frame</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="k">new</code><code class="w"> </code><code class="n">JFrame</code><code class="p">(</code><code class="s">"Chapter 2 Exercises"</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">setSize</code><code class="p">(</code><code class="mi">300</code><code class="p">,</code><code class="w"> </code><code class="mi">150</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">setDefaultCloseOperation</code><code class="p">(</code><code class="n">JFrame</code><code class="p">.</code><code class="na">EXIT_ON_CLOSE</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">JLabel</code><code class="w"> </code><code class="n">label</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="k">new</code><code class="w"> </code><code class="n">JLabel</code><code class="p">(</code><code class="s">"Goodbye, Java!"</code><code class="p">,</code><code class="w"> </code><code class="n">JLabel</code><code class="p">.</code><code class="na">CENTER</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">add</code><code class="p">(</code><code class="n">label</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">frame</code><code class="p">.</code><code class="na">setVisible</code><code class="p">(</code><code class="kc">true</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/>&#13;
<code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>Note that we added the extra <code>EXIT_ON_CLOSE</code> that we introduced in <code>HelloJava2</code> so that the app will quit correctly when you close it. If you are using IDEA, you can run either class using the green Play button right inside the IDE. If you are using a terminal, you can change to the directory where <em>GoodbyeJava.java</em> is located and type the following commands:</p>&#13;
&#13;
<pre data-type="programlisting">% javac GoodbyeJava.java&#13;
% java GoodbyeJava</pre>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Chapter 3: Tools of the Trade" data-type="sect1"><div class="sect1" id="learnjava6-APP-B-SECT-3">&#13;
<h1>Chapter 3: Tools of the Trade</h1>&#13;
<ol>&#13;
<li>&#13;
<p>What statement gives you access to the Swing components in you application?</p>&#13;
&#13;
<p>The <code>import</code> statement loads information the compiler needs from the specified class or package. For Swing components, you typically import the entire package with <code>import javax.swing.*;</code>.</p>&#13;
</li>&#13;
<li>&#13;
<p>What environment variable determines where Java will look for class files when compiling or executing?</p>&#13;
&#13;
<p>The <code>CLASSPATH</code> environment variable holds a list of directories containing the other classes or JAR files available for both compilation and execution. If you are using an IDE, the <code>CLASSPATH</code> is still defined, but it is not something you typically edit yourself.</p>&#13;
</li>&#13;
<li>&#13;
<p>What options can you use to look at the contents of a JAR file without &#13;
<span class="keep-together">unpacking it</span>?</p>&#13;
&#13;
<p>You can run the following command to show the contents of a JAR file without actually unpacking it into the current directory:</p>&#13;
&#13;
<pre data-type="programlisting">% jar tvf MyApp.jar</pre>&#13;
&#13;
<p>The <code>tvf</code> flags represent the table of contents (<code>t</code>), verbose (<code>v</code>), and file (<code>f</code> followed by a filename).</p>&#13;
</li>&#13;
<li>&#13;
<p>What entry is required in the <em>MANIFEST.MF</em> file to make a JAR file executable?</p>&#13;
&#13;
<p>You must include an entry for <code>Main-Class</code> that gives the fully qualified name of a class with a valid <code>main()</code> method to make a given JAR file executable.</p>&#13;
</li>&#13;
<li>&#13;
<p>What tool allows you to try out Java code interactively?</p>&#13;
&#13;
<p>You can run <em>jshell</em> from a terminal to try simple Java code interactively.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Code Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-3.1">&#13;
<h2>Code Exercises</h2>&#13;
&#13;
<p>You will find our solutions to the code exercises in the <em>ch03/solutions</em> folder. (<a data-type="xref" href="app01.html#learnjava6-APP-A">Appendix A</a> has details on downloading the examples.) Our solutions are not the only—or even best—way to solve these problems. We try to present clean, maintainable code that follows best practices, but there are always other ways to approach a coding problem. Hopefully you are able to write and run your own answers, but here are a few hints if you are stuck.</p>&#13;
&#13;
<p>To make the executable <em>hello.jar</em> file, we’ll do all of our work in the <em>ch03/exercises</em> folder in a terminal. (You can certainly do this type of work <a href="https://oreil.ly/l0akz">inside IDEA</a> as well.) Go ahead and open a terminal and change into that folder.</p>&#13;
&#13;
<p>Before we create the JAR file itself, we need to edit the <em>manifest.mf</em> file. Add the <code>Main-Class</code> entry. The final file should look something like this:</p>&#13;
&#13;
<pre data-type="programlisting">Manifest-Version: 1.0&#13;
Created-By: 11.0.16&#13;
Main-Class: ch03.exercises.HelloJar</pre>&#13;
&#13;
<p>Now you can create and test your JAR file with the following commands:</p>&#13;
&#13;
<pre data-type="programlisting">% jar cvmf manifest.mf hello.jar *.class&#13;
% java -jar hello.jar</pre>&#13;
&#13;
<p>Recall that the <code>m</code> element in the flags is necessary to include our manifest. It’s also worth a reminder that the order of the <code>m</code> and <code>f</code> flags determines the order of the <em>manifest.mf</em> and <em>hello.jar</em> command-line arguments that follow. Do you remember how to look at the contents of your newly created JAR to verify the manifest is there?<sup><a data-type="noteref" href="app02.html#id2590" id="id2590-marker">1</a></sup></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Chapter 4: The Java Language" data-type="sect1"><div class="sect1" id="learnjava6-APP-B-SECT-4">&#13;
<h1>Chapter 4: The Java Language</h1>&#13;
<ol>&#13;
<li>&#13;
<p>What text encoding format does JAVA use by default by Java in compiled classes?</p>&#13;
&#13;
<p>By default, Java uses the 8-bit Unicode Transformation Format (UTF-8) encoding. The 8-bit (or one byte) encoding can accommodate single and multibyte characters.</p>&#13;
</li>&#13;
<li>&#13;
<p>What characters are used to enclose a multiline comment? Can those comments be nested?</p>&#13;
&#13;
<p>Java borrows from C and C++ for its comment syntax. Single-line comments begin with two slashes (<code>//</code>), while multiline comments are enclosed in <code>/*</code> and <code>*/</code> pairs. The multiline style can also be used to embed small comments in the middle of a line of code.</p>&#13;
</li>&#13;
<li>&#13;
<p>Which looping constructs does Java support?</p>&#13;
&#13;
<p>Java supports the <code>for</code> loop (both traditional C-style, and an enhanced form for iterating over collections), the <code>while</code> loop, and the <code>do/while</code> loop.</p>&#13;
</li>&#13;
<li>&#13;
<p>In a chain of <code>if/else if/else</code> tests, what happens if multiple conditions are true?</p>&#13;
&#13;
<p>The block associated with the first test that evaluates to <code>true</code> will be executed. After that block completes, control resumes after the entire chain—regardless of how many other tests would have also returned <code>true</code>.</p>&#13;
</li>&#13;
<li>&#13;
<p>If you wanted to store the US stock market’s total capitalization (roughly $31 trillion at the close of fiscal year 2022) as whole dollars, what primitive data type could you use?</p>&#13;
&#13;
<p>You could use the <code>long</code> integer type; it can store numbers up to 9 quintillion (positive or negative). While you could also use the <code>double</code> type, as the numbers get larger, their precision falls off. And since “whole dollars” implies no fractions, an integer type makes more sense.</p>&#13;
</li>&#13;
<li>&#13;
<p>What does the expression <code>18 – 7 * 2</code> evaluate to?</p>&#13;
&#13;
<p>This is an order-of-precedence question to make sure your high school algebra teacher finally gets some credit after all those “but when will I ever use this?” queries. The multiplication of 7 and 2 will occur first, then the subtraction. The final answer is 4. (You might have come up with 22, which results from performing the operations from left to right. If you actually want that result, you could enclose the <code>18 – 7</code> portion inside parentheses…​just like this aside.)</p>&#13;
</li>&#13;
<li>&#13;
<p>How would you create an array holding the names of the days of the week?</p>&#13;
&#13;
<p>You can create and initialize an array using curly braces. For the days of the week, we need an array of <code>String</code>s, like this:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">String</code><code class="o">[]</code><code class="w"> </code><code class="n">dayNames</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">      </code><code class="s">"Sunday"</code><code class="p">,</code><code class="w"> </code><code class="s">"Monday"</code><code class="p">,</code><code class="w"> </code><code class="s">"Tuesday"</code><code class="p">,</code><code class="w"> </code><code class="s">"Wednesday"</code><code class="p">,</code><code class="w"/>&#13;
<code class="w">      </code><code class="s">"Thursday"</code><code class="p">,</code><code class="w"> </code><code class="s">"Friday"</code><code class="p">,</code><code class="w"> </code><code class="s">"Saturday"</code><code class="w"/>&#13;
<code class="w">    </code><code class="p">};</code><code class="w"/></pre>&#13;
&#13;
<p>The spacing around the names in the list is optional. You can list everything on one line, list each name on its own line, or some combination as we did here.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Code Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-4.1">&#13;
<h2>Code Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>There are a number of ways to print the original <code>a</code> and <code>b</code> to the screen along with the calculated greatest common denominator. You could use a <code>print()</code> statement (<em>not</em> <code>println()</code>) before you begin calculating, and then use a <code>println()</code> with the answer to finish the output. Or you could store a copy of <code>a</code> and <code>b</code> in a second set of variables before beginning the calculation. After you find the answer, you can print the copied values along with the result.</p>&#13;
</li>&#13;
<li>&#13;
<p>To output the triangular data in a simple row, you can use the same nested loops that you use to fill the triangle:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="k">for</code><code class="w"> </code><code class="p">(</code><code class="kt">int</code><code class="w"> </code><code class="n">i</code><code class="p">;</code><code class="w"> </code><code class="n">i</code><code class="w"> </code><code class="o">&lt;</code><code class="w"> </code><code class="n">triangle</code><code class="p">.</code><code class="na">length</code><code class="p">;</code><code class="w"> </code><code class="n">i</code><code class="o">++</code><code class="p">)</code><code class="w"/>&#13;
<code class="w">      </code><code class="k">for</code><code class="w"> </code><code class="p">(</code><code class="kt">int</code><code class="w"> </code><code class="n">j</code><code class="p">;</code><code class="w"> </code><code class="n">j</code><code class="w"> </code><code class="o">&lt;</code><code class="w"> </code><code class="n">triangle</code><code class="o">[</code><code class="n">i</code><code class="o">]</code><code class="p">.</code><code class="na">length</code><code class="p">;</code><code class="w"> </code><code class="n">j</code><code class="o">++</code><code class="p">)</code><code class="w"/>&#13;
<code class="w">        </code><code class="n">System</code><code class="p">.</code><code class="na">out</code><code class="p">.</code><code class="na">println</code><code class="p">(</code><code class="n">triangle</code><code class="o">[</code><code class="n">i</code><code class="o">][</code><code class="n">j</code><code class="o">]</code><code class="p">);</code><code class="w"/></pre>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Advanced Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-4.2">&#13;
<h2>Advanced Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>To present your output in a visual triangle, use a <code>print()</code> statement inside the inner <code>j</code> loop. (Be sure to print a space after each number as well.) After the inner loop finishes, you can use an empty <code>println()</code> to terminate the line and be ready for the next row.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Chapter 5: Objects in Java" data-type="sect1"><div class="sect1" id="learnjava6-APP-B-SECT-5">&#13;
<h1>Chapter 5: Objects in Java</h1>&#13;
<ol>&#13;
<li>&#13;
<p>What is the primary organizing unit in Java?</p>&#13;
&#13;
<p>The main “unit” in Java is a class. Many other structures play important roles, of course, but you can’t use any of those other things without at least one class.</p>&#13;
</li>&#13;
<li>&#13;
<p>What operator do you use to create an object (or instance) from a class?</p>&#13;
&#13;
<p>The <code>new</code> operator instantiates an object from a class and calls the appropriate constructor.</p>&#13;
</li>&#13;
<li>&#13;
<p>Java does not support classic multiple inheritance. What mechanisms does Java provide as alternatives?</p>&#13;
&#13;
<p>Java uses interfaces to accomplish most of the goals of multiple inheritance found in many other object-oriented languages.</p>&#13;
</li>&#13;
<li>&#13;
<p>How can you organize multiple related classes?</p>&#13;
&#13;
<p>You place related classes in a package. In your filesystem, a package appears as nested folders. In your code, packages use dot-separated names.</p>&#13;
</li>&#13;
<li>&#13;
<p>How do you include classes from other packages for use in your own code?</p>&#13;
&#13;
<p>You can <code>import</code> other individual classes or entire packages for your own use.</p>&#13;
</li>&#13;
<li>&#13;
<p>What do you call a class defined inside the scope of another class? What are some features that make such a class useful in some circumstances?</p>&#13;
&#13;
<p>A simple class defined within the curly braces of another class (not just in the same file) is called an inner class. Inner classes have access to all the variables and methods of the outer class—including private members. They can be used to help break up your code into manageable and reusable pieces while providing good control over who else can use them.</p>&#13;
</li>&#13;
<li>&#13;
<p>What do you call a method designed to be overridden that has a name, return type, and argument list, but no body?</p>&#13;
&#13;
<p>Methods defined with only their signatures are known as abstract methods. Including an abstract method in a class makes the class abstract as well. The abstract class cannot be instantiated. You must create a subclass and then provide a real body for the abstract method to use it.</p>&#13;
</li>&#13;
<li>&#13;
<p>What is an overloaded method?</p>&#13;
&#13;
<p>Java allows you to use the same method name with different types or numbers of arguments. If two methods share the same name, they are said to be overloaded. Overloading makes it possible to create a batch of methods that do the same logical work on disparate arguments. The classic example of an overloaded method in Java is <code>System.out.println()</code> which can take several different types of arguments and convert them all to strings for printing to a terminal.</p>&#13;
</li>&#13;
<li>&#13;
<p>If you want to make sure no other class can use a variable you have defined, what access modifier should you use?</p>&#13;
&#13;
<p>The <code>private</code> access modifier for a variable (or a method, or indeed an entire inner class) restricts its use to the class where it is defined.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Code Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-5.1">&#13;
<h2>Code Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>For the first problem in our <code>Zoo</code>, you just need to add a <code>print()</code> statement to the empty <code>speak()</code> method in the inner <code>Gibbon</code> class. Hopefully the <code>Lion</code> example is straightforward to follow.</p>&#13;
</li>&#13;
<li>&#13;
<p>Adding another animal should also be straightforward; you can copy the entire <code>Lion</code> class. Rename the class and print an appropriate noise in the <code>speak()</code> method. You’ll also need to replicate a few lines in the <code>listen()</code> method so that your animal’s sound is added to the output.</p>&#13;
</li>&#13;
<li>&#13;
<p>To refactor the <code>listen()</code> method, we noted that the output for each animal is very similar, but the name of the animal obviously changes for each animal. If we move that name into the animals’ respective classes, we can create a loop whose body prints out the details (name and noise) for one animal. Then we iterate over our array of animals. If you make another animal, you only have to add an instance of your new inner class to the array.</p>&#13;
</li>&#13;
<li>&#13;
<p>The <code>AppleToss</code> class for this exercise is part of the <code>exercises.ch05</code> package. (The <em>game</em> folder contains the completed game, with all the features we’ll be building throughout the book. The classes in that folder are part of the <code>game</code> package. You’re welcome to compile and run that version, but it has several features we haven’t discussed yet.) To compile the game from a terminal, you can either change into the <em>ch05/exercises</em> directory and compile the Java classes there, or stay in the top-level folder where you unpacked the source code and give the path when compiling:</p>&#13;
<div class="openblock">&#13;
<pre data-type="programlisting">% javac ch05/exercises/AppleToss.java</pre>&#13;
&#13;
<p>To run the game, you need to be in that top-level folder. From there, you can run the <code>exercises.ch05.AppleToss</code> class with the <em>java</em> command.</p>&#13;
</div>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Advanced Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-5.2">&#13;
<h2>Advanced Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>Hopefully, adding a <code>Hedge</code> feels straightforward. You can start with a copy of the <code>Tree</code> class. Rename the file <em>Hedge.java</em>. Edit the class to reflect our new <code>Hedge</code> obstacle and update its <code>paintComponent()</code> method. Inside the <code>Field</code> class, you’ll need to add a member variable for the <code>Hedge</code>. Create a <code>setupHedge()</code> method similar to <code>setupTree()</code> and be sure to include your hedge in the <code>paintComponent()</code> method of <code>Field</code>.</p>&#13;
&#13;
<p>Last, but certainly not least, update the <code>setupFieldForOnePlayer()</code> method to call our <code>setupHedge()</code> method. Compile and run the game just like you did in the previous exercise. Your new hedge(s) should appear!</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Chapter 6: Error Handling" data-type="sect1"><div class="sect1" id="learnjava6-APP-B-SECT-6">&#13;
<h1>Chapter 6: Error Handling</h1>&#13;
<ol>&#13;
<li>&#13;
<p>What statement do you use to manage potential exceptions in your code?</p>&#13;
&#13;
<p>You can use a <code>try/catch</code> block around any statement or group of statements that might generate an exception.</p>&#13;
</li>&#13;
<li>&#13;
<p>Which exceptions does the compiler require you to handle or throw?</p>&#13;
&#13;
<p>In Java, the term <em>checked exception</em> refers to a category of exceptions that the compiler understands and requires the programmer to acknowledge. You can use a <code>try/catch</code> block within a method where checked exceptions might occur, or you can add the exception to the method’s <code>throws</code> clause in its signature.</p>&#13;
</li>&#13;
<li>&#13;
<p>Where do you place any “clean-up” code that you always want to run after using some resources in a <code>try</code> block?</p>&#13;
&#13;
<p>The <code>finally</code> clause will run at the end of a <code>try</code> block regardless of what happens. If there are no problems, the code in the <code>finally</code> clause runs. If there is an exception and a <code>catch</code> block handles it, <code>finally</code> still runs. If an exception occurs that is not handled, the <code>finally</code> clause still runs before control is transferred back to the calling method.</p>&#13;
</li>&#13;
<li>&#13;
<p>Do assertions have much of a performance penalty when they are disabled?</p>&#13;
&#13;
<p>No. This is by design. Assertions are meant to be used more during development or debugging. When you turn them off, they are skipped. Even in a production application, though, you might leave assertions in your code. If a user reports a problem, assertions could be turned on temporarily to allow your user to collect any output and help you find the cause.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Code Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-6.1">&#13;
<h2>Code Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>To get the <em>Pause.java</em> file to compile, you need to add a <code>try/catch</code> block around the call to <code>Thread.sleep()</code>. For this simple exercise, you only need to encapsulate the <code>Thread.sleep()</code> line.</p>&#13;
</li>&#13;
<li>&#13;
<p>The assertions statements we need will have the following form:</p>&#13;
<div class="openblock">&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="k">assert</code><code class="w"> </code><code class="n">x</code><code class="w"> </code><code class="o">&gt;</code><code class="w"> </code><code class="mi">0</code><code class="w"> </code><code class="p">:</code><code class="w"> </code><code class="s">"X is too small"</code><code class="p">;</code><code class="w"/>&#13;
<code class="w">    </code><code class="k">assert</code><code class="w"> </code><code class="n">y</code><code class="w"> </code><code class="o">&gt;</code><code class="w"> </code><code class="mi">0</code><code class="w"> </code><code class="p">:</code><code class="w"> </code><code class="s">"Y is too small"</code><code class="p">;</code><code class="w"/></pre>&#13;
&#13;
<p>The bigger question is: where should we place them? We only need to check the starting position of our message, so we don’t want the assertions inside the <code>paintComponent()</code> method. A better place would be in the <code>HelloComponent0()</code> constructor, perhaps right after we store the supplied <code>message</code> argument.</p>&#13;
&#13;
<p>To test the assertions, you’ll need to edit the source file to change the <code>x</code> or <code>y</code> values and recompile.</p>&#13;
</div>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Advanced Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-6.2">&#13;
<h2>Advanced Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>Your <code>GCDException</code> class will probably look something like this:</p>&#13;
<div class="openblock">&#13;
<pre data-code-language="java" data-type="programlisting"><code class="kn">package</code><code class="w"> </code><code class="nn">ch06.exercises</code><code class="p">;</code><code class="w"/>&#13;
&#13;
<code class="kd">public</code><code class="w"> </code><code class="kd">class</code> <code class="nc">GCDException</code><code class="w"> </code><code class="kd">extends</code><code class="w"> </code><code class="n">Exception</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">  </code><code class="kd">private</code><code class="w"> </code><code class="kt">int</code><code class="w"> </code><code class="n">badA</code><code class="p">;</code><code class="w"/>&#13;
<code class="w">  </code><code class="kd">private</code><code class="w"> </code><code class="kt">int</code><code class="w"> </code><code class="n">badB</code><code class="p">;</code><code class="w"/>&#13;
&#13;
<code class="w">  </code><code class="n">GCDException</code><code class="p">(</code><code class="kt">int</code><code class="w"> </code><code class="n">a</code><code class="p">,</code><code class="w"> </code><code class="kt">int</code><code class="w"> </code><code class="n">b</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="kd">super</code><code class="p">(</code><code class="s">"No common factors for "</code><code class="w"> </code><code class="o">+</code><code class="w"> </code><code class="n">a</code><code class="w"> </code><code class="o">+</code><code class="w"> </code><code class="s">", "</code><code class="w"> </code><code class="o">+</code><code class="w"> </code><code class="n">b</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">badA</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="n">a</code><code class="p">;</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">badB</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="n">b</code><code class="p">;</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/>&#13;
&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kt">int</code><code class="w"> </code><code class="nf">getA</code><code class="p">()</code><code class="w"> </code><code class="p">{</code><code class="w"> </code><code class="k">return</code><code class="w"> </code><code class="n">badA</code><code class="p">;</code><code class="w"> </code><code class="p">}</code><code class="w"/>&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kt">int</code><code class="w"> </code><code class="nf">getB</code><code class="p">()</code><code class="w"> </code><code class="p">{</code><code class="w"> </code><code class="k">return</code><code class="w"> </code><code class="n">badB</code><code class="p">;</code><code class="w"> </code><code class="p">}</code><code class="w"/>&#13;
<code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>You can test the result of your GCD calculation with a simple <code>if</code> statement. If the result is 1, you can throw your new <code>GCDException</code> with our original <code>a</code> and <code>b</code> as arguments to its constructor, like this:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="k">if</code><code class="w"> </code><code class="p">(</code><code class="n">a</code><code class="w"> </code><code class="o">==</code><code class="w"> </code><code class="mi">1</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">      </code><code class="k">throw</code><code class="w"> </code><code class="k">new</code><code class="w"> </code><code class="n">GCDException</code><code class="p">(</code><code class="n">a1</code><code class="p">,</code><code class="w"> </code><code class="n">b1</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="p">}</code><code class="w"/>&#13;
<code class="w">    </code><code class="c1">// ...</code><code class="w"/></pre>&#13;
</div>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Chapter 7: Collections and Generics" data-type="sect1"><div class="sect1" id="learnjava6-APP-B-SECT-7">&#13;
<h1>Chapter 7: Collections and Generics</h1>&#13;
<ol>&#13;
<li>&#13;
<p>If you want to store a contact list with names and phone numbers, which kind of collection would work best?</p>&#13;
&#13;
<p>A <code>Map</code> would do the trick. The keys could be simple strings containing the contact’s name, and the values could be a simple (though wrapped) long number. Or you could create a <code>Person</code> class and a <code>PhoneNumber</code> class, and the map could use your custom classes.</p>&#13;
</li>&#13;
<li>&#13;
<p>What method do you use to get an iterator for the items in a <code>Set</code>?</p>&#13;
&#13;
<p>The imaginatively named <code>iterator()</code> method from the <code>Collection</code> interface will get your iterator.</p>&#13;
</li>&#13;
<li>&#13;
<p>How can you turn a <code>List</code> into an array?</p>&#13;
&#13;
<p>You can use the <code>toArray()</code> method to turn a <code>List</code> into either an array of type <code>Object</code> or an array of the list’s parameterized type.</p>&#13;
</li>&#13;
<li>&#13;
<p>How can you turn an array into a <code>List</code>?</p>&#13;
&#13;
<p>The <code>Arrays</code> helper class includes the handy <code>asList()</code> method that accepts an array and returns a parameterized list of the same type.</p>&#13;
</li>&#13;
<li>&#13;
<p>What interface should you implement to sort a list using the &#13;
<span class="keep-together"><code>Collections.sort()</code></span> method?</p>&#13;
&#13;
<p>While there are many ways to sort collections, a list of <code>Comparable</code> objects (meaning objects whose class implements the <code>Comparable</code> interface) can use the standard <code>sort()</code> method provided by the <code>Collections</code> helper class.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Code Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-7.1">&#13;
<h2>Code Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>As we mentioned in this chapter, you can’t directly sort a simple map in the same way you can sort a list or array. Even <code>Set</code>s are not typically sortable.<sup><a data-type="noteref" href="app02.html#id2591" id="id2591-marker">2</a></sup> You can sort a list, though, so using the <code>keySet()</code> method to fill a list should give you what you need:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">List</code><code class="o">&lt;</code><code class="n">Integer</code><code class="o">&gt;</code><code class="w"> </code><code class="n">ids</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="k">new</code><code class="w"> </code><code class="n">ArrayList</code><code class="o">&lt;&gt;</code><code class="p">(</code><code class="n">employees</code><code class="p">.</code><code class="na">keySet</code><code class="p">());</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">ids</code><code class="p">.</code><code class="na">sort</code><code class="p">();</code><code class="w"/>&#13;
<code class="w">    </code><code class="k">for</code><code class="w"> </code><code class="p">(</code><code class="n">Integer</code><code class="w"> </code><code class="n">id</code><code class="w"> </code><code class="p">:</code><code class="w"> </code><code class="n">ids</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">      </code><code class="n">System</code><code class="p">.</code><code class="na">out</code><code class="p">.</code><code class="na">println</code><code class="p">(</code><code class="n">id</code><code class="w"> </code><code class="o">+</code><code class="w"> </code><code class="s">": "</code><code class="w"> </code><code class="o">+</code><code class="w"> </code><code class="n">employees</code><code class="p">.</code><code class="na">get</code><code class="p">(</code><code class="n">id</code><code class="p">));</code><code class="w"/>&#13;
<code class="w">    </code><code class="p">}</code><code class="w"/></pre>&#13;
</li>&#13;
<li>&#13;
<p>Hopefully, the expansion to support multiple hedges feels straightforward to you. We mostly just duplicate any code we already have for the trees. And using <code>List</code>s allows us to use the enhanced <code>for</code> loop to quickly run through all of our hedges:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="c1">// File: ch07/exercises/Field.java</code><code class="w"/>&#13;
<code class="w">  </code><code class="n">List</code><code class="o">&lt;</code><code class="n">Hedge</code><code class="o">&gt;</code><code class="w"> </code><code class="n">hedges</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="k">new</code><code class="w"> </code><code class="n">ArrayList</code><code class="o">&lt;&gt;</code><code class="p">();</code><code class="w"/>&#13;
<code class="w">  </code><code class="c1">// ...</code><code class="w"/>&#13;
&#13;
<code class="w">  </code><code class="kd">protected</code><code class="w"> </code><code class="kt">void</code><code class="w"> </code><code class="nf">paintComponent</code><code class="p">(</code><code class="n">Graphics</code><code class="w"> </code><code class="n">g</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="c1">// ...</code><code class="w"/>&#13;
<code class="w">    </code><code class="k">for</code><code class="w"> </code><code class="p">(</code><code class="n">Hedge</code><code class="w"> </code><code class="n">h</code><code class="w"> </code><code class="p">:</code><code class="w"> </code><code class="n">hedges</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">      </code><code class="n">h</code><code class="p">.</code><code class="na">draw</code><code class="p">(</code><code class="n">g</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="p">}</code><code class="w"/>&#13;
<code class="w">    </code><code class="c1">// ...</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/></pre>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Advanced Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-7.2">&#13;
<h2>Advanced Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>You can use the <code>values()</code> output to create and sort a list similar to the solution for Code Exercise 1. The interesting part of this exercise is implementing the <code>Comparable</code> interface with the <code>Employee</code> class. (Actually, in the <em>ch07/solutions</em> folder, the sortable employee class is <code>Employee2</code>. We wanted to leave the original <code>Employee</code> class as a valid solution to the first exercise.) Here’s an example of doing string comparisons, using the employees’ names:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="kd">public</code><code class="w"> </code><code class="kd">class</code> <code class="nc">Employee2</code><code class="w"> </code><code class="kd">implements</code><code class="w"> </code><code class="n">Comparable</code><code class="o">&lt;</code><code class="n">Employee2</code><code class="o">&gt;</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">  </code><code class="c1">// ...</code><code class="w"/>&#13;
<code class="w">  </code><code class="kd">public</code><code class="w"> </code><code class="kt">int</code><code class="w"> </code><code class="nf">compareTo</code><code class="p">(</code><code class="n">Employee2</code><code class="w"> </code><code class="n">other</code><code class="p">)</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="c1">// Let's be a little fancy and sort on a constructed name</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">String</code><code class="w"> </code><code class="n">myName</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="n">last</code><code class="w"> </code><code class="o">+</code><code class="w"> </code><code class="s">", "</code><code class="w"> </code><code class="o">+</code><code class="w"> </code><code class="n">first</code><code class="p">;</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">String</code><code class="w"> </code><code class="n">otherName</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="n">other</code><code class="p">.</code><code class="na">last</code><code class="w"> </code><code class="o">+</code><code class="w"> </code><code class="s">", "</code><code class="w"> </code><code class="o">+</code><code class="w"> </code><code class="n">other</code><code class="p">.</code><code class="na">first</code><code class="p">;</code><code class="w"/>&#13;
<code class="w">    </code><code class="k">return</code><code class="w"> </code><code class="n">myName</code><code class="p">.</code><code class="na">compareToIgnoreCase</code><code class="p">(</code><code class="n">otherName</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">  </code><code class="p">}</code><code class="w"/>&#13;
<code class="w">  </code><code class="c1">// ...</code><code class="w"/>&#13;
<code class="p">}</code><code class="w"/></pre>&#13;
&#13;
<p>Of course, you could perform other comparisons using the other <code>Employee</code> attributes. Try playing around with some other orderings and see if you get the results you expect. And if you want to dig even deeper, take a look at the <code>java.util.TreeMap</code> class as a way to store your employees in a sorted manner without needing the list-conversion detour.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Chapter 8: Text and Core Utilities" data-type="sect1"><div class="sect1" id="learnjava6-APP-B-SECT-8">&#13;
<h1>Chapter 8: Text and Core Utilities</h1>&#13;
<ol>&#13;
<li>&#13;
<p>Which class contains the constant π? Do you need to import that class to use π?</p>&#13;
&#13;
<p>The <code>java.lang.Math</code> class contains the constant <code>PI</code>. All of the classes in the <code>java.lang</code> package are imported by default; no explicit <code>import</code> is required to use them.</p>&#13;
</li>&#13;
<li>&#13;
<p>Which package contains newer, better replacements for the original <code>java.util.Date</code> class?</p>&#13;
&#13;
<p>The <code>java.time</code> package contains a wide variety of quality classes for handling dates, times, timestamps (or “instants” consisting of both a date and a time), and time spans or durations.</p>&#13;
</li>&#13;
<li>&#13;
<p>Which class do you use to format a date for user-friendly output?</p>&#13;
&#13;
<p>The <code>DateFormat</code> class in the <code>java.text</code> package has a marvelously flexible (if occasionally opaque) formatting engine for rendering both dates and times.</p>&#13;
</li>&#13;
<li>&#13;
<p>What symbol do you use in a regular expression to help match the words “yes” and “yup”?</p>&#13;
&#13;
<p>You can use the alternation operator, <code>|</code> (vertical pipe), to create an expression such as <code>yes|yup</code> for use as a pattern.</p>&#13;
</li>&#13;
<li>&#13;
<p>How would you convert the string “42” into the integer 42?</p>&#13;
&#13;
<p>The various numeric wrappers all have string conversion methods. For an integer like 42, the <code>Integer.parseInt()</code> method would work. The wrapper classes are all part of the <code>java.lang</code> package.</p>&#13;
</li>&#13;
<li>&#13;
<p>How would you compare two strings to see if they match, ignoring any capitalization, such as “yes” and “YES”?</p>&#13;
&#13;
<p>The <code>String</code> class has two main comparison methods: <code>equals()</code> and &#13;
<span class="keep-together"><code>equals</code></span><code>IgnoreCase()</code>. The latter would ignore capitalization, as its name &#13;
<span class="keep-together">suggests</span>.</p>&#13;
</li>&#13;
<li>&#13;
<p>Which operator allows for simple string concatenation?</p>&#13;
&#13;
<p>Java does not generally support operator overloading, but the plus sign (<code>+</code>) performs addition when used with numeric base types, and concatenation when used with <code>String</code> objects. If you use <code>+</code> to “add” a string and a number, the result will be a string. (So <code>7 + "is lucky"</code> would result in the string “7is lucky.” Notice that concatenation does not insert any whitespace. If you are assembling a typical sentence, you must add your own spacing between the parts.)</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Code Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-8.1">&#13;
<h2>Code Exercises</h2>&#13;
&#13;
<p>There are many ways to accomplish the goals of this exercise. Testing the number of arguments should be straightforward. Then you can use some of the <code>String</code> class features to figure out whether you have the random keyword or a pair of &#13;
<span class="keep-together">coordinates</span>. You can <code>split()</code> the coordinates, or craft a regular expression to separate the numeric values. When creating random coordinates, you can use <code>Math.random()</code>, similar to how we positioned the trees for our game in <a data-type="xref" href="ch08.html#learnjava6-CHP-8-SECT-4.1.1">“Math in action”</a>.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Chapter 9: Threads" data-type="sect1"><div class="sect1" id="learnjava6-APP-B-SECT-9">&#13;
<h1>Chapter 9: Threads</h1>&#13;
<ol>&#13;
<li>&#13;
<p>What is a thread?</p>&#13;
&#13;
<p>A thread represents a “thread of execution” within a program. Threads have their own state and can run independently from other threads. Typically you use threads to handle long-running tasks that can be put in the background while more important tasks can continue to do their work. Java has both platform threads (tied one-to-one with native threads supplied by the operating system) and virtual threads (pure Java constructs that retain the semantics and benefits of native threads without the operating system overhead).</p>&#13;
</li>&#13;
<li>&#13;
<p>What keyword can you add to a method if you want threads to “take turns” when calling it? (Meaning no two threads should be executing the method at the same time to avoid corrupting shared data.)</p>&#13;
&#13;
<p>You can use the <code>synchronized</code> modifier on any method that reads or writes shared data. If two threads need to use the same method, the first thread sets a lock that blocks the second thread from calling the method. Once the first thread finishes, the lock is cleared and the second thread can proceed.</p>&#13;
</li>&#13;
<li>&#13;
<p>What flags allow you to compile a Java program that includes preview feature code?</p>&#13;
&#13;
<p>When compiling a Java class that relies on a preview feature, you must supply the <code>--enable-preview</code> and either the <code>-source</code> or <code>--release</code> flags to <em>javac</em>.</p>&#13;
</li>&#13;
<li>&#13;
<p>What flags allow you to run a Java program that includes preview feature code?</p>&#13;
&#13;
<p>When running a compile class that includes a preview feature, you only need to supply the <code>--enable-preview</code> flag.</p>&#13;
</li>&#13;
<li>&#13;
<p>How many platform threads can one native thread support?</p>&#13;
&#13;
<p>Just one. Creating a platform thread using the <code>Thread</code> class with a <code>Runnable</code> target or using something like the <code>ExecutorService</code> in the <code>java.util.concurrent</code> package requires the operating system to supply a thread as well.</p>&#13;
</li>&#13;
<li>&#13;
<p>How many virtual threads can one native thread support?</p>&#13;
&#13;
<p>A single native thread will support many virtual threads. Project Loom set out to separate the threads used in Java programs from the threads managed by the operating system. For certain scenarios, lightweight virtual threads perform much better when Java is responsible for their scheduling. There is no fixed ratio of virtual to native, but the key insight with virtual threads is that the number of virtual threads is not tied to the number of native threads.</p>&#13;
</li>&#13;
<li>&#13;
<p>Is the statement <code>x = x + 1;</code> an atomic action for the <code>int</code> variable <code>x</code>?</p>&#13;
&#13;
<p>No. While it seems like such a small operation, there are several low-level steps involved. Any one of those low-level steps can be interrupted, and the value of <code>x</code> can be adversely affected. You could use an <code>AtomicInteger</code> or wrap the statement in a synchronized block if you need to guarantee a thread-safe increment.</p>&#13;
</li>&#13;
<li>&#13;
<p>What package includes thread-safe versions of popular collection classes like <code>Queue</code> and <code>Map</code>?</p>&#13;
&#13;
<p>The <code>java.util.concurrent</code> package contains several collection classes that Java defines as “concurrent,” such as <code>ConcurrentLinkedQueue</code> and <code>ConcurrentHashMap</code>. Concurrency implies a few other behaviors beyond pure thread-safe reads and writes, but thread safety is guaranteed.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Code Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-9.1">&#13;
<h2>Code Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>You’ll do most of your work inside the <code>startClock()</code> method. (You will still have to import anything beyond the AWT and Swing packages that you use, of course.) You can create a separate class, an inner class or an anonymous inner class to handle the clock update loop. Recall that you can request a GUI element refresh by calling its <code>repaint()</code> method. Java supports a few mechanisms for “infinite” loops. You can use something like <code>while (true) { …​ }</code> or the cleverly named “forever” loop: <code>for (;;) { …​ }</code>. Don’t forget to start your thread once everything is in place!</p>&#13;
</li>&#13;
<li>&#13;
<p>Hopefully, this exercise is fairly simple for you. As a testament to the overall compatibility of virtual threads with the existing codebase in Java, you should have to change only a few lines where the demo apple toss animation starts. In this iteration of the game, all of the setup and kickoff code happens in the <code>Field</code> class. Look for code like <code>new Thread()</code> or <code>new Runnable()</code>. You should be able to reuse the actual animation logic with no alterations.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Chapter 10: File Input and Output" data-type="sect1"><div class="sect1" id="learnjava6-APP-B-SECT-10">&#13;
<h1>Chapter 10: File Input and Output</h1>&#13;
<ol>&#13;
<li>&#13;
<p>How could you check to see if a given file already exists?</p>&#13;
&#13;
<p>There are a number of ways to see if a file exists, but two of the simplest rely on helper methods from either the <code>java.io</code> or <code>java.nio</code> package. An instance of <code>java.io.File</code> can use the <code>exists()</code> method. The static <code>java.nio.file.Files.exists()</code> method can test a <code>Path</code> object to see if a represented file exists.</p>&#13;
</li>&#13;
<li>&#13;
<p>If you have to work with a legacy text file using an old encoding scheme, such as ISO 8859, how might you set up a reader to properly convert that content to UTF-8?</p>&#13;
&#13;
<p>You can supply an appropriate character set (<code>java.nio.charset.Charset</code>) to the constructor of <code>FileReader</code> to safely convert the file to Java strings.</p>&#13;
</li>&#13;
<li>&#13;
<p>Which package has the best classes for nonblocking file I/O?</p>&#13;
&#13;
<p>One of the primary features of the <code>java.nio</code> package and its subpackages is support for nonblocking I/O.</p>&#13;
</li>&#13;
<li>&#13;
<p>Which type of input stream might you use to parse a binary file, such as a JPEG-compressed image?</p>&#13;
&#13;
<p>From <code>java.io</code>, you could use the <code>DataInputStream</code> class. For NIO, channels and buffers (like <code>ByteBuffer</code>) naturally support binary data.</p>&#13;
</li>&#13;
<li>&#13;
<p>What are the three standard text streams built into the <code>System</code> class?</p>&#13;
&#13;
<p>The <code>System</code> class gives you access to two output streams, <code>System.out</code> and <code>System.err</code>, and one input stream, <code>System.in</code>. These streams are attached to the OS handles for <code>stdout</code>, <code>stderr</code>, and <code>stdin</code>, respectively.</p>&#13;
</li>&#13;
<li>&#13;
<p>Absolute paths begin at a root (<em>/</em> or <em>C:\</em>, for example). Where do relative paths begin? More specifically, where are relative paths relative to?</p>&#13;
&#13;
<p>Relative paths are relative to the “working directory,” which is typically where you started the program if you are using the command line to launch your application. In most IDEs, the working directory is something that can be configured.</p>&#13;
</li>&#13;
<li>&#13;
<p>How do you retrieve a NIO channel from an existing <code>FileInputStream</code>?</p>&#13;
&#13;
<p>If you already have an instance of <code>FileInputStream</code>, you can use its &#13;
<span class="keep-together"><code>getChannel()</code></span> method to return a <code>FileChannel</code> associated with the input stream.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Code Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-10.1">&#13;
<h2>Code Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>The first iteration of our <code>Count</code> needs only one of the utilities discussed in the chapter. You’ll can use the <code>File</code> class with the path given as a command-line argument. From there, the <code>exists()</code> method will let you know if you can proceed or if you should print a friendly error message, and the <code>length()</code> method will give you the file’s size, in bytes. (The solution for this example is <code>Count1.java</code> in the <em>ch10/solutions</em> folder.)</p>&#13;
</li>&#13;
<li>&#13;
<p>For the second iteration that shows the line and word count in the given file, you’ll need to read and parse the contents of the file. One of the <code>Reader</code> classes would be great, but there are a variety of ways to read text files. However you open the file, you can count each line and then break that line up into words with something like <code>String.split()</code> or a regular expression. (The solution to this exercise is <code>Count2.java</code>.)</p>&#13;
</li>&#13;
<li>&#13;
<p>There isn’t any new functionality in this third version, but we hope you’ll take this chance to try out some of the NIO classes and methods. Take a look at the methods of the <code>java.nio.file.Files</code> class. You’ll be surprised how much this helper class helps! (The solution to this exercise is <code>Count3.java</code>.)</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Advanced Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-10.2">&#13;
<h2>Advanced Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>For this final upgrade, you get to write to a file or channel. Depending on how you chose to read the contents in version 2 or 3, this may represent a fairly significant addition to our class. You’ll need to check to make sure the second argument (if it was given!) is writable. Then use one of the classes that allows appending, such as <code>RandomAccessFile</code>, or include the <code>APPEND</code> option for a <code>FileChannel</code>. (The solution to this exercise is <code>Count4.java</code>. We used the previous <code>Count3</code> with NIO, but you are welcome to start from <code>Count2</code> and use the standard I/O classes.)</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Chapter 11: Functional Approaches in Java" data-type="sect1"><div class="sect1" id="learnjava6-APP-B-SECT-11">&#13;
<h1>Chapter 11: Functional Approaches in Java</h1>&#13;
<ol>&#13;
<li>&#13;
<p>Which package contains the majority of functional interfaces?</p>&#13;
&#13;
<p>While functional interfaces are scattered throughout the JDK, you will find the bulk of the “official” interfaces defined in the <code>java.util.function</code> package. We used qualifying quotes on “official” because any interface with a single abstract method (SAM) can be treated as a functional interface.</p>&#13;
</li>&#13;
<li>&#13;
<p>Do you need to use any special flags when compiling or running Java applications that use functional features like lambdas?</p>&#13;
&#13;
<p>No. The many FP features currently available in Java are full members of the JDK. There are no preview or feature flags required to compile or execute Java code that uses them.</p>&#13;
</li>&#13;
<li>&#13;
<p>How do you create lambda expressions with multiple statements in the body?</p>&#13;
&#13;
<p>The body of a lambda expression follows the same rules as the body of something like a <code>while</code> loop: single statements do not require enclosing curly braces, but multiple statements do. You can use a curly brace block on the right side of the lambda if you have multiple statements. If your lambda returns a value, you can use the standard <code>return</code> statement as well.</p>&#13;
</li>&#13;
<li>&#13;
<p>Can lambda expressions be void? Can they return values?</p>&#13;
&#13;
<p>Yes on both counts. Lambda expressions run the same gamut of options as methods. You can have lambdas that take no arguments and return no values. You can have lambdas that consume arguments but produce no results. You can have lambda generators that don’t have arguments but do return values. Finally, you can have lambdas that accept one or more arguments and return a value.</p>&#13;
</li>&#13;
<li>&#13;
<p>Can you reuse a stream after you have processed it?</p>&#13;
&#13;
<p>No. Once you start processing a stream, that’s it. Attempting to reuse a stream will result in an exception. You can often reuse the original source to create an entirely new but identical stream, if needed.</p>&#13;
</li>&#13;
<li>&#13;
<p>How might you take a stream of objects and convert it to a stream of integers?</p>&#13;
&#13;
<p>You could use one of the <code>mapToInt()</code> variations from the <code>Stream</code> class: <code>mapToInt()</code>, <code>flatMapToInt()</code>, or <code>mapMultiToInt()</code>. The <code>IntStream</code> class, in turn, has a <code>mapToObj()</code> method to convert in the opposite direction.</p>&#13;
</li>&#13;
<li>&#13;
<p>If you have a stream that filters out empty lines from a file, what operation might you use to tell you how many lines had some content?</p>&#13;
&#13;
<p>The easiest way to count the remaining lines would be to use the <code>count()</code> terminal operation. You could also create your own reducer, or use a collector and then query the length of the resulting list.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Code Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-11.1">&#13;
<h2>Code Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>Hopefully the use of a more interesting formula for our adjustment feels straightforward. We don’t need any alternative syntax or extra methods; we just put the Celsius conversion, C = (F – 32) * 5 / 9, into the body of our lambda, like so:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">System</code><code class="p">.</code><code class="na">out</code><code class="p">.</code><code class="na">print</code><code class="p">(</code><code class="s">"Converting to Celsius: "</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">    </code><code class="n">System</code><code class="p">.</code><code class="na">out</code><code class="p">.</code><code class="na">println</code><code class="p">(</code><code class="n">adjust</code><code class="p">(</code><code class="n">sample</code><code class="p">,</code><code class="w"> </code><code class="n">s</code><code class="w"> </code><code class="o">-&gt;</code><code class="w"> </code><code class="p">(</code><code class="n">s</code><code class="w"> </code><code class="o">-</code><code class="w"> </code><code class="mi">32</code><code class="p">)</code><code class="w"> </code><code class="o">*</code><code class="w"> </code><code class="mi">5</code><code class="w"> </code><code class="o">/</code><code class="w"> </code><code class="mi">9</code><code class="p">));</code><code class="w"/></pre>&#13;
&#13;
<p>Not very dramatic, but we want to point out that lambdas can open up some really clever possibilities that extend beyond your initial plans.</p>&#13;
</li>&#13;
<li>&#13;
<p>You have a number of choices available to accomplish this averaging task. You could write an averaging reducer. You could collect the salaries into a simpler container and then write your own averaging code. But if you look over the documentation on the different streams, you’ll notice that the numeric streams already have the perfect operation: <code>average()</code>. It returns an <code>OptionalDouble</code> object. You’ll still need to start the stream and then use something like <code>mapToInt()</code> to get your stream of numeric values.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Advanced Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-11.2">&#13;
<h2>Advanced Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>The <code>groupingBy()</code> collector needs a function that extracts a key from each element of the stream and returns a map of the keys paired with a list of all the elements that have matching keys. For our <code>PaidEmployee</code> example, you will probably have something like this:</p>&#13;
&#13;
<pre data-code-language="java" data-type="programlisting"><code class="w">    </code><code class="n">Map</code><code class="o">&lt;</code><code class="n">String</code><code class="p">,</code><code class="w"> </code><code class="n">List</code><code class="o">&lt;</code><code class="n">PaidEmployee</code><code class="o">&gt;&gt;</code><code class="w"> </code><code class="n">byRoles</code><code class="w"> </code><code class="o">=</code><code class="w"/>&#13;
<code class="w">      </code><code class="n">employees</code><code class="p">.</code><code class="na">stream</code><code class="p">().</code><code class="na">collect</code><code class="p">(</code><code class="w"/>&#13;
<code class="w">      </code><code class="n">Collectors</code><code class="p">.</code><code class="na">groupingBy</code><code class="p">(</code><code class="n">PaidEmployee</code><code class="p">::</code><code class="n">getRole</code><code class="p">));</code><code class="w"/></pre>&#13;
&#13;
<p>The type of the key in our map must match the type of object we extract in our <code>groupingBy()</code> operation. We used a method reference here, but any lambda that returns the role of the employee would also work.</p>&#13;
&#13;
<p>We didn’t want to complicate the previous solution, so we made copies of the report and employee classes named <code>Report2</code> and <code>PaidEmployee2</code>, respectively.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Chapter 12: Desktop Applications" data-type="sect1"><div class="sect1" id="learnjava6-APP-B-SECT-12">&#13;
<h1>Chapter 12: Desktop Applications</h1>&#13;
<ol>&#13;
<li>&#13;
<p>Which component would you use to display some text to the user?</p>&#13;
&#13;
<p>While you could use a variety of text-based components, <code>JLabel</code> is the simplest way to show the user some (read-only) textual information.</p>&#13;
</li>&#13;
<li>&#13;
<p>Which component(s) would you use to allow the user to enter text?</p>&#13;
&#13;
<p>Depending on how much information you expect from the user, you could use either <code>JTextField</code> or <code>JTextArea</code>. (Other text components exist, but they serve more specialized purposes.)</p>&#13;
</li>&#13;
<li>&#13;
<p>What event does clicking a button generate?</p>&#13;
&#13;
<p>Clicking a button or any button-like component such as <code>JMenuItem</code> generates an <code>ActionEvent</code>.</p>&#13;
</li>&#13;
<li>&#13;
<p>Which listener should you attach to <code>JList</code> if you want to know when the user changes the selected item?</p>&#13;
&#13;
<p>You can implement the <code>ListSelectionListener</code> from the <code>javax.swing.event</code> package to receive list selection (and deselection) events from a <code>JList</code> object.</p>&#13;
</li>&#13;
<li>&#13;
<p>What is the default layout manager for <code>JPanel</code>?</p>&#13;
&#13;
<p>By default, <code>JPanel</code> uses the <code>FlowLayout</code> manager. One notable exception to this default is the content pane of <code>JFrame</code>. That pane is a <code>JPanel</code>, but the frame automatically changes the pane’s manager to <code>BorderLayout</code>.</p>&#13;
</li>&#13;
<li>&#13;
<p>Which thread is responsible for processing events in Java?</p>&#13;
&#13;
<p>The event dispatch thread, sometimes called the event dispatch queue, manages delivery of events and updates to components on screen.</p>&#13;
</li>&#13;
<li>&#13;
<p>What method would you use to update a component like <code>JLabel</code> after a background task completes?</p>&#13;
&#13;
<p>You could use <code>SwingUtilities.invokeAndWait()</code> if you want to wait for the label to be updated before processing any other events. You could use <code>Swing</code>&#13;
<span class="keep-together"><code>Utilities.invokeLater()</code></span> if it doesn’t matter exactly when the label gets &#13;
<span class="keep-together">updated</span>.</p>&#13;
</li>&#13;
<li>&#13;
<p>What container holds <code>JMenuItem</code> objects?</p>&#13;
&#13;
<p>A <code>JMenu</code> object can hold <code>JMenuItem</code> objects as well as nested <code>JMenu</code> objects. The menus themselves are contained in a <code>JMenuBar</code>.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Code Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-12.1">&#13;
<h2>Code Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>You can tackle the calculator layout one of two ways: you can use nested panels or you can use the <code>GridBagLayout</code>. (Our solution in <em>ch12/solutions/Calculator.java</em> uses a nested panel for the buttons.) Start simple. Add the text field to the top of the frame. Then add one button to the center. Now decide how you want to handle adding the remaining buttons. If your buttons use the <code>Calculator</code> instance (using the keyword <code>this</code> we discussed in <a data-type="xref" href="ch05.html#learnjava6-CHP-5-SECT-2.2">“Shadowing”</a>) as their listener, you should see the label of any button you click printed to the terminal.</p>&#13;
</li>&#13;
<li>&#13;
<p>This exercise doesn’t require much new graphical code. But you do need to work within the UI event thread to safely alter the obstacles shown on the field. You can start slowly by simply printing a message or using a <code>JOptionPane</code> to show an alert any time an apple touches a tree or a hedge. Once you’re confident in your distance measuring, review how to remove an object from a list. After removing an obstacle, be sure to repaint the field.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Advanced Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-12.2">&#13;
<h2>Advanced Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>The logic for a calculator is relatively straightforward, but it certainly is not trivial. Start by getting the various digit buttons (1, 2, 3, and so on) hooked up to the display. You’ll need to append digits to create full numbers. Clicking the 1 button followed by the 2 button should display a 12. When the user clicks on an operation button such as “–”, store whatever number is currently displayed as well as the operation to use later. Let the user type in a second number. Clicking the “=” should store this second number and then perform the actual calculation. Put the result in the display and then let the user start over.</p>&#13;
&#13;
<p>There are many (many!) subtleties in a full, professional calculator app. Don’t worry if your early attempts impose restrictions like working only with single-digit numbers. The point of this exercise is to practice responding to events. Even just getting a digit to show in the display field after the user clicks a button is worth celebrating!</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Chapter 13: Network Programming in Java" data-type="sect1"><div class="sect1" id="learnjava6-APP-B-SECT-13">&#13;
<h1>Chapter 13: Network Programming in Java</h1>&#13;
<ol>&#13;
<li>&#13;
<p>Which networking protocols does the <code>URL</code> class support by default?</p>&#13;
&#13;
<p>Java’s <code>URL</code> class includes support for the HTTP, HTTPS, and FTP protocols. These three protocols cover a great deal of the resources available online, but you can create your own protocol handler if you deal with systems other than web or file servers.</p>&#13;
</li>&#13;
<li>&#13;
<p>Can you use Java to download binary data from an online source?</p>&#13;
&#13;
<p>Yes. Byte streams lie at the heart of all network data in Java. You can read the raw bytes, or you can chain some other higher-level stream. For example, <code>InputStreamReader</code> and <code>BufferedReader</code> work great for text. <code>DataInputStream</code> can handle binary data.</p>&#13;
</li>&#13;
<li>&#13;
<p>How do you send form data to a web server using Java? (No need for a fully functional application, we just want you to think about the high-level steps you take and the Java classes involved.)</p>&#13;
&#13;
<p>You can use the <code>URL</code> class to open a connection to a web server. Before making any requests, you can configure the connection for bidirectional communication. The HTTP <code>POST</code> command allows you to send data to the server in the body of your request.</p>&#13;
</li>&#13;
<li>&#13;
<p>What class do you use to listen for incoming network connections?</p>&#13;
&#13;
<p>You use the <code>java.net.ServerSocket</code> class to create a network listener.</p>&#13;
</li>&#13;
<li>&#13;
<p>When creating your own server like we did for our game, are there any rules for picking a port number?</p>&#13;
&#13;
<p>Yes. Port numbers must be between 0 and 65,535 with ports below 1,024 typically reserved for well-known services that often require special permissions to use.</p>&#13;
</li>&#13;
<li>&#13;
<p>Can a server application written in Java support multiple, simultaneous clients?</p>&#13;
&#13;
<p>Yes. While you can create only one <code>ServerSocket</code> on a given port, you can accept hundreds or even thousands of clients and process their requests in a thread.</p>&#13;
</li>&#13;
<li>&#13;
<p>How many simultaneous servers can a given client <code>Socket</code> instance talk to?</p>&#13;
&#13;
<p>One. A client socket communicates with one host on one port. A client application may allow multiple, distinct sockets for communicating with multiple servers at the same time, but each socket will still talk to a single server.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Code Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-13.1">&#13;
<h2>Code Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>Adding a feature to the protocol of our game requires updating both the server and client code. Fortunately we can reuse much of the <code>TREE</code> entry’s logic on both sides. Even more fortunately, all of our network communication code is in the <code>Multiplayer</code> class.</p>&#13;
&#13;
<p>The client and the server are inner classes, creatively named <code>Client</code> and <code>Server</code>, respectively. For the server, add a loop in the <code>run()</code> method to send hedge data right after you have sent the tree data. For the client, add a <code>HEDGE</code> segment to the <code>run()</code> method that accepts the location of the hedge and adds it to the field.</p>&#13;
&#13;
<p>Once the fields are set up for the two players, the in-game portion of the protocol only reports scores and disconnects. We don’t have to modify any of this code. Each player will have the same hedge obstacles and the same opportunity to remove them with a tossed apple.</p>&#13;
</li>&#13;
<li>&#13;
<p>A human-readable date/time server should be fairly straightforward, but we want you to practice setting up your own sockets from scratch. You’ll need to decide on a port number for the server. 3283 spells “DATE” on a phone keypad if you need a little inspiration. We recommend processing the client request immediately after accepting the connection. (The advanced exercises give you a chance to try the more sophisticated approach of using threads.)</p>&#13;
&#13;
<p>For the client, the only real piece of configurable data is the name of the server. You’re free to hardcode <code>“localhost”</code> if you plan to test your solution using two terminal windows on your local machine. Our solution takes an optional command-line argument, defaulting to <code>“localhost”</code> as well if you don’t provide an argument.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Advanced Exercises" data-type="sect2"><div class="sect2" id="learnjava6-APP-B-SECT-13.2">&#13;
<h2>Advanced Exercises</h2>&#13;
<ol>&#13;
<li>&#13;
<p>To handle clients using threads, you need to isolate the code responsible for communicating with the client. A helper class (inner, anonymous, or separate are all fine options) or a lambda will work. You still need to let the <code>ServerSocket</code> do its work and <code>accept()</code> a new connection, but you can hand off the accepted <code>Socket</code> object to your helper as soon as you get it.</p>&#13;
&#13;
<p>It’ll be hard to really test this class, as you would need many clients all requesting the current date at the same moment. At a minimum, though, your current <code>FDClient</code> class should work with no changes, and you should still receive the correct date.</p>&#13;
</li>&#13;
<li>&#13;
<p>Working with online APIs can be fun, but it also requires paying attention to details. You typically need to answer a few questions as you begin to create your client:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>What is the base URL for the API?</p>&#13;
</li>&#13;
<li>&#13;
<p>Does the API use standard web form encoding or JSON? If not, is there a library with support for encoding and decoding?</p>&#13;
</li>&#13;
<li>&#13;
<p>Are there limits on how many requests you can make or how much data you can download?</p>&#13;
</li>&#13;
<li>&#13;
<p>Does the site have good documentation with common examples of sending and retrieving data?</p>&#13;
</li>&#13;
</ul>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
<p>As you practice, you’ll develop your own sense of what information you need to start using new APIs. But you do need to practice. After you build your first client, look up another service. Write a client for that API and see if you can already spot common problems, or better, reusable code from your first client.</p>&#13;
</div></section>&#13;
</div></section>&#13;
<div data-type="footnotes"><p data-type="footnote" id="id2590"><sup><a href="app02.html#id2590-marker">1</a></sup> You can look at any JAR or ZIP file with <code>jar tvf &lt;jarfile&gt;</code>.</p><p data-type="footnote" id="id2591"><sup><a href="app02.html#id2591-marker">2</a></sup> You could, however, use a <code>SortedSet</code> or a <code>TreeMap</code>, which both keep their entries sorted. For <code>TreeMap</code>, the keys are kept in order.</p></div></div></section></body></html>