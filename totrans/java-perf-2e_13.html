<html><head></head><body><section data-pdf-bookmark="Appendix. Summary of Tuning Flags" data-type="appendix" epub:type="appendix"><div class="appendix" id="FlagAppendix">&#13;
<h1><span class="label">Appendix. </span>Summary of Tuning Flags</h1>&#13;
&#13;
&#13;
<p><a data-primary="flags" data-secondary="summary of" data-type="indexterm" id="ix_appa-asciidoc0"/>This appendix covers commonly used flags and gives pointers on when to use&#13;
them. <em>Commonly used</em> here includes flags that were commonly used in previous&#13;
versions of Java and are no longer recommended; documentation and tips on older&#13;
versions of Java may recommend those flags, so they are mentioned here.</p>&#13;
<table id="TableJITFlags">&#13;
<caption><span class="label">Table A-1. </span>Flags to tune the just-in-time compiler</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Flag</th>&#13;
<th>What it does</th>&#13;
<th>When to use it</th>&#13;
<th>See also</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>-server</code></p></td>&#13;
<td><p><a data-primary="-server" data-type="indexterm" id="idm45775540373528"/><a data-primary="just-in-time (JIT) compiler" data-secondary="tuning flags" data-type="indexterm" id="idm45775540372824"/>This flag no longer has any effect; it is silently ignored.</p></td>&#13;
<td><p>N/A</p></td>&#13;
<td><p><a data-type="xref" href="ch04.html#TieredCompilation">“Tiered Compilation”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-client</code></p></td>&#13;
<td><p><a data-primary="-client" data-type="indexterm" id="idm45775540303336"/>This flag no longer has any effect; it is silently ignored.</p></td>&#13;
<td><p>N/A</p></td>&#13;
<td><p><a data-type="xref" href="ch04.html#TieredCompilation">“Tiered Compilation”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:+TieredCompilation</code></span></p></td>&#13;
<td><p><a data-primary="-XX:+TieredCompilation" data-type="indexterm" id="idm45775540298904"/>Uses tiered compilation.</p></td>&#13;
<td><p>Always, unless you are severely constrained for memory.</p></td>&#13;
<td><p><a data-type="xref" href="ch04.html#TieredCompilation">“Tiered Compilation”</a> and <a data-type="xref" href="ch04.html#NoTieredCompilation">“Tiered Compilation Trade-offs”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:ReservedCodeCacheSize=</code><em><code>&lt;MB&gt;</code></em></span></p></td>&#13;
<td><p><a data-primary="-XX:ReservedCodeCacheSize=&lt;MB&gt;" data-type="indexterm" id="idm45775540293208"/>Reserves space for code compiled by the JIT compiler.</p></td>&#13;
<td><p>When running a large program and you see a warning that you are out of code cache.</p></td>&#13;
<td><p><a data-type="xref" href="ch04.html#JITCodeCache">“Tuning the Code Cache”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:InitialCodeCacheSize=</code><em><code>&lt;MB&gt;</code></em></span></p></td>&#13;
<td><p><a data-primary="-XX:InitialCodeCacheSize=&lt;MB&gt;" data-type="indexterm" id="idm45775540288264"/>Allocates the initial space for code compiled by the JIT compiler.</p></td>&#13;
<td><p>If you need to preallocate the memory for the code cache (which is uncommon).</p></td>&#13;
<td><p><a data-type="xref" href="ch04.html#JITCodeCache">“Tuning the Code Cache”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:CompileThreshold=</code><em><code>&lt;N&gt;</code></em></span></p></td>&#13;
<td><p><a data-primary="-XX:CompileThreshold=&lt;N&gt;" data-type="indexterm" id="idm45775540283288"/>Sets the number of times a method or loop is executed before compiling it.</p></td>&#13;
<td><p>This flag is no longer recommended.</p></td>&#13;
<td><p><a data-type="xref" href="ch04.html#CompileThreshold">“Compilation Thresholds”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+PrintCompilation</code></p></td>&#13;
<td><p><a data-primary="-XX:+PrintCompilation" data-type="indexterm" id="idm45775540279304"/>Provides a log of operations by the JIT compiler.</p></td>&#13;
<td><p>When you suspect an important method isn’t being compiled or are generally curious as to what the compiler is doing.</p></td>&#13;
<td><p><a data-type="xref" href="ch04.html#PrintCompilation">“Inspecting the Compilation Process”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:CICompilerCount=</code><em><code>&lt;N&gt;</code></em></span></p></td>&#13;
<td><p><a data-primary="-XX:CICompilerCount=&lt;N&gt;" data-type="indexterm" id="idm45775540274232"/>Sets the number of threads used by the JIT compiler.</p></td>&#13;
<td><p>When too many compiler threads are being started. This primarily affects large machines running many JVMs.</p></td>&#13;
<td><p><a data-type="xref" href="ch04.html#CompilationThreads">“Compilation Threads”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:+DoEscapeAnalysis</code></span></p></td>&#13;
<td><p><a data-primary="-XX:+DoEscapeAnalysis" data-type="indexterm" id="idm45775540269672"/>Enables aggressive optimizations by the compiler.</p></td>&#13;
<td><p>On rare occasions, this can trigger crashes, so it is sometimes recommended to be disabled. Don’t disable it unless you know it is causing an issue.</p></td>&#13;
<td><p><a data-type="xref" href="ch04.html#EscapeAnalysis">“Escape Analysis”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:UseAVX=</code><em><code>&lt;N&gt;</code></em></span></p></td>&#13;
<td><p><a data-primary="-XX:UseAVX=&lt;N&gt;" data-type="indexterm" id="idm45775540264600"/>Sets the instruction set for use on Intel processors.</p></td>&#13;
<td><p>You should set this to 2 in early versions of Java 11; in later versions, it defaults to 2.</p></td>&#13;
<td><p><a data-type="xref" href="ch04.html#UseAVX">“CPU-Specific Code”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:AOTLibrary=</code><em><code>&lt;path&gt;</code></em></span></p></td>&#13;
<td><p><a data-primary="-XX:AOTLibrary=&lt;path&gt;" data-type="indexterm" id="idm45775540259608"/>Uses the specified library for ahead-of-time compilation.</p></td>&#13;
<td><p>In limited cases, may speed up initial program execution. Experimental in Java 11 only.</p></td>&#13;
<td><p><a data-type="xref" href="ch04.html#AOTC">“Ahead-of-Time Compilation”</a></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<table id="TableGCAlgorithmFlags">&#13;
<caption><span class="label">Table A-2. </span>Flags to choose the GC algorithm</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Flag</th>&#13;
<th>What it does</th>&#13;
<th>When to use it</th>&#13;
<th>See also</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:+UseSerialGC</code></span></p></td>&#13;
<td><p><a data-primary="-XX:+UseSerialGC" data-type="indexterm" id="idm45775540250872"/><a data-primary="garbage collection algorithms" data-secondary="flags to choose" data-type="indexterm" id="idm45775540250168"/>Uses a simple, single-threaded GC algorithm.</p></td>&#13;
<td><p>For single-core virtual machines and containers, or for small (100 MB) heaps.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#SerialGC">“The serial garbage collector”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+UseParallelGC</code></p></td>&#13;
<td><p><a data-primary="-XX:+UseParallelGC" data-type="indexterm" id="idm45775540245848"/>Uses multiple threads to collect both the young and old generations while application threads are stopped.</p></td>&#13;
<td><p>Use to tune for throughput rather than responsiveness; default in Java 8.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#ThroughputGC">“The throughput collector”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+UseG1GC</code></p></td>&#13;
<td><p><a data-primary="-XX:+UseG1GC" data-type="indexterm" id="idm45775540241624"/>Uses multiple threads to collect the young generation while application threads are stopped, and background thread(s) to remove garbage from the old generation with minimal pauses.</p></td>&#13;
<td><p>When you have available CPU for the background thread(s) and you do not want long GC pauses. Default in Java 11.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#G1GC">“The G1 GC collector”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:+UseConcMarkSweepGC</code></span></p></td>&#13;
<td><p><a data-primary="-XX:+UseConcMarkSweepGC" data-type="indexterm" id="idm45775540236808"/>Uses background thread(s) to remove garbage from the old generation with minimal pauses.</p></td>&#13;
<td><p>No longer recommended; use G1 GC instead.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#CMSGC">“The CMS collector”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+UseParNewGC</code></p></td>&#13;
<td><p><a data-primary="-XX:+UseParNewGC" data-type="indexterm" id="idm45775540232632"/>With CMS, uses multiple threads to collect the young generation while application threads are stopped.</p></td>&#13;
<td><p>No longer recommended; use G1 GC instead.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#CMSGC">“The CMS collector”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+UseZGC</code></p></td>&#13;
<td><p><a data-primary="-XX:+UseZGC" data-type="indexterm" id="idm45775540228456"/>Uses the experimental Z Garbage Collector (Java 12 only).</p></td>&#13;
<td><p>To have shorter pauses for young GC, which is collected concurrently.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#ZGC">“Concurrent Compaction: ZGC and Shenandoah”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+UseShenandoahGC</code></p></td>&#13;
<td><p><a data-primary="-XX:+UseShenandoahGC" data-type="indexterm" id="idm45775540224376"/>Uses the experimental Shenandoah Garbage Collector (Java 12 OpenJDK only).</p></td>&#13;
<td><p>To have shorter pauses for young GC, which is collected concurrently.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#ZGC">“Concurrent Compaction: ZGC and Shenandoah”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+UseEpsilonGC</code></p></td>&#13;
<td><p><a data-primary="-XX:+UseEpsilonGC" data-type="indexterm" id="idm45775540220296"/>Uses the experimental Epsilon Garbage Collector (Java 12 only).</p></td>&#13;
<td><p>If your app never needs to perform GC.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#EpsilonGC">“No Collection: Epsilon GC”</a></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<table id="TableGCCommonFlags">&#13;
<caption><span class="label">Table A-3. </span>Flags common to all GC algorithms</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Flag</th>&#13;
<th>What it does</th>&#13;
<th>When to use it</th>&#13;
<th>See also</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>-Xms</code></p></td>&#13;
<td><p><a data-primary="garbage collection algorithms" data-secondary="flags common to all" data-type="indexterm" id="ix_appa-asciidoc1"/>Sets <a data-primary="-Xms" data-type="indexterm" id="idm45775540210296"/>the initial size of the heap.</p></td>&#13;
<td><p>When the default initial size is too small for your application.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCHeapSize">“Sizing the Heap”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-Xmx</code></p></td>&#13;
<td><p><a data-primary="-Xmx" data-type="indexterm" id="idm45775540206216"/>Sets the maximum size of the heap.</p></td>&#13;
<td><p>When the default maximum size is too small (or possibly too large) for your application.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCHeapSize">“Sizing the Heap”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:NewRatio</code></p></td>&#13;
<td><p><a data-primary="-XX:NewRatio" data-type="indexterm" id="idm45775540202056"/>Sets the ratio of the young generation to the old generation.</p></td>&#13;
<td><p>Increase this to reduce the proportion of the heap given to the young generation; lower it to increase the proportion of the heap given to the young generation. This is only an initial setting; the proportion will change unless adaptive sizing is turned off. As the young-generation size is reduced, you will see more frequent young GCs and less frequent full GCs (and vice versa).</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCGenSizing">“Sizing the Generations”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:NewSize</code></p></td>&#13;
<td><p><a data-primary="-XX:NewSize" data-type="indexterm" id="idm45775540197576"/>Sets the initial size of the young generation.</p></td>&#13;
<td><p>When you have finely tuned your application requirements.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCGenSizing">“Sizing the Generations”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:MaxNewSize</code></p></td>&#13;
<td><p><a data-primary="-XX:MaxNewSize" data-type="indexterm" id="idm45775540193432"/>Sets the maximum size of the young generation.</p></td>&#13;
<td><p>When you have finely tuned your application requirements.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCGenSizing">“Sizing the Generations”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-Xmn</code></p></td>&#13;
<td><p><a data-primary="-Xmn" data-type="indexterm" id="idm45775540189288"/>Sets the initial and maximum size of the young generation.</p></td>&#13;
<td><p>When you have finely tuned your application requirements.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCGenSizing">“Sizing the Generations”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:MetaspaceSize=<em><code>N</code></em></code></span></p></td>&#13;
<td><p><a data-primary="-XX:MetaspaceSize=N" data-type="indexterm" id="idm45775540183960"/>Sets the initial size of the metaspace.</p></td>&#13;
<td><p>For applications that use a lot of classes, increase this from the default.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCMetaSpace">“Sizing Metaspace”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:MaxMetaspaceSize=<em><code>N</code></em></code> <span class="keep-together"/></p></td>&#13;
<td><p><a data-primary="-XX:MaxMetaspaceSize=N" data-type="indexterm" id="idm45775540179000"/>Sets the maximum size of the metaspace.</p></td>&#13;
<td><p>Lower this number to limit the amount of native space used by class metadata.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCMetaSpace">“Sizing Metaspace”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:ParallelGCThreads=<em><code>N</code></em></code></p></td>&#13;
<td><p><a data-primary="-XX:ParallelGCThreads=N" data-type="indexterm" id="idm45775540174408"/>Sets the number of threads used by the garbage collectors for foreground activities (e.g., collecting the young generation, and for throughput GC, collecting the old generation).</p></td>&#13;
<td><p>Lower this value on systems running many JVMs, or in Docker containers on Java 8 before update 192. Consider increasing it for JVMs with very large heaps on very large systems.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCParallelThreads">“Controlling Parallelism”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+UseAdaptiveSizePolicy</code></p></td>&#13;
<td><p><a data-primary="-XX:+UseAdaptiveSizePolicy" data-type="indexterm" id="idm45775540170040"/>When set, the JVM will resize various heap sizes to attempt to meet GC goals.</p></td>&#13;
<td><p>Turn this off if the heap sizes have been finely tuned.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCAdaptive">“Adaptive sizing”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:+PrintAdaptiveSizePolicy</code></span></p></td>&#13;
<td><p><a data-primary="-XX:+PrintAdaptiveSizePolicy" data-type="indexterm" id="idm45775540165512"/>Adds information about how generations are resized to the GC log.</p></td>&#13;
<td><p>Use this flag to gain an understanding of how the JVM is operating. When using G1, check this output to see if full GCs are triggered by humongous object allocation.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCAdaptive">“Adaptive sizing”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:+PrintTenuringDistribution</code></span></p></td>&#13;
<td><p><a data-primary="-XX:+PrintTenuringDistribution" data-type="indexterm" id="idm45775540160824"/>Adds tenuring information to the GC logs.</p></td>&#13;
<td><p>Use the tenuring information to determine if and how the tenuring options should be adjusted.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#SurvivorSpaces">“Tenuring and Survivor Spaces”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:InitialSurvivorRatio=<em><code>N</code></em></code></p></td>&#13;
<td><p><a data-primary="-XX:InitialSurvivorRatio=N" data-type="indexterm" id="idm45775540156104"/>Sets the amount of the young generation set aside for survivor spaces.</p></td>&#13;
<td><p>Increase this if short-lived objects are being promoted into the old generation too frequently.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#SurvivorSpaces">“Tenuring and Survivor Spaces”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:MinSurvivorRatio=<em><code>N</code></em></code></p></td>&#13;
<td><p><a data-primary="-XX:MinSurvivorRatio=N" data-type="indexterm" id="idm45775540151432"/>Sets the adaptive amount of the young generation set aside for survivor spaces.</p></td>&#13;
<td><p>Decreasing this value reduces the maximum size of the survivor spaces (and vice versa).</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#SurvivorSpaces">“Tenuring and Survivor Spaces”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:TargetSurvivorRatio=<em><code>N</code></em></code></p></td>&#13;
<td><p><a data-primary="-XX:TargetSurvivorRatio=N" data-type="indexterm" id="idm45775540146856"/>The amount of free space the JVM attempts to keep in the survivor spaces.</p></td>&#13;
<td><p>Increasing this value reduces the size of the survivor spaces (and vice versa).</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#SurvivorSpaces">“Tenuring and Survivor Spaces”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:InitialTenuringThreshold=<em><code>N</code></em></code></span></p></td>&#13;
<td><p><a data-primary="-XX:InitialTenuringThreshold=N" data-type="indexterm" id="idm45775540141688"/>The initial number of GC cycles the JVM attempts to keep an object in the survivor spaces.</p></td>&#13;
<td><p>Increase this number to keep objects in the survivor spaces longer, though be aware that the JVM will tune it.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#SurvivorSpaces">“Tenuring and Survivor Spaces”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:MaxTenuringThreshold=<em><code>N</code></em></code></p></td>&#13;
<td><p><a data-primary="-XX:MaxTenuringThreshold=N" data-type="indexterm" id="idm45775540137032"/>The maximum number of GC cycles the JVM attempts to keep an object in the survivor spaces.</p></td>&#13;
<td><p>Increase this number to keep objects in the survivor spaces longer; the JVM will tune the actual threshold between this value and the initial threshold.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#SurvivorSpaces">“Tenuring and Survivor Spaces”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+DisableExplicitGC&gt;</code></p></td>&#13;
<td><p><a data-primary="-XX:+DisableExplicitGC" data-type="indexterm" id="idm45775540132712"/>Prevents calls to <code>System.gc()</code> from having any effect.</p></td>&#13;
<td><p>Use to prevent bad applications from explicitly performing GC.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#ExplicitGC">“Causing and Disabling Explicit Garbage Collection”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:-AggressiveHeap</code></span></p></td>&#13;
<td><p><a data-primary="-XX:-AggressiveHeap" data-type="indexterm" id="idm45775540127784"/>Enables a set of tuning flags that are “optimized” for machines with a large amount of memory running a single JVM with a large heap.</p></td>&#13;
<td><p>It is better not to use this flag, and instead use specific flags as necessary<a data-startref="ix_appa-asciidoc1" data-type="indexterm" id="idm45775540126280"/>.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#AggressiveHeap">“AggressiveHeap”</a></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<table id="TableGCLogging">&#13;
<caption><span class="label">Table A-4. </span>Flags controlling GC logging</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Flag</th>&#13;
<th>What it does</th>&#13;
<th>When to use it</th>&#13;
<th>See also</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>-Xlog:gc*</code></p></td>&#13;
<td><p><a data-primary="-Xlog:gc*" data-type="indexterm" id="idm45775540118344"/><a data-primary="garbage collection (GC)" data-secondary="flags controlling logging" data-type="indexterm" id="idm45775540117640"/>Controls GC logging in Java 11.</p></td>&#13;
<td><p>GC logging should always be enabled, even in production. Unlike the following set of flags for Java 8, this flag controls all options to Java 11 GC logging; see the text for a mapping of options for this to Java 8 flags.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCLogging">“GC Tools”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-verbose:gc</code></p></td>&#13;
<td><p><a data-primary="-verbose:gc" data-type="indexterm" id="idm45775540113144"/>Enables basic GC logging in Java 8.</p></td>&#13;
<td><p>GC logging should always be enabled, but other, more detailed logs are generally better.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCLogging">“GC Tools”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-Xloggc:</code><em><code>&lt;path&gt;</code></em></p></td>&#13;
<td><p><a data-primary="-Xloggc:&lt;path&gt;" data-type="indexterm" id="idm45775540108568"/>In Java 8, directs the GC log to a special file rather than standard output.</p></td>&#13;
<td><p>Always, the better to preserve the information in the log.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCLogging">“GC Tools”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+PrintGC</code></p></td>&#13;
<td><p><a data-primary="-XX:+PrintGC" data-type="indexterm" id="idm45775540104568"/>Enables basic GC logging in Java 8.</p></td>&#13;
<td><p>GC logging should always be enabled, but other, more detailed logs are generally better.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCLogging">“GC Tools”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+PrintGCDetails</code></p></td>&#13;
<td><p><a data-primary="-XX:+PrintGCDetails" data-type="indexterm" id="idm45775540100408"/>Enables detailed GC logging in Java 8.</p></td>&#13;
<td><p>Always, even in production (the logging overhead is minimal).</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCLogging">“GC Tools”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+PrintGCTimeStamps</code></p></td>&#13;
<td><p><a data-primary="-XX:+PrintGCTimeStamps" data-type="indexterm" id="idm45775540096280"/>Prints a relative timestamp for each entry in the GC log in Java 8.</p></td>&#13;
<td><p>Always, unless datestamps are enabled.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCLogging">“GC Tools”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+PrintGCDateStamps</code></p></td>&#13;
<td><p><a data-primary="-XX:+PrintGCDateStamps" data-type="indexterm" id="idm45775540092152"/>Prints a time-of-day stamp for each entry in the GC log in Java 8.</p></td>&#13;
<td><p>Has slightly more overhead than timestamps, but may be easier to process.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCLogging">“GC Tools”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+PrintReferenceGC</code></p></td>&#13;
<td><p><a data-primary="-XX:+PrintReferenceGC" data-type="indexterm" id="idm45775540088072"/>Prints information about soft and weak reference processing during GC in Java 8.</p></td>&#13;
<td><p>If the program uses a lot of those references, add this flag to determine their effect on the GC overhead.</p></td>&#13;
<td><p><a data-type="xref" href="ch07.html#References">“Soft, Weak, and Other References”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+UseGCLogFileRotation</code></p></td>&#13;
<td><p><a data-primary="-XX:+UseGCLogFileRotation" data-type="indexterm" id="idm45775540083832"/>Enables rotations of the GC log to conserve file space in Java 8.</p></td>&#13;
<td><p>In production systems that run for weeks at a time when the GC logs can be expected to consume a lot of space.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCLogging">“GC Tools”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:NumberOfGCLogFiles=<em><code>N</code></em></code></span></p></td>&#13;
<td><p><a data-primary="-XX:NumberOfGCLogFiles=N" data-type="indexterm" id="idm45775540078392"/>When logfile rotation is enabled in Java 8, indicates the number of logfiles to retain.</p></td>&#13;
<td><p>In production systems that run for weeks at a time when the GC logs can be expected to consume a lot of space.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCLogging">“GC Tools”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:GCLogFileSize=<em><code>N</code></em></code></p></td>&#13;
<td><p><a data-primary="-XX:GCLogFileSize=N" data-type="indexterm" id="idm45775540073864"/>When logfile rotation is enabled in Java 8, indicates the size of each logfile before rotating it.</p></td>&#13;
<td><p>In production systems that run for weeks at a time when the GC logs can be expected to consume a lot of space.</p></td>&#13;
<td><p><a data-type="xref" href="ch05.html#GCLogging">“GC Tools”</a></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<table id="TableGCThroughputFlags">&#13;
<caption><span class="label">Table A-5. </span>Flags for the throughput collector</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Flag</th>&#13;
<th>What it does</th>&#13;
<th>When to use it</th>&#13;
<th>See also</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:MaxGCPauseMillis=<em><code>N</code></em></code></span></p></td>&#13;
<td><p><a data-primary="-XX:MaxGCPauseMillis=N" data-type="indexterm" id="idm45775540064568"/><a data-primary="throughput garbage collector" data-secondary="flags for" data-type="indexterm" id="idm45775540063928"/>Hints to the throughput collector how long pauses should be; the heap is dynamically sized to attempt to meet that goal.</p></td>&#13;
<td><p>As a first step in tuning the throughput collector if the default sizing it calculates doesn’t meet application goals.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#GCThroughput">“Adaptive and Static Heap Size Tuning”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:GCTimeRatio=<em><code>N</code></em></code></p></td>&#13;
<td><p><a data-primary="-XX:GCTimeRatio=N" data-type="indexterm" id="idm45775540058888"/>Hints to the throughput collector how much time you are willing to spend in GC; the heap is dynamically sized to attempt to meet that goal.</p></td>&#13;
<td><p>As a first step in tuning the throughput collector if the default sizing it calculates doesn’t meet application goals.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#GCThroughput">“Adaptive and Static Heap Size Tuning”</a></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<table id="TableGCG1Flags">&#13;
<caption><span class="label">Table A-6. </span>Flags for the G1 collector</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Flag</th>&#13;
<th>What it does</th>&#13;
<th>When to use it</th>&#13;
<th>See also</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:MaxGCPauseMillis=<em><code>N</code></em></code></span></p></td>&#13;
<td><p><a data-primary="G1 GC (garbage first garbage collector)" data-secondary="flags for" data-type="indexterm" id="idm45775540049240"/>Hints to the G1 collector how long pauses should be; the G1 algorithm is adjusted to attempt to meet that goal.</p></td>&#13;
<td><p>As a first step in tuning the G1 collector; increase this value to attempt to prevent full GCs.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#G1GCThreadTuning">“Tuning G1 GC”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:ConcGCThreads=<em><code>N</code></em></code></p></td>&#13;
<td><p><a data-primary="-XX:ConcGCThreads=N" data-type="indexterm" id="idm45775540044328"/>Sets the number of threads to use for G1 background scanning.</p></td>&#13;
<td><p>When lots of CPU is available and G1 is experiencing concurrent mode failures.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#G1GCThreadTuning">“Tuning G1 GC”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:InitiatingHeapOccupancyPercent=<em><code>N</code></em></code></span></p></td>&#13;
<td><p><a data-primary="-XX:InitiatingHeapOccupancyPercent=N" data-type="indexterm" id="idm45775540039512"/>Sets the point at which G1 background scanning begins.</p></td>&#13;
<td><p>Lower this value if G1 is experiencing concurrent mode failures.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#G1GCThreadTuning">“Tuning G1 GC”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:G1MixedGCCountTarget=<em><code>N</code></em></code></p></td>&#13;
<td><p><a data-primary="-XX:G1MixedGCCountTarget=N" data-type="indexterm" id="idm45775540034952"/>Sets the number of mixed GCs over which G1 attempts to free regions previously identified as containing mostly garbage.</p></td>&#13;
<td><p>Lower this value if G1 is experiencing concurrent mode failures; increase it if mixed GC cycles take too long.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#G1GCThreadTuning">“Tuning G1 GC”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:G1MixedGCCountTarget=<em><code>N</code></em></code></p></td>&#13;
<td><p>Sets the number of mixed GCs over which G1 attempts to free regions previously identified as containing mostly garbage.</p></td>&#13;
<td><p>Lower this value if G1 is experiencing concurrent mode failures; increase it if mixed GC cycles take too long.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#G1GCThreadTuning">“Tuning G1 GC”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:G1HeapRegionSize=<em><code>N</code></em></code></p></td>&#13;
<td><p><a data-primary="-XX:G1HeapRegionSize=N" data-type="indexterm" id="idm45775540026248"/>Sets the size of a G1 region.</p></td>&#13;
<td><p>Increase this value for very large heaps, or when the application allocates very, very large objects.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#GCG1RegionSize">“G1 GC region sizes”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+UseStringDeduplication</code></p></td>&#13;
<td><p><a data-primary="-XX:+UseStringDeduplication" data-type="indexterm" id="idm45775540022104"/>Allows G1 to eliminate duplicate strings.</p></td>&#13;
<td><p>Use for programs that have a lot of duplicate strings and when interning is impractical.</p></td>&#13;
<td><p><a data-type="xref" href="ch12.html#StringInterning">“Duplicate Strings and String Interning”</a></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<table id="TableGCCMSFlags">&#13;
<caption><span class="label">Table A-7. </span>Flags for the CMS collector</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Flag</th>&#13;
<th>What it does</th>&#13;
<th>When to use it</th>&#13;
<th>See also</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>-XX:CMSInitiating​OccupancyFraction</code><code>=<em>N</em></code></p></td>&#13;
<td><p><a data-primary="-XX:CMSInitiatingOccupancyFraction=N" data-type="indexterm" id="idm45775540013176"/><a data-primary="CMS garbage collector" data-secondary="flags for" data-type="indexterm" id="idm45775540012408"/>Determines when CMS should begin background scanning of the old generation.</p></td>&#13;
<td><p>When CMS experiences concurrent mode failures, reduces this value.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#GCCMS">“Understanding the CMS Collector”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+UseCMSInitiating​OccupancyOnly</code></p></td>&#13;
<td><p><a data-primary="-XX:+UseCMSInitiatingOccupancyOnly" data-type="indexterm" id="idm45775540008120"/>Causes CMS to use only <code>CMSInitiatingOccupancyFraction</code> to determine when to start CMS background scanning.</p></td>&#13;
<td><p>Whenever <code>CMSInitiatingOccupancyFraction</code> is specified.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#GCCMS">“Understanding the CMS Collector”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:ConcGCThreads=<em><code>N</code></em></code></p></td>&#13;
<td><p>Sets the number of threads to use for CMS background scanning.</p></td>&#13;
<td><p>When lots of CPU is available and CMS is experiencing concurrent mode failures.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#GCCMS">“Understanding the CMS Collector”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+CMSIncrementalMode</code></p></td>&#13;
<td><p><a data-primary="-XX:+CMSIncrementalMode" data-type="indexterm" id="idm45775539999160"/>Runs CMS in incremental mode.</p></td>&#13;
<td><p>No longer supported.</p></td>&#13;
<td><p>N/A</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<table id="TableMemoryFlags">&#13;
<caption><span class="label">Table A-8. </span>Flags for memory management</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Flag</th>&#13;
<th>What it does</th>&#13;
<th>When to use it</th>&#13;
<th>See also</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:+HeapDumpOnOutOfMemoryError</code></span></p></td>&#13;
<td><p><a data-primary="-XX:+HeapDumpOnOutOfMemoryError" data-type="indexterm" id="idm45775539990488"/><a data-primary="memory" data-secondary="flags for management" data-type="indexterm" id="idm45775539989752"/>Generates a heap dump when the JVM throws an out-of-memory error.</p></td>&#13;
<td><p>Enable this flag if the application throws out-of-memory errors due to the heap space or permgen, so the heap can be analyzed for memory leaks.</p></td>&#13;
<td><p><a data-type="xref" href="ch07.html#OOMError">“Out-of-Memory Errors”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:HeapDumpPath=&lt;path&gt;</code></p></td>&#13;
<td><p><a data-primary="-XX:HeapDumpPath=&lt;path&gt;" data-type="indexterm" id="idm45775539985272"/>Specifies the filename where automatic heap dumps should be written.</p></td>&#13;
<td><p>To specify a path other than <em>java_pid&lt;pid&gt;.hprof</em> for heap dumps generated on out-of-memory errors or GC events (when those options have been enabled).</p></td>&#13;
<td><p><a data-type="xref" href="ch07.html#OOMError">“Out-of-Memory Errors”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:GCTimeLimit=&lt;N&gt;</code></p></td>&#13;
<td><p><a data-primary="-XX:GCTimeLimit=&lt;N&gt;" data-type="indexterm" id="idm45775539980664"/>Specifies the amount of time the JVM can spend performing GC without throwing an <code>OutOfMemoryException</code>.</p></td>&#13;
<td><p>Lower this value to have the JVM throw an OOME sooner when the program is executing too many GC cycles.</p></td>&#13;
<td><p><a data-type="xref" href="ch07.html#OOMError">“Out-of-Memory Errors”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:HeapFreeLimit=&lt;N&gt;</code></p></td>&#13;
<td><p><a data-primary="-XX:HeapFreeLimit=&lt;N&gt;" data-type="indexterm" id="idm45775539976104"/>Specifies the amount of memory the JVM must free to prevent throwing an <code>OutOfMemoryException</code>.</p></td>&#13;
<td><p>Lower this value to have the JVM throw an OOME sooner when the program is executing too many GC cycles.</p></td>&#13;
<td><p><a data-type="xref" href="ch07.html#OOMError">“Out-of-Memory Errors”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:SoftRefLRUPolicyMSPerMB=<em><code>N</code></em></code></p></td>&#13;
<td><p><a data-primary="-XX:SoftRefLRUPolicyMSPerMB=N" data-type="indexterm" id="idm45775539970888"/>Controls how long soft references survive after being used.</p></td>&#13;
<td><p>Decrease this value to clean up soft references more quickly, particularly in low-memory conditions.</p></td>&#13;
<td><p><a data-type="xref" href="ch07.html#References">“Soft, Weak, and Other References”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:MaxDirectMemorySize=<em><code>N</code></em></code></p></td>&#13;
<td><p><a data-primary="-XX:MaxDirectMemorySize=N" data-type="indexterm" id="idm45775539966248"/>Controls how much native memory can be allocated via the <code>allocateDirect()</code> method of the <code>ByteBuffer</code> class.</p></td>&#13;
<td><p>Consider setting this if you want to limit the amount of direct memory a program can allocate. It is no longer necessary to set this flag to allocate more than 64 MB of direct memory.</p></td>&#13;
<td><p><a data-type="xref" href="ch08.html#NIOBuffers">“Native NIO buffers”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+UseLargePages</code></p></td>&#13;
<td><p><a data-primary="-XX:+UseLargePages" data-type="indexterm" id="idm45775539961048"/>Directs the JVM to allocate pages from the operating system’s large page system, if applicable.</p></td>&#13;
<td><p>If supported by the OS, this option will generally improve performance.</p></td>&#13;
<td><p><a data-type="xref" href="ch08.html#LargePages">“Large Pages”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+StringTableSize=<em><code>N</code></em></code></p></td>&#13;
<td><p><a data-primary="-XX:+StringTableSize=N" data-type="indexterm" id="idm45775539956408"/>Sets the size of the hash table the JVM uses to hold interned strings.</p></td>&#13;
<td><p>Increase this value if the application performs a significant amount of string interning.</p></td>&#13;
<td><p><a data-type="xref" href="ch12.html#StringInterning">“Duplicate Strings and String Interning”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+UseCompressedOops</code></p></td>&#13;
<td><p><a data-primary="-XX:+UseCompressedOops" data-type="indexterm" id="idm45775539952248"/>Emulates 35-bit pointers for object references.</p></td>&#13;
<td><p>This is the default for heaps that are less than 32 GB in size; there is never an advantage to disabling it.</p></td>&#13;
<td><p><a data-type="xref" href="ch07.html#CompressedOops">“Compressed Oops”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:+PrintTLAB</code></p></td>&#13;
<td><p><a data-primary="-XX:+PrintTLAB" data-type="indexterm" id="idm45775539948056"/>Prints summary information about TLABs in the GC log.</p></td>&#13;
<td><p>When using a JVM without support for JFR, use this to ensure that TLAB allocation is working efficiently.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#TLABS">“Thread-local allocation buffers”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:TLABSize=<em><code>N</code></em></code></p></td>&#13;
<td><p><a data-primary="-XX:TLABSize=N" data-type="indexterm" id="idm45775539943416"/>Sets the size of the TLABs.</p></td>&#13;
<td><p>When the application is performing a lot of allocation outside TLABs, use this value to increase the TLAB size.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#TLABS">“Thread-local allocation buffers”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-XX:-ResizeTLAB</code></p></td>&#13;
<td><p><a data-primary="-XX:-ResizeTLAB" data-type="indexterm" id="idm45775539939320"/>Disables resizing of TLABs.</p></td>&#13;
<td><p>Whenever <code>TLABSize</code> is specified, make sure to disable this flag.</p></td>&#13;
<td><p><a data-type="xref" href="ch06.html#TLABS">“Thread-local allocation buffers”</a></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<table id="TableNMT">&#13;
<caption><span class="label">Table A-9. </span>Flags for native memory tracking</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Flag</th>&#13;
<th>What it does</th>&#13;
<th>When to use it</th>&#13;
<th>See also</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:NativeMemoryTracking=<em>X</em></code></span></p></td>&#13;
<td><p><a data-primary="-XX:NativeMemoryTracking=X" data-type="indexterm" id="idm45775539929864"/><a data-primary="native memory" data-secondary="flags for tracking" data-type="indexterm" id="idm45775539929128"/>Enable Native Memory Tracking.</p></td>&#13;
<td><p>When you need to see what memory the JVM is using outside the heap.</p></td>&#13;
<td><p><a data-type="xref" href="ch08.html#NMT">“Native Memory Tracking”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:+PrintNMTStatistics</code></span></p></td>&#13;
<td><p><a data-primary="-XX:+PrintNMTStatistics" data-type="indexterm" id="idm45775539924488"/>Prints Native Memory Tracking statistics when the program terminates.</p></td>&#13;
<td><p>When you need to see what memory the JVM is using outside the heap.</p></td>&#13;
<td><p><a data-type="xref" href="ch08.html#NMT">“Native Memory Tracking”</a></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<table id="TableThreads">&#13;
<caption><span class="label">Table A-10. </span>Flags for thread handling</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Flag</th>&#13;
<th>What it does</th>&#13;
<th>When to use it</th>&#13;
<th>See also</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>-Xss&lt;N&gt;</code></p></td>&#13;
<td><p><a data-primary="-Xss&lt;N&gt;" data-type="indexterm" id="idm45775539916008"/><a data-primary="threads" data-secondary="flags for" data-type="indexterm" id="idm45775539915304"/>Sets the size of the native stack for threads.</p></td>&#13;
<td><p>Decrease this size to make more memory available for other parts of the JVM.</p></td>&#13;
<td><p><a data-type="xref" href="ch09.html#StackSize">“Tuning Thread Stack Sizes”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:-BiasedLocking</code></span></p></td>&#13;
<td><p><a data-primary="-XX:-BiasedLocking" data-type="indexterm" id="idm45775539910600"/>Disables the biased locking algorithm of the JVM.</p></td>&#13;
<td><p>Can help performance of thread pool–based applications.</p></td>&#13;
<td><p><a data-type="xref" href="ch09.html#BiasedLocking">“Biased Locking”</a></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<table id="TableMisc">&#13;
<caption><span class="label">Table A-11. </span>Miscellaneous JVM flags</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Flag</th>&#13;
<th>What it does</th>&#13;
<th>When to use it</th>&#13;
<th>See also</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:+CompactStrings</code></span></p></td>&#13;
<td><p><a data-primary="-XX:+CompactStrings" data-type="indexterm" id="idm45775539901752"/><a data-primary="Java Virtual Machine (JVM)" data-secondary="flags" data-type="indexterm" id="idm45775539901048"/>Uses 8-bit string representations when possible (Java 11 only).</p></td>&#13;
<td><p>Default; always use.</p></td>&#13;
<td><p><a data-type="xref" href="ch12.html#CompactStrings">“Compact Strings”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:-StackTraceInThrowable</code></span></p></td>&#13;
<td><p><a data-primary="-XX:-StackTraceInThrowable" data-type="indexterm" id="idm45775539896232"/>Prevents the stack trace from being gathered whenever an exception is thrown.</p></td>&#13;
<td><p>On systems with very deep stacks where exceptions are frequently thrown (and where fixing the code to throw fewer exceptions is not a possibility).</p></td>&#13;
<td><p><a data-type="xref" href="ch12.html#Exceptions">“Exceptions”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-Xshare</code></p></td>&#13;
<td><p><a data-primary="-Xshare" data-type="indexterm" id="idm45775539892040"/>Controls class data sharing.</p></td>&#13;
<td><p>Use this flag to make new CDS archives for application code.</p></td>&#13;
<td><p><a data-type="xref" href="ch12.html#ClassDataSharing">“Class Data Sharing”</a></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<table id="TableJFR">&#13;
<caption><span class="label">Table A-12. </span>Flags for Java Flight Recorder</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Flag</th>&#13;
<th>What it does</th>&#13;
<th>When to use it</th>&#13;
<th>See also</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:+FlightRecorder</code></span></p></td>&#13;
<td><p><a data-primary="-XX:+FlightRecorder" data-type="indexterm" id="idm45775539883144"/><a data-primary="Java Flight Recorder (JFR)" data-secondary="flags" data-type="indexterm" id="idm45775539882440"/>Enables Java Flight Recorder.</p></td>&#13;
<td><p>Enabling Flight Recorder is always recommended, as it has little overhead unless an actual recording is happening (in which case, the overhead will vary depending on the features used, but still be relatively small).</p></td>&#13;
<td><p><a data-type="xref" href="ch03.html#JFR">“Java Flight Recorder”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:+FlightRecorderOptions</code></span></p></td>&#13;
<td><p><a data-primary="-XX:+FlightRecorderOptions" data-type="indexterm" id="idm45775539877448"/>Sets options for a default recording via the command line (Java 8 only).</p></td>&#13;
<td><p>Control how a default recording can be made for the JVM.</p></td>&#13;
<td><p><a data-type="xref" href="ch03.html#JFR">“Java Flight Recorder”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:+StartFlightRecorder</code></span></p></td>&#13;
<td><p><a data-primary="-XX:+StartFlightRecorder" data-type="indexterm" id="idm45775539872840"/>Starts the JVM with the given Flight Recorder options.</p></td>&#13;
<td><p>Control how a default recording can be made for the JVM.</p></td>&#13;
<td><p><a data-type="xref" href="ch03.html#JFR">“Java Flight Recorder”</a></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><span class="keep-together"><code>-XX:+UnlockCommercialFeatures</code></span></p></td>&#13;
<td><p><a data-primary="-XX:+UnlockCommercialFeatures" data-type="indexterm" id="idm45775539868264"/>Allows the JVM to use commercial (non-open-source) features.</p></td>&#13;
<td><p>If you have the appropriate license, setting this flag is required to enable Java Flight Recorder in Java 8.</p></td>&#13;
<td><p><a data-type="xref" href="ch03.html#JFR">“Java Flight Recorder”</a><a data-startref="ix_appa-asciidoc0" data-type="indexterm" id="idm45775539865560"/></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></section></body></html>