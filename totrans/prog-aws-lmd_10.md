# 第十章 结论

本书的目标是让您了解在 AWS 上使用无服务器技术构建和运行应用程序的含义，其中 AWS Lambda 是这些系统的核心。我们希望您有信心这样做，了解到 Java 在无服务器世界中确实是一个一流的语言选择。

我们鼓励您反思本书中我们试图强调的一些要点：

+   最重要的是，要知道在无服务器系统中尝试各种想法是快速且廉价的。如果有疑问，就进行实验吧！

+   请记住 Lambda 代码只是“代码”。Lambda 不是一个框架，也不是传统意义上的“应用服务器”——您的 Lambda 函数只是处理 JSON 事件的小片段 Java 代码。这使得在 IDE 中进行单元测试和增量开发变得快速和灵活。同样，尽量不要使用不必要的为其他运行时模型设计的库和框架使您的函数臃肿。

+   自动化构建和部署函数到 AWS 云的脚本编写。您希望能够在处理生产事件的相同环境中快速迭代。使用本书中介绍的 Maven、SAM 和 CloudFormation 技术来实现这一点。

+   正如我们在 第六章 中展示的那样，大部分测试时间应花在快速单元测试和功能测试上，这些测试在一个 JVM 中与待测试的函数一起在本地运行，但也要投资于自动化的端到端测试，这些测试可以在 Lambda 平台上运行您的函数。

+   尽量使每个 Lambda 函数专注于解决一个任务。只需包含处理每个函数自身事件所需的代码和库。必要时，使用我们在 “使用多模块和隔离构建和打包” 中描述的代码共享。

+   不要害怕冷启动！通常情况下，一旦您的应用程序投入生产，它们就不会成为您的问题，或者如果有必要，您可以使用一个或多个补救技术。

+   适当地保护您的无服务器应用程序，考虑到最小特权原则，使用 AWS IAM。您的组织可能会部署数千个 Lambda 函数，因此您希望减少每个函数的影响范围，以减少错误或可能的恶意意图的影响。

+   请记住，在 Lambda 这个新世界中，日志记录和度量工作有所不同。尽量使用结构化日志记录；请记住，您希望能够观察到整个系统的行为，而不仅仅是单个函数。考虑哪些度量标志最能反映系统的健康状态，就您的用户而言。

+   在构建无服务器应用程序时，要采用“事件驱动”的思维方式。即使是同步调用的函数，也要考虑每次调用如何代表消息从一个组件传递到下一个组件。然后思考如何尽可能地使系统异步化。

+   不一定要放弃非无服务器服务。像关系数据库这样的东西可能仍然是您解决特定问题的最佳方式，特别是如果它们已经存在于您较大的生态系统中。但请仔细考虑在一个处理规模非常不同的世界中如何使用它们。

+   最后，无服务器不仅仅是 Lambda——考虑如何依靠 AWS 和其他提供商的 BaaS 产品来减少您需要编写和操作的代码量。即使您已经确定了特定的服务，也要调查其所有功能——它可能有一些隐藏的宝藏，可以为您节省数天甚至数周的工作时间。

希望您喜欢这本书，发现它有价值，并希望在未来的几个月和年中继续为您提供有用的资源。我们将继续撰写和讲述 Lambda 和其他 AWS 技术的学习和应用。

您可以在以下位置找到我们的工作：

+   在 Twitter 上[*https://twitter.com/symphoniacloud*](https://twitter.com/symphoniacloud)，[*https://twitter.com/johnchapin*](https://twitter.com/johnchapin)，和[*https://twitter.com/mikebroberts*](https://twitter.com/mikebroberts)

+   我们的博客在[*https://blog.symphonia.io*](https://blog.symphonia.io)

+   我们的网站在[*https://www.symphonia.io*](https://www.symphonia.io)

+   我们的 GitHub 存储库在[*https://github.com/symphoniacloud*](https://github.com/symphoniacloud)

当然，我们很乐意听到您的进展。请随时通过 johnandmike@symphonia.io 联系我们。

感谢阅读，加入无服务器行列吧！
