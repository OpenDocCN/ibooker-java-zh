<html><head></head><body><div id="sbo-rt-content"><section data-type="appendix" epub:type="appendix" data-pdf-bookmark="Appendix C. Knative"><div class="appendix" id="idm45128485767144">
<h1><span class="label">Appendix C. </span>Knative</h1>


<p><a data-type="indexterm" data-primary="Knative" id="idm45128485672984"/>In <a data-type="xref" href="ch10.xhtml#integrating_with_kubernetes_chapter">Chapter 10</a>, you need to have access to a Kubernetes cluster—it can be a minikube installation or any other kind.
But you also need Knative Serving installed to run the Knative recipe.
For this book, Kourier is used as an Ingress for Knative.</p>

<p>In this book, minikube 1.7.3, Kubernetes 1.17.3, Knative 0.13.0, and Kourier 0.3.12 were used.</p>

<p>To install Knative Serving, you need to run the following commands:</p>

<pre data-type="programlisting" data-code-language="shell-session"><code class="go">kubectl apply -f \</code>
<code class="go"> https://github.com/knative/serving/releases/download/v0.13.0/serving-core.yaml</code>
<code class="go">kubectl apply -f \</code>
<code class="go"> https://raw.githubusercontent.com/3scale/kourier/v0.3.12/deploy/\</code>
<code class="go"> kourier-knative.yaml</code></pre>

<p>Configure Knative Serving to use the proper <code>ingress.class</code>:</p>

<pre data-type="programlisting" data-code-language="shell-session"><code class="go">kubectl patch configmap/config-network \</code>
<code class="go">  -n knative-serving \</code>
<code class="go">  --type merge \</code>
<code class="go">  -p '{"data":{"clusteringress.class":"kourier.ingress.networking.knative.dev",</code>
<code class="go">               "ingress.class":"kourier.ingress.networking.knative.dev"}}'</code></pre>

<p>Set your desired domain; in this case, <code>127.0.0.1</code> is used because it runs in minikube:</p>

<pre data-type="programlisting" data-code-language="shell-session"><code class="go">kubectl patch configmap/config-domain \</code>
<code class="go">  -n knative-serving \</code>
<code class="go">  --type merge \</code>
<code class="go">  -p '{"data":{"127.0.0.1.nip.io":""}}'</code></pre>

<p>Now, you are ready start deploying Knative services.</p>
</div></section></div>



  </body></html>